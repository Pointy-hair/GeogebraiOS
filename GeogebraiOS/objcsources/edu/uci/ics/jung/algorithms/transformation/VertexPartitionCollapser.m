//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/edu/uci/ics/jung/algorithms/transformation/VertexPartitionCollapser.java
//


#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/algorithms/blockmodel/VertexPartition.h"
#include "edu/uci/ics/jung/algorithms/transformation/VertexPartitionCollapser.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "org/apache/commons/collections15/Factory.h"
#include "org/apache/commons/collections15/Transformer.h"
#include "org/apache/commons/collections15/functors/MapTransformer.h"

@implementation EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser

- (instancetype)initWithOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)graph_factory
                    withOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)vertex_factory
                    withOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)edge_factory {
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_(self, graph_factory, vertex_factory, edge_factory);
  return self;
}

- (id<EduUciIcsJungGraphGraph>)collapseVertexPartitionsWithEduUciIcsJungAlgorithmsBlockmodelVertexPartition:(EduUciIcsJungAlgorithmsBlockmodelVertexPartition *)partitioning {
  id<EduUciIcsJungGraphGraph> original = [((EduUciIcsJungAlgorithmsBlockmodelVertexPartition *) nil_chk(partitioning)) getGraph];
  id<EduUciIcsJungGraphGraph> collapsed = [((id<OrgApacheCommonsCollections15Factory>) nil_chk(graph_factory_)) create];
  for (id<JavaUtilSet> __strong set in nil_chk([partitioning getVertexPartitions])) {
    id cv = [((id<OrgApacheCommonsCollections15Factory>) nil_chk(vertex_factory_)) create];
    [((id<EduUciIcsJungGraphGraph>) nil_chk(collapsed)) addVertexWithId:[vertex_factory_ create]];
    [((id<JavaUtilMap>) nil_chk(set_collapsedv_)) putWithId:set withId:cv];
  }
  for (id __strong e in nil_chk([((id<EduUciIcsJungGraphGraph>) nil_chk(original)) getEdges])) {
    id<JavaUtilCollection> incident = [original getIncidentVerticesWithId:e];
    id<JavaUtilCollection> collapsed_vertices = [new_JavaUtilHashSet_init() autorelease];
    id<JavaUtilMap> vertex_partitions = [partitioning getVertexToPartitionMap];
    for (id __strong v in nil_chk(incident)) [collapsed_vertices addWithId:[((id<JavaUtilMap>) nil_chk(set_collapsedv_)) getWithId:[((id<JavaUtilMap>) nil_chk(vertex_partitions)) getWithId:v]]];
    if ([collapsed_vertices size] > 1) {
      id ce = [((id<OrgApacheCommonsCollections15Factory>) nil_chk(edge_factory_)) create];
      [((id<EduUciIcsJungGraphGraph>) nil_chk(collapsed)) addEdgeWithId:ce withJavaUtilCollection:collapsed_vertices];
    }
  }
  return collapsed;
}

- (id<OrgApacheCommonsCollections15Transformer>)getSetToCollapsedVertexTransformer {
  return OrgApacheCommonsCollections15FunctorsMapTransformer_getInstanceWithJavaUtilMap_(set_collapsedv_);
}

- (void)dealloc {
  RELEASE_(graph_factory_);
  RELEASE_(vertex_factory_);
  RELEASE_(edge_factory_);
  RELEASE_(set_collapsedv_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheCommonsCollections15Factory:withOrgApacheCommonsCollections15Factory:withOrgApacheCommonsCollections15Factory:", "VertexPartitionCollapser", NULL, 0x1, NULL, NULL },
    { "collapseVertexPartitionsWithEduUciIcsJungAlgorithmsBlockmodelVertexPartition:", "collapseVertexPartitions", "Ledu.uci.ics.jung.graph.Graph;", 0x1, NULL, NULL },
    { "getSetToCollapsedVertexTransformer", NULL, "Lorg.apache.commons.collections15.Transformer;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "graph_factory_", NULL, 0x4, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<Ledu/uci/ics/jung/graph/Graph<TCV;TCE;>;>;",  },
    { "vertex_factory_", NULL, 0x4, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<TCV;>;",  },
    { "edge_factory_", NULL, 0x4, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<TCE;>;",  },
    { "set_collapsedv_", NULL, 0x4, "Ljava.util.Map;", NULL, "Ljava/util/Map<Ljava/util/Set<TV;>;TCV;>;",  },
  };
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser = { 2, "VertexPartitionCollapser", "edu.uci.ics.jung.algorithms.transformation", NULL, 0x1, 3, methods, 4, fields, 0, NULL, 0, NULL, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;CV:Ljava/lang/Object;CE:Ljava/lang/Object;>Ljava/lang/Object;" };
  return &_EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser;
}

@end

void EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_(EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser *self, id<OrgApacheCommonsCollections15Factory> graph_factory, id<OrgApacheCommonsCollections15Factory> vertex_factory, id<OrgApacheCommonsCollections15Factory> edge_factory) {
  NSObject_init(self);
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_set_graph_factory_(self, graph_factory);
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_set_vertex_factory_(self, vertex_factory);
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_set_edge_factory_(self, edge_factory);
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_setAndConsume_set_collapsedv_(self, new_JavaUtilHashMap_init());
}

EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser *new_EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_(id<OrgApacheCommonsCollections15Factory> graph_factory, id<OrgApacheCommonsCollections15Factory> vertex_factory, id<OrgApacheCommonsCollections15Factory> edge_factory) {
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser *self = [EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser alloc];
  EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_(self, graph_factory, vertex_factory, edge_factory);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsTransformationVertexPartitionCollapser)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/edu/uci/ics/jung/algorithms/metrics/TriadicCensus.java
//


#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/algorithms/metrics/TriadicCensus.h"
#include "edu/uci/ics/jung/graph/DirectedGraph.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/HashSet.h"
#include "java/util/List.h"
#include "java/util/Set.h"
#include "org/apache/commons/collections15/CollectionUtils.h"

J2OBJC_INITIALIZED_DEFN(EduUciIcsJungAlgorithmsMetricsTriadicCensus)

IOSObjectArray *EduUciIcsJungAlgorithmsMetricsTriadicCensus_TRIAD_NAMES_;
jint EduUciIcsJungAlgorithmsMetricsTriadicCensus_MAX_TRIADS_;
IOSIntArray *EduUciIcsJungAlgorithmsMetricsTriadicCensus_codeToType_;

@implementation EduUciIcsJungAlgorithmsMetricsTriadicCensus

+ (IOSLongArray *)getCountsWithEduUciIcsJungGraphDirectedGraph:(id<EduUciIcsJungGraphDirectedGraph>)g {
  return EduUciIcsJungAlgorithmsMetricsTriadicCensus_getCountsWithEduUciIcsJungGraphDirectedGraph_(g);
}

+ (jint)triCodeWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)g
                                    withId:(id)u
                                    withId:(id)v
                                    withId:(id)w {
  return EduUciIcsJungAlgorithmsMetricsTriadicCensus_triCodeWithEduUciIcsJungGraphGraph_withId_withId_withId_(g, u, v, w);
}

+ (jboolean)linkWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)g
                                     withId:(id)a
                                     withId:(id)b {
  return EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, a, b);
}

+ (jint)triTypeWithInt:(jint)triCode {
  return EduUciIcsJungAlgorithmsMetricsTriadicCensus_triTypeWithInt_(triCode);
}

+ (jboolean)shouldCountWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)g
                                  withJavaUtilList:(id<JavaUtilList>)id_
                                            withId:(id)u
                                            withId:(id)v
                                            withId:(id)w {
  return EduUciIcsJungAlgorithmsMetricsTriadicCensus_shouldCountWithEduUciIcsJungGraphGraph_withJavaUtilList_withId_withId_withId_(g, id_, u, v, w);
}

- (instancetype)init {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_init(self);
  return self;
}

+ (void)initialize {
  if (self == [EduUciIcsJungAlgorithmsMetricsTriadicCensus class]) {
    EduUciIcsJungAlgorithmsMetricsTriadicCensus_TRIAD_NAMES_ = [IOSObjectArray newArrayWithObjects:(id[]){ @"N/A", @"003", @"012", @"102", @"021D", @"021U", @"021C", @"111D", @"111U", @"030T", @"030C", @"201", @"120D", @"120U", @"120C", @"210", @"300" } count:17 type:NSString_class_()];
    EduUciIcsJungAlgorithmsMetricsTriadicCensus_MAX_TRIADS_ = EduUciIcsJungAlgorithmsMetricsTriadicCensus_TRIAD_NAMES_->size_;
    EduUciIcsJungAlgorithmsMetricsTriadicCensus_codeToType_ = [IOSIntArray newArrayWithInts:(jint[]){ 1, 2, 2, 3, 2, 4, 6, 8, 2, 6, 5, 7, 3, 8, 7, 11, 2, 6, 4, 8, 5, 9, 9, 13, 6, 10, 9, 14, 7, 14, 12, 15, 2, 5, 6, 7, 6, 9, 10, 14, 4, 9, 9, 12, 8, 13, 14, 15, 3, 7, 8, 11, 7, 12, 14, 15, 8, 14, 13, 15, 11, 15, 15, 16 } count:64];
    J2OBJC_SET_INITIALIZED(EduUciIcsJungAlgorithmsMetricsTriadicCensus)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getCountsWithEduUciIcsJungGraphDirectedGraph:", "getCounts", "[J", 0x9, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>(Ledu/uci/ics/jung/graph/DirectedGraph<TV;TE;>;)[J" },
    { "triCodeWithEduUciIcsJungGraphGraph:withId:withId:withId:", "triCode", "I", 0x9, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TV;TV;TV;)I" },
    { "linkWithEduUciIcsJungGraphGraph:withId:withId:", "link", "Z", 0xc, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TV;TV;)Z" },
    { "triTypeWithInt:", "triType", "I", 0x9, NULL, NULL },
    { "shouldCountWithEduUciIcsJungGraphGraph:withJavaUtilList:withId:withId:withId:", "shouldCount", "Z", 0xc, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;Ljava/util/List<TV;>;TV;TV;TV;)Z" },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "TRIAD_NAMES_", NULL, 0x19, "[Ljava.lang.String;", &EduUciIcsJungAlgorithmsMetricsTriadicCensus_TRIAD_NAMES_, NULL,  },
    { "MAX_TRIADS_", NULL, 0x19, "I", &EduUciIcsJungAlgorithmsMetricsTriadicCensus_MAX_TRIADS_, NULL,  },
    { "codeToType_", NULL, 0x1c, "[I", &EduUciIcsJungAlgorithmsMetricsTriadicCensus_codeToType_, NULL,  },
  };
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsMetricsTriadicCensus = { 2, "TriadicCensus", "edu.uci.ics.jung.algorithms.metrics", NULL, 0x1, 6, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_EduUciIcsJungAlgorithmsMetricsTriadicCensus;
}

@end

IOSLongArray *EduUciIcsJungAlgorithmsMetricsTriadicCensus_getCountsWithEduUciIcsJungGraphDirectedGraph_(id<EduUciIcsJungGraphDirectedGraph> g) {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_initialize();
  IOSLongArray *count = [IOSLongArray newArrayWithLength:EduUciIcsJungAlgorithmsMetricsTriadicCensus_MAX_TRIADS_];
  id<JavaUtilList> id_ = new_JavaUtilArrayList_initWithJavaUtilCollection_([((id<EduUciIcsJungGraphDirectedGraph>) nil_chk(g)) getVertices]);
  for (jint i_v = 0; i_v < [g getVertexCount]; i_v++) {
    id v = [id_ getWithInt:i_v];
    for (id __strong u in nil_chk([g getNeighborsWithId:v])) {
      jint triType = -1;
      if ([id_ indexOfWithId:u] <= i_v) continue;
      id<JavaUtilSet> neighbors = new_JavaUtilHashSet_initWithJavaUtilCollection_(OrgApacheCommonsCollections15CollectionUtils_union__WithJavaUtilCollection_withJavaUtilCollection_([g getNeighborsWithId:u], [g getNeighborsWithId:v]));
      [neighbors removeWithId:u];
      [neighbors removeWithId:v];
      if ([g isSuccessorWithId:v withId:u] && [g isSuccessorWithId:u withId:v]) {
        triType = 3;
      }
      else {
        triType = 2;
      }
      *IOSLongArray_GetRef(count, triType) += [g getVertexCount] - [neighbors size] - 2;
      for (id __strong w in neighbors) {
        if (EduUciIcsJungAlgorithmsMetricsTriadicCensus_shouldCountWithEduUciIcsJungGraphGraph_withJavaUtilList_withId_withId_withId_(g, id_, u, v, w)) {
          (*IOSLongArray_GetRef(count, EduUciIcsJungAlgorithmsMetricsTriadicCensus_triTypeWithInt_(EduUciIcsJungAlgorithmsMetricsTriadicCensus_triCodeWithEduUciIcsJungGraphGraph_withId_withId_withId_(g, u, v, w))))++;
        }
      }
    }
  }
  jint sum = 0;
  for (jint i = 2; i <= 16; i++) {
    sum += IOSLongArray_Get(count, i);
  }
  jint n = [g getVertexCount];
  *IOSLongArray_GetRef(count, 1) = n * (n - 1) * (n - 2) / 6 - sum;
  return count;
}

jint EduUciIcsJungAlgorithmsMetricsTriadicCensus_triCodeWithEduUciIcsJungGraphGraph_withId_withId_withId_(id<EduUciIcsJungGraphGraph> g, id u, id v, id w) {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_initialize();
  jint i = 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, v, u) ? 1 : 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, u, v) ? 2 : 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, v, w) ? 4 : 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, w, v) ? 8 : 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, u, w) ? 16 : 0;
  i += EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(g, w, u) ? 32 : 0;
  return i;
}

jboolean EduUciIcsJungAlgorithmsMetricsTriadicCensus_linkWithEduUciIcsJungGraphGraph_withId_withId_(id<EduUciIcsJungGraphGraph> g, id a, id b) {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_initialize();
  return [((id<EduUciIcsJungGraphGraph>) nil_chk(g)) isPredecessorWithId:b withId:a];
}

jint EduUciIcsJungAlgorithmsMetricsTriadicCensus_triTypeWithInt_(jint triCode) {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_initialize();
  return IOSIntArray_Get(nil_chk(EduUciIcsJungAlgorithmsMetricsTriadicCensus_codeToType_), triCode);
}

jboolean EduUciIcsJungAlgorithmsMetricsTriadicCensus_shouldCountWithEduUciIcsJungGraphGraph_withJavaUtilList_withId_withId_withId_(id<EduUciIcsJungGraphGraph> g, id<JavaUtilList> id_, id u, id v, id w) {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_initialize();
  jint i_u = [((id<JavaUtilList>) nil_chk(id_)) indexOfWithId:u];
  jint i_w = [id_ indexOfWithId:w];
  if (i_u < i_w) return YES;
  jint i_v = [id_ indexOfWithId:v];
  if ((i_v < i_w) && (i_w < i_u) && (![((id<EduUciIcsJungGraphGraph>) nil_chk(g)) isNeighborWithId:w withId:v])) return YES;
  return NO;
}

void EduUciIcsJungAlgorithmsMetricsTriadicCensus_init(EduUciIcsJungAlgorithmsMetricsTriadicCensus *self) {
  (void) NSObject_init(self);
}

EduUciIcsJungAlgorithmsMetricsTriadicCensus *new_EduUciIcsJungAlgorithmsMetricsTriadicCensus_init() {
  EduUciIcsJungAlgorithmsMetricsTriadicCensus *self = [EduUciIcsJungAlgorithmsMetricsTriadicCensus alloc];
  EduUciIcsJungAlgorithmsMetricsTriadicCensus_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsMetricsTriadicCensus)

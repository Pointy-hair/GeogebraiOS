//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/edu/uci/ics/jung/algorithms/generators/random/ErdosRenyiGenerator.java
//


#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/algorithms/generators/random/ErdosRenyiGenerator.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "edu/uci/ics/jung/graph/UndirectedGraph.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/List.h"
#include "java/util/Random.h"
#include "org/apache/commons/collections15/Factory.h"

@interface EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator () {
 @public
  jint mNumVertices_;
  jdouble mEdgeConnectionProbability_;
  JavaUtilRandom *mRandom_;
}

@end

J2OBJC_FIELD_SETTER(EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator, mRandom_, JavaUtilRandom *)

@implementation EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator

- (instancetype)initWithOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)graphFactory
                    withOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)vertexFactory
                    withOrgApacheCommonsCollections15Factory:(id<OrgApacheCommonsCollections15Factory>)edgeFactory
                                                     withInt:(jint)numVertices
                                                  withDouble:(jdouble)p {
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withInt_withDouble_(self, graphFactory, vertexFactory, edgeFactory, numVertices, p);
  return self;
}

- (id<EduUciIcsJungGraphGraph>)create {
  id<EduUciIcsJungGraphUndirectedGraph> g = [((id<OrgApacheCommonsCollections15Factory>) nil_chk(graphFactory_)) create];
  for (jint i = 0; i < mNumVertices_; i++) {
    [((id<EduUciIcsJungGraphUndirectedGraph>) nil_chk(g)) addVertexWithId:[((id<OrgApacheCommonsCollections15Factory>) nil_chk(vertexFactory_)) create]];
  }
  id<JavaUtilList> list = [new_JavaUtilArrayList_initWithJavaUtilCollection_([((id<EduUciIcsJungGraphUndirectedGraph>) nil_chk(g)) getVertices]) autorelease];
  for (jint i = 0; i < mNumVertices_ - 1; i++) {
    id v_i = [list getWithInt:i];
    for (jint j = i + 1; j < mNumVertices_; j++) {
      id v_j = [list getWithInt:j];
      if ([((JavaUtilRandom *) nil_chk(mRandom_)) nextDouble] < mEdgeConnectionProbability_) {
        [g addEdgeWithId:[((id<OrgApacheCommonsCollections15Factory>) nil_chk(edgeFactory_)) create] withId:v_i withId:v_j];
      }
    }
  }
  return g;
}

- (void)setSeedWithLong:(jlong)seed {
  [((JavaUtilRandom *) nil_chk(mRandom_)) setSeedWithLong:seed];
}

- (void)dealloc {
  RELEASE_(mRandom_);
  RELEASE_(graphFactory_);
  RELEASE_(vertexFactory_);
  RELEASE_(edgeFactory_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheCommonsCollections15Factory:withOrgApacheCommonsCollections15Factory:withOrgApacheCommonsCollections15Factory:withInt:withDouble:", "ErdosRenyiGenerator", NULL, 0x1, NULL, NULL },
    { "create", NULL, "Ledu.uci.ics.jung.graph.Graph;", 0x1, NULL, NULL },
    { "setSeedWithLong:", "setSeed", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "mNumVertices_", NULL, 0x2, "I", NULL, NULL,  },
    { "mEdgeConnectionProbability_", NULL, 0x2, "D", NULL, NULL,  },
    { "mRandom_", NULL, 0x2, "Ljava.util.Random;", NULL, NULL,  },
    { "graphFactory_", NULL, 0x0, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<Ledu/uci/ics/jung/graph/UndirectedGraph<TV;TE;>;>;",  },
    { "vertexFactory_", NULL, 0x0, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<TV;>;",  },
    { "edgeFactory_", NULL, 0x0, "Lorg.apache.commons.collections15.Factory;", NULL, "Lorg/apache/commons/collections15/Factory<TE;>;",  },
  };
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator = { 2, "ErdosRenyiGenerator", "edu.uci.ics.jung.algorithms.generators.random", NULL, 0x1, 3, methods, 6, fields, 0, NULL, 0, NULL, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>Ljava/lang/Object;Ledu/uci/ics/jung/algorithms/generators/GraphGenerator<TV;TE;>;" };
  return &_EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator;
}

@end

void EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withInt_withDouble_(EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator *self, id<OrgApacheCommonsCollections15Factory> graphFactory, id<OrgApacheCommonsCollections15Factory> vertexFactory, id<OrgApacheCommonsCollections15Factory> edgeFactory, jint numVertices, jdouble p) {
  NSObject_init(self);
  if (numVertices <= 0) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"A positive # of vertices must be specified.") autorelease];
  }
  self->mNumVertices_ = numVertices;
  if (p < 0 || p > 1) {
    @throw [new_JavaLangIllegalArgumentException_initWithNSString_(@"p must be between 0 and 1.") autorelease];
  }
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_set_graphFactory_(self, graphFactory);
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_set_vertexFactory_(self, vertexFactory);
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_set_edgeFactory_(self, edgeFactory);
  self->mEdgeConnectionProbability_ = p;
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_setAndConsume_mRandom_(self, new_JavaUtilRandom_init());
}

EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator *new_EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withInt_withDouble_(id<OrgApacheCommonsCollections15Factory> graphFactory, id<OrgApacheCommonsCollections15Factory> vertexFactory, id<OrgApacheCommonsCollections15Factory> edgeFactory, jint numVertices, jdouble p) {
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator *self = [EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator alloc];
  EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator_initWithOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withOrgApacheCommonsCollections15Factory_withInt_withDouble_(self, graphFactory, vertexFactory, edgeFactory, numVertices, p);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsGeneratorsRandomErdosRenyiGenerator)

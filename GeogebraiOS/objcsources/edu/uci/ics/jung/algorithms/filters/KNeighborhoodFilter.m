//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/edu/uci/ics/jung/algorithms/filters/KNeighborhoodFilter.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/algorithms/filters/KNeighborhoodFilter.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "edu/uci/ics/jung/graph/util/Pair.h"
#include "java/lang/Enum.h"
#include "java/lang/Exception.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/RuntimeException.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/HashSet.h"
#include "java/util/List.h"
#include "java/util/Set.h"

@interface EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter () {
 @public
  id<JavaUtilSet> rootNodes_;
  jint radiusK_;
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *edgeType_;
}

@end

J2OBJC_FIELD_SETTER(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter, rootNodes_, id<JavaUtilSet>)
J2OBJC_FIELD_SETTER(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter, edgeType_, EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *)

__attribute__((unused)) static void EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *self, NSString *__name, jint __ordinal);

__attribute__((unused)) static EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) NS_RETURNS_RETAINED;

@implementation EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter

- (instancetype)initWithJavaUtilSet:(id<JavaUtilSet>)rootNodes
                            withInt:(jint)radiusK
withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum:(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *)edgeType {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithJavaUtilSet_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(self, rootNodes, radiusK, edgeType);
  return self;
}

- (instancetype)initWithId:(id)rootNode
                   withInt:(jint)radiusK
withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum:(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *)edgeType {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithId_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(self, rootNode, radiusK, edgeType);
  return self;
}

- (id<EduUciIcsJungGraphGraph>)transformWithId:(id<EduUciIcsJungGraphGraph>)graph {
  jint currentDepth = 0;
  id<JavaUtilList> currentVertices = [new_JavaUtilArrayList_init() autorelease];
  id<JavaUtilSet> visitedVertices = [new_JavaUtilHashSet_init() autorelease];
  id<JavaUtilSet> visitedEdges = [new_JavaUtilHashSet_init() autorelease];
  id<JavaUtilSet> acceptedVertices = [new_JavaUtilHashSet_init() autorelease];
  for (id __strong currentRoot in nil_chk(rootNodes_)) {
    [visitedVertices addWithId:currentRoot];
    [acceptedVertices addWithId:currentRoot];
    [currentVertices addWithId:currentRoot];
  }
  JavaUtilArrayList *newVertices = nil;
  while (currentDepth < radiusK_) {
    newVertices = [new_JavaUtilArrayList_init() autorelease];
    for (id __strong currentVertex in currentVertices) {
      id<JavaUtilCollection> edges = nil;
      switch ([edgeType_ ordinal]) {
        case EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeType_IN_OUT:
        edges = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getIncidentEdgesWithId:currentVertex];
        break;
        case EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeType_IN:
        edges = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getInEdgesWithId:currentVertex];
        break;
        case EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeType_OUT:
        edges = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getOutEdgesWithId:currentVertex];
        break;
      }
      for (id __strong currentEdge in nil_chk(edges)) {
        id currentNeighbor = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getOppositeWithId:currentVertex withId:currentEdge];
        if (![visitedEdges containsWithId:currentEdge]) {
          [visitedEdges addWithId:currentEdge];
          if (![visitedVertices containsWithId:currentNeighbor]) {
            [visitedVertices addWithId:currentNeighbor];
            [acceptedVertices addWithId:currentNeighbor];
            [newVertices addWithId:currentNeighbor];
          }
        }
      }
    }
    currentVertices = newVertices;
    currentDepth++;
  }
  id<EduUciIcsJungGraphGraph> ug = nil;
  @try {
    ug = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) newInstance];
    for (id __strong edge in nil_chk([graph getEdges])) {
      EduUciIcsJungGraphUtilPair *endpoints = [graph getEndpointsWithId:edge];
      if ([acceptedVertices containsAllWithJavaUtilCollection:endpoints]) {
        [((id<EduUciIcsJungGraphGraph>) nil_chk(ug)) addEdgeWithId:edge withId:[((EduUciIcsJungGraphUtilPair *) nil_chk(endpoints)) getFirst] withId:[endpoints getSecond]];
      }
    }
  }
  @catch (JavaLangException *e) {
    @throw [new_JavaLangRuntimeException_initWithNSString_withJavaLangThrowable_(@"Unable to create copy of existing graph: ", e) autorelease];
  }
  return ug;
}

- (void)dealloc {
  RELEASE_(rootNodes_);
  RELEASE_(edgeType_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithJavaUtilSet:withInt:withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum:", "KNeighborhoodFilter", NULL, 0x1, NULL, NULL },
    { "initWithId:withInt:withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum:", "KNeighborhoodFilter", NULL, 0x1, NULL, "(TV;ILedu/uci/ics/jung/algorithms/filters/KNeighborhoodFilter$EdgeType;)V" },
    { "transformWithId:", "transform", "Ledu.uci.ics.jung.graph.Graph;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "rootNodes_", NULL, 0x2, "Ljava.util.Set;", NULL, "Ljava/util/Set<TV;>;",  },
    { "radiusK_", NULL, 0x2, "I", NULL, NULL,  },
    { "edgeType_", NULL, 0x2, "Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;"};
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter = { 2, "KNeighborhoodFilter", "edu.uci.ics.jung.algorithms.filters", NULL, 0x1, 3, methods, 3, fields, 0, NULL, 1, inner_classes, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>Ljava/lang/Object;Ledu/uci/ics/jung/algorithms/filters/Filter<TV;TE;>;" };
  return &_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter;
}

@end

void EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithJavaUtilSet_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *self, id<JavaUtilSet> rootNodes, jint radiusK, EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *edgeType) {
  NSObject_init(self);
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_set_rootNodes_(self, rootNodes);
  self->radiusK_ = radiusK;
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_set_edgeType_(self, edgeType);
}

EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithJavaUtilSet_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(id<JavaUtilSet> rootNodes, jint radiusK, EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *edgeType) {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *self = [EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter alloc];
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithJavaUtilSet_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(self, rootNodes, radiusK, edgeType);
  return self;
}

void EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithId_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *self, id rootNode, jint radiusK, EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *edgeType) {
  NSObject_init(self);
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_setAndConsume_rootNodes_(self, new_JavaUtilHashSet_init());
  [self->rootNodes_ addWithId:rootNode];
  self->radiusK_ = radiusK;
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_set_edgeType_(self, edgeType);
}

EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithId_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(id rootNode, jint radiusK, EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *edgeType) {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter *self = [EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter alloc];
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_initWithId_withInt_withEduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_(self, rootNode, radiusK, edgeType);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter)

J2OBJC_INITIALIZED_DEFN(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum)

EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_values_[3];

@implementation EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum

- (instancetype)initWithNSString:(NSString *)__name
                         withInt:(jint)__ordinal {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

IOSObjectArray *EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_values() {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initialize();
  return [IOSObjectArray arrayWithObjects:EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_values_ count:3 type:EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_class_()];
}

+ (IOSObjectArray *)values {
  return EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_values();
}

+ (EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *)valueOfWithNSString:(NSString *)name {
  return EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_valueOfWithNSString_(name);
}

EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_valueOfWithNSString_(NSString *name) {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initialize();
  for (int i = 0; i < 3; i++) {
    EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *e = EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[[JavaLangIllegalArgumentException alloc] initWithNSString:name] autorelease];
  return nil;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self retain];
}

+ (void)initialize {
  if (self == [EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum class]) {
    EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_IN_OUT = new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(@"IN_OUT", 0);
    EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_IN = new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(@"IN", 1);
    EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_OUT = new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(@"OUT", 2);
    J2OBJC_SET_INITIALIZED(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcFieldInfo fields[] = {
    { "IN_OUT", "IN_OUT", 0x4019, "Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;", &EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_IN_OUT, NULL,  },
    { "IN", "IN", 0x4019, "Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;", &EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_IN, NULL,  },
    { "OUT", "OUT", 0x4019, "Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;", &EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_OUT, NULL,  },
  };
  static const char *superclass_type_args[] = {"Ledu.uci.ics.jung.algorithms.filters.KNeighborhoodFilter$EdgeType;"};
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum = { 2, "EdgeType", "edu.uci.ics.jung.algorithms.filters", "KNeighborhoodFilter", 0x4019, 0, NULL, 3, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/lang/Enum<Ledu/uci/ics/jung/algorithms/filters/KNeighborhoodFilter$EdgeType;>;" };
  return &_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum;
}

@end

void EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *new_EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) {
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum *self = [EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum alloc];
  EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsFiltersKNeighborhoodFilter_EdgeTypeEnum)

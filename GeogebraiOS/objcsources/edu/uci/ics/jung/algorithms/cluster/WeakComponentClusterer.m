//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/edu/uci/ics/jung/algorithms/cluster/WeakComponentClusterer.java
//


#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/algorithms/cluster/WeakComponentClusterer.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "java/util/Collection.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/Set.h"
#include "org/apache/commons/collections15/Buffer.h"
#include "org/apache/commons/collections15/buffer/UnboundedFifoBuffer.h"

@implementation EduUciIcsJungAlgorithmsClusterWeakComponentClusterer

- (id<JavaUtilSet>)transformWithId:(id<EduUciIcsJungGraphGraph>)graph {
  id<JavaUtilSet> clusterSet = new_JavaUtilHashSet_init();
  JavaUtilHashSet *unvisitedVertices = new_JavaUtilHashSet_initWithJavaUtilCollection_([((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getVertices]);
  while (![unvisitedVertices isEmpty]) {
    id<JavaUtilSet> cluster = new_JavaUtilHashSet_init();
    id root = [((id<JavaUtilIterator>) nil_chk([unvisitedVertices iterator])) next];
    [unvisitedVertices removeWithId:root];
    [cluster addWithId:root];
    id<OrgApacheCommonsCollections15Buffer> queue = new_OrgApacheCommonsCollections15BufferUnboundedFifoBuffer_init();
    [queue addWithId:root];
    while (![queue isEmpty]) {
      id currentVertex = [queue remove];
      id<JavaUtilCollection> neighbors = [graph getNeighborsWithId:currentVertex];
      for (id __strong neighbor in nil_chk(neighbors)) {
        if ([unvisitedVertices containsWithId:neighbor]) {
          [queue addWithId:neighbor];
          [unvisitedVertices removeWithId:neighbor];
          [cluster addWithId:neighbor];
        }
      }
    }
    [clusterSet addWithId:cluster];
  }
  return clusterSet;
}

- (instancetype)init {
  EduUciIcsJungAlgorithmsClusterWeakComponentClusterer_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "transformWithId:", "transform", "Ljava.util.Set;", 0x1, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _EduUciIcsJungAlgorithmsClusterWeakComponentClusterer = { 2, "WeakComponentClusterer", "edu.uci.ics.jung.algorithms.cluster", NULL, 0x1, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>Ljava/lang/Object;Lorg/apache/commons/collections15/Transformer<Ledu/uci/ics/jung/graph/Graph<TV;TE;>;Ljava/util/Set<Ljava/util/Set<TV;>;>;>;" };
  return &_EduUciIcsJungAlgorithmsClusterWeakComponentClusterer;
}

@end

void EduUciIcsJungAlgorithmsClusterWeakComponentClusterer_init(EduUciIcsJungAlgorithmsClusterWeakComponentClusterer *self) {
  (void) NSObject_init(self);
}

EduUciIcsJungAlgorithmsClusterWeakComponentClusterer *new_EduUciIcsJungAlgorithmsClusterWeakComponentClusterer_init() {
  EduUciIcsJungAlgorithmsClusterWeakComponentClusterer *self = [EduUciIcsJungAlgorithmsClusterWeakComponentClusterer alloc];
  EduUciIcsJungAlgorithmsClusterWeakComponentClusterer_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungAlgorithmsClusterWeakComponentClusterer)

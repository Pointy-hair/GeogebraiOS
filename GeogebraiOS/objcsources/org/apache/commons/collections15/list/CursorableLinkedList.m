//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/apache/commons/collections15/list/CursorableLinkedList.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/io/ObjectInputStream.h"
#include "java/io/ObjectOutputStream.h"
#include "java/lang/ClassNotFoundException.h"
#include "java/lang/ref/WeakReference.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/ConcurrentModificationException.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/ListIterator.h"
#include "org/apache/commons/collections15/list/AbstractLinkedList.h"
#include "org/apache/commons/collections15/list/CursorableLinkedList.h"

#define OrgApacheCommonsCollections15ListCursorableLinkedList_serialVersionUID 8836393098519411393LL

@interface OrgApacheCommonsCollections15ListCursorableLinkedList ()

- (void)writeObjectWithJavaIoObjectOutputStream:(JavaIoObjectOutputStream *)outArg;

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)inArg;

@end

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsCollections15ListCursorableLinkedList, serialVersionUID, jlong)

@implementation OrgApacheCommonsCollections15ListCursorableLinkedList

- (instancetype)init {
  OrgApacheCommonsCollections15ListCursorableLinkedList_init(self);
  return self;
}

- (instancetype)initWithJavaUtilCollection:(id<JavaUtilCollection>)coll {
  OrgApacheCommonsCollections15ListCursorableLinkedList_initWithJavaUtilCollection_(self, coll);
  return self;
}

- (void)init__ {
  [super init__];
  cursors_ = new_JavaUtilArrayList_init();
}

- (id<JavaUtilIterator>)iterator {
  return [super listIteratorWithInt:0];
}

- (id<JavaUtilListIterator>)listIterator {
  return [self cursorWithInt:0];
}

- (id<JavaUtilListIterator>)listIteratorWithInt:(jint)fromIndex {
  return [self cursorWithInt:fromIndex];
}

- (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *)cursor {
  return [self cursorWithInt:0];
}

- (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *)cursorWithInt:(jint)fromIndex {
  OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *cursor = new_OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor_initWithOrgApacheCommonsCollections15ListCursorableLinkedList_withInt_(self, fromIndex);
  [self registerCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:cursor];
  return cursor;
}

- (void)updateNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node
                                                                        withId:(id)value {
  [super updateNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node withId:value];
  [self broadcastNodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
}

- (void)addNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)nodeToInsert
               withOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)insertBeforeNode {
  [super addNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:nodeToInsert withOrgApacheCommonsCollections15ListAbstractLinkedList_Node:insertBeforeNode];
  [self broadcastNodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:nodeToInsert];
}

- (void)removeNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  [super removeNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
  [self broadcastNodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
}

- (void)removeAllNodes {
  if ([self size] > 0) {
    id<JavaUtilIterator> it = [self iterator];
    while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
      (void) [it next];
      [it remove];
    }
  }
}

- (void)registerCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:(OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *)cursor {
  for (id<JavaUtilIterator> it = [((id<JavaUtilList>) nil_chk(cursors_)) iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
    JavaLangRefWeakReference *ref = [it next];
    if ([((JavaLangRefWeakReference *) nil_chk(ref)) get] == nil) {
      [it remove];
    }
  }
  [cursors_ addWithId:new_JavaLangRefWeakReference_initWithId_(cursor)];
}

- (void)unregisterCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:(OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *)cursor {
  for (id<JavaUtilIterator> it = [((id<JavaUtilList>) nil_chk(cursors_)) iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext]; ) {
    JavaLangRefWeakReference *ref = (JavaLangRefWeakReference *) check_class_cast([it next], [JavaLangRefWeakReference class]);
    OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *cur = (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *) check_class_cast([((JavaLangRefWeakReference *) nil_chk(ref)) get], [OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor class]);
    if (cur == nil) {
      [it remove];
    }
    else if (cur == cursor) {
      [ref clear];
      [it remove];
      break;
    }
  }
}

- (void)broadcastNodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  id<JavaUtilIterator> it = [((id<JavaUtilList>) nil_chk(cursors_)) iterator];
  while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
    JavaLangRefWeakReference *ref = (JavaLangRefWeakReference *) check_class_cast([it next], [JavaLangRefWeakReference class]);
    OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *cursor = (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *) check_class_cast([((JavaLangRefWeakReference *) nil_chk(ref)) get], [OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor class]);
    if (cursor == nil) {
      [it remove];
    }
    else {
      [cursor nodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
    }
  }
}

- (void)broadcastNodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  id<JavaUtilIterator> it = [((id<JavaUtilList>) nil_chk(cursors_)) iterator];
  while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
    JavaLangRefWeakReference *ref = (JavaLangRefWeakReference *) check_class_cast([it next], [JavaLangRefWeakReference class]);
    OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *cursor = (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *) check_class_cast([((JavaLangRefWeakReference *) nil_chk(ref)) get], [OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor class]);
    if (cursor == nil) {
      [it remove];
    }
    else {
      [cursor nodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
    }
  }
}

- (void)broadcastNodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  id<JavaUtilIterator> it = [((id<JavaUtilList>) nil_chk(cursors_)) iterator];
  while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
    JavaLangRefWeakReference *ref = (JavaLangRefWeakReference *) check_class_cast([it next], [JavaLangRefWeakReference class]);
    OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *cursor = (OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *) check_class_cast([((JavaLangRefWeakReference *) nil_chk(ref)) get], [OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor class]);
    if (cursor == nil) {
      [it remove];
    }
    else {
      [cursor nodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:node];
    }
  }
}

- (void)writeObjectWithJavaIoObjectOutputStream:(JavaIoObjectOutputStream *)outArg {
  [((JavaIoObjectOutputStream *) nil_chk(outArg)) defaultWriteObject];
  [self doWriteObjectWithJavaIoObjectOutputStream:outArg];
}

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)inArg {
  [((JavaIoObjectInputStream *) nil_chk(inArg)) defaultReadObject];
  [self doReadObjectWithJavaIoObjectInputStream:inArg];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "CursorableLinkedList", NULL, 0x1, NULL, NULL },
    { "initWithJavaUtilCollection:", "CursorableLinkedList", NULL, 0x1, NULL, NULL },
    { "init__", "init", "V", 0x4, NULL, NULL },
    { "iterator", NULL, "Ljava.util.Iterator;", 0x1, NULL, NULL },
    { "listIterator", NULL, "Ljava.util.ListIterator;", 0x1, NULL, NULL },
    { "listIteratorWithInt:", "listIterator", "Ljava.util.ListIterator;", 0x1, NULL, NULL },
    { "cursor", NULL, "Lorg.apache.commons.collections15.list.CursorableLinkedList$Cursor;", 0x1, NULL, NULL },
    { "cursorWithInt:", "cursor", "Lorg.apache.commons.collections15.list.CursorableLinkedList$Cursor;", 0x1, NULL, NULL },
    { "updateNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:withId:", "updateNode", "V", 0x4, NULL, "(Lorg/apache/commons/collections15/list/AbstractLinkedList$Node<TE;>;TE;)V" },
    { "addNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:withOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "addNode", "V", 0x4, NULL, NULL },
    { "removeNodeWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "removeNode", "V", 0x4, NULL, NULL },
    { "removeAllNodes", NULL, "V", 0x4, NULL, NULL },
    { "registerCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:", "registerCursor", "V", 0x4, NULL, NULL },
    { "unregisterCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:", "unregisterCursor", "V", 0x4, NULL, NULL },
    { "broadcastNodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "broadcastNodeChanged", "V", 0x4, NULL, NULL },
    { "broadcastNodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "broadcastNodeRemoved", "V", 0x4, NULL, NULL },
    { "broadcastNodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "broadcastNodeInserted", "V", 0x4, NULL, NULL },
    { "writeObjectWithJavaIoObjectOutputStream:", "writeObject", "V", 0x2, "Ljava.io.IOException;", NULL },
    { "readObjectWithJavaIoObjectInputStream:", "readObject", "V", 0x2, "Ljava.io.IOException;Ljava.lang.ClassNotFoundException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = OrgApacheCommonsCollections15ListCursorableLinkedList_serialVersionUID },
    { "cursors_", NULL, 0x84, "Ljava.util.List;", NULL, "Ljava/util/List<Ljava/lang/ref/WeakReference<Lorg/apache/commons/collections15/list/CursorableLinkedList$Cursor<TE;>;>;>;",  },
  };
  static const char *superclass_type_args[] = {"TE;"};
  static const char *inner_classes[] = {"Lorg.apache.commons.collections15.list.CursorableLinkedList$Cursor;"};
  static const J2ObjcClassInfo _OrgApacheCommonsCollections15ListCursorableLinkedList = { 2, "CursorableLinkedList", "org.apache.commons.collections15.list", NULL, 0x1, 19, methods, 2, fields, 1, superclass_type_args, 1, inner_classes, NULL, "<E:Ljava/lang/Object;>Lorg/apache/commons/collections15/list/AbstractLinkedList<TE;>;Ljava/io/Serializable;" };
  return &_OrgApacheCommonsCollections15ListCursorableLinkedList;
}

@end

void OrgApacheCommonsCollections15ListCursorableLinkedList_init(OrgApacheCommonsCollections15ListCursorableLinkedList *self) {
  (void) OrgApacheCommonsCollections15ListAbstractLinkedList_init(self);
  self->cursors_ = new_JavaUtilArrayList_init();
  [self init__];
}

OrgApacheCommonsCollections15ListCursorableLinkedList *new_OrgApacheCommonsCollections15ListCursorableLinkedList_init() {
  OrgApacheCommonsCollections15ListCursorableLinkedList *self = [OrgApacheCommonsCollections15ListCursorableLinkedList alloc];
  OrgApacheCommonsCollections15ListCursorableLinkedList_init(self);
  return self;
}

void OrgApacheCommonsCollections15ListCursorableLinkedList_initWithJavaUtilCollection_(OrgApacheCommonsCollections15ListCursorableLinkedList *self, id<JavaUtilCollection> coll) {
  (void) OrgApacheCommonsCollections15ListAbstractLinkedList_initWithJavaUtilCollection_(self, coll);
  self->cursors_ = new_JavaUtilArrayList_init();
}

OrgApacheCommonsCollections15ListCursorableLinkedList *new_OrgApacheCommonsCollections15ListCursorableLinkedList_initWithJavaUtilCollection_(id<JavaUtilCollection> coll) {
  OrgApacheCommonsCollections15ListCursorableLinkedList *self = [OrgApacheCommonsCollections15ListCursorableLinkedList alloc];
  OrgApacheCommonsCollections15ListCursorableLinkedList_initWithJavaUtilCollection_(self, coll);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsCollections15ListCursorableLinkedList)

@implementation OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor

- (instancetype)initWithOrgApacheCommonsCollections15ListCursorableLinkedList:(OrgApacheCommonsCollections15ListCursorableLinkedList *)parent
                                                                      withInt:(jint)index {
  OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor_initWithOrgApacheCommonsCollections15ListCursorableLinkedList_withInt_(self, parent, index);
  return self;
}

- (void)addWithId:(id)obj {
  [super addWithId:obj];
  next__ = ((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(next__))->next_;
}

- (jint)nextIndex {
  if (nextIndexValid_ == NO) {
    if (next__ == ((OrgApacheCommonsCollections15ListAbstractLinkedList *) nil_chk(parent_))->header_) {
      nextIndex__ = [parent_ size];
    }
    else {
      jint pos = 0;
      OrgApacheCommonsCollections15ListAbstractLinkedList_Node *temp = ((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(parent_->header_))->next_;
      while (temp != next__) {
        pos++;
        temp = ((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(temp))->next_;
      }
      nextIndex__ = pos;
    }
    nextIndexValid_ = YES;
  }
  return nextIndex__;
}

- (void)nodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
}

- (void)nodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  if (node == next__) {
    next__ = ((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(node))->next_;
  }
  else if (node == current_) {
    current_ = nil;
    nextIndex__--;
  }
  else {
    nextIndexValid_ = NO;
  }
}

- (void)nodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:(OrgApacheCommonsCollections15ListAbstractLinkedList_Node *)node {
  if (((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(node))->previous_ == current_) {
    next__ = node;
  }
  else if (((OrgApacheCommonsCollections15ListAbstractLinkedList_Node *) nil_chk(next__))->previous_ == node) {
    next__ = node;
  }
  else {
    nextIndexValid_ = NO;
  }
}

- (void)checkModCount {
  if (!valid_) {
    @throw new_JavaUtilConcurrentModificationException_initWithNSString_(@"Cursor closed");
  }
}

- (void)close {
  if (valid_) {
    [((OrgApacheCommonsCollections15ListCursorableLinkedList *) nil_chk(((OrgApacheCommonsCollections15ListCursorableLinkedList *) check_class_cast(parent_, [OrgApacheCommonsCollections15ListCursorableLinkedList class])))) unregisterCursorWithOrgApacheCommonsCollections15ListCursorableLinkedList_Cursor:self];
    valid_ = NO;
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheCommonsCollections15ListCursorableLinkedList:withInt:", "Cursor", NULL, 0x4, NULL, NULL },
    { "addWithId:", "add", "V", 0x1, NULL, "(TE;)V" },
    { "nextIndex", NULL, "I", 0x1, NULL, NULL },
    { "nodeChangedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "nodeChanged", "V", 0x4, NULL, NULL },
    { "nodeRemovedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "nodeRemoved", "V", 0x4, NULL, NULL },
    { "nodeInsertedWithOrgApacheCommonsCollections15ListAbstractLinkedList_Node:", "nodeInserted", "V", 0x4, NULL, NULL },
    { "checkModCount", NULL, "V", 0x4, NULL, NULL },
    { "close", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "valid_", NULL, 0x0, "Z", NULL, NULL,  },
    { "nextIndexValid_", NULL, 0x0, "Z", NULL, NULL,  },
  };
  static const char *superclass_type_args[] = {"TE;"};
  static const J2ObjcClassInfo _OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor = { 2, "Cursor", "org.apache.commons.collections15.list", "CursorableLinkedList", 0x9, 8, methods, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "<E:Ljava/lang/Object;>Lorg/apache/commons/collections15/list/AbstractLinkedList$LinkedListIterator<TE;>;" };
  return &_OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor;
}

@end

void OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor_initWithOrgApacheCommonsCollections15ListCursorableLinkedList_withInt_(OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *self, OrgApacheCommonsCollections15ListCursorableLinkedList *parent, jint index) {
  (void) OrgApacheCommonsCollections15ListAbstractLinkedList_LinkedListIterator_initWithOrgApacheCommonsCollections15ListAbstractLinkedList_withInt_(self, parent, index);
  self->valid_ = YES;
  self->nextIndexValid_ = YES;
  self->valid_ = YES;
}

OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *new_OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor_initWithOrgApacheCommonsCollections15ListCursorableLinkedList_withInt_(OrgApacheCommonsCollections15ListCursorableLinkedList *parent, jint index) {
  OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor *self = [OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor alloc];
  OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor_initWithOrgApacheCommonsCollections15ListCursorableLinkedList_withInt_(self, parent, index);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsCollections15ListCursorableLinkedList_Cursor)

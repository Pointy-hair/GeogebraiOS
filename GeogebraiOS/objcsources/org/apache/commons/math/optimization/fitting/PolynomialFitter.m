//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/apache/commons/math/optimization/fitting/PolynomialFitter.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/RuntimeException.h"
#include "org/apache/commons/math/FunctionEvaluationException.h"
#include "org/apache/commons/math/analysis/polynomials/PolynomialFunction.h"
#include "org/apache/commons/math/optimization/DifferentiableMultivariateVectorialOptimizer.h"
#include "org/apache/commons/math/optimization/OptimizationException.h"
#include "org/apache/commons/math/optimization/fitting/CurveFitter.h"
#include "org/apache/commons/math/optimization/fitting/ParametricRealFunction.h"
#include "org/apache/commons/math/optimization/fitting/PolynomialFitter.h"

@interface OrgApacheCommonsMathOptimizationFittingPolynomialFitter () {
 @public
  OrgApacheCommonsMathOptimizationFittingCurveFitter *fitter_;
  jint degree_;
}

@end

J2OBJC_FIELD_SETTER(OrgApacheCommonsMathOptimizationFittingPolynomialFitter, fitter_, OrgApacheCommonsMathOptimizationFittingCurveFitter *)

@interface OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial : NSObject < OrgApacheCommonsMathOptimizationFittingParametricRealFunction >

- (IOSDoubleArray *)gradientWithDouble:(jdouble)x
                       withDoubleArray:(IOSDoubleArray *)parameters;

- (jdouble)valueWithDouble:(jdouble)x
           withDoubleArray:(IOSDoubleArray *)parameters;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial)

__attribute__((unused)) static void OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init(OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial *self);

__attribute__((unused)) static OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial *new_OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial)

@implementation OrgApacheCommonsMathOptimizationFittingPolynomialFitter

- (instancetype)initWithInt:(jint)degree
withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer:(id<OrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer>)optimizer {
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter_initWithInt_withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer_(self, degree, optimizer);
  return self;
}

- (void)addObservedPointWithDouble:(jdouble)weight
                        withDouble:(jdouble)x
                        withDouble:(jdouble)y {
  [((OrgApacheCommonsMathOptimizationFittingCurveFitter *) nil_chk(fitter_)) addObservedPointWithDouble:weight withDouble:x withDouble:y];
}

- (void)clearObservations {
  [((OrgApacheCommonsMathOptimizationFittingCurveFitter *) nil_chk(fitter_)) clearObservations];
}

- (OrgApacheCommonsMathAnalysisPolynomialsPolynomialFunction *)fit {
  @try {
    return new_OrgApacheCommonsMathAnalysisPolynomialsPolynomialFunction_initWithDoubleArray_([((OrgApacheCommonsMathOptimizationFittingCurveFitter *) nil_chk(fitter_)) fitWithOrgApacheCommonsMathOptimizationFittingParametricRealFunction:new_OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init() withDoubleArray:[IOSDoubleArray newArrayWithLength:degree_ + 1]]);
  }
  @catch (OrgApacheCommonsMathFunctionEvaluationException *fee) {
    @throw new_JavaLangRuntimeException_initWithJavaLangThrowable_(fee);
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer:", "PolynomialFitter", NULL, 0x1, NULL, NULL },
    { "addObservedPointWithDouble:withDouble:withDouble:", "addObservedPoint", "V", 0x1, NULL, NULL },
    { "clearObservations", NULL, "V", 0x1, NULL, NULL },
    { "fit", NULL, "Lorg.apache.commons.math.analysis.polynomials.PolynomialFunction;", 0x1, "Lorg.apache.commons.math.optimization.OptimizationException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "fitter_", NULL, 0x12, "Lorg.apache.commons.math.optimization.fitting.CurveFitter;", NULL, NULL,  },
    { "degree_", NULL, 0x12, "I", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lorg.apache.commons.math.optimization.fitting.PolynomialFitter$ParametricPolynomial;"};
  static const J2ObjcClassInfo _OrgApacheCommonsMathOptimizationFittingPolynomialFitter = { 2, "PolynomialFitter", "org.apache.commons.math.optimization.fitting", NULL, 0x1, 4, methods, 2, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgApacheCommonsMathOptimizationFittingPolynomialFitter;
}

@end

void OrgApacheCommonsMathOptimizationFittingPolynomialFitter_initWithInt_withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer_(OrgApacheCommonsMathOptimizationFittingPolynomialFitter *self, jint degree, id<OrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer> optimizer) {
  (void) NSObject_init(self);
  self->fitter_ = new_OrgApacheCommonsMathOptimizationFittingCurveFitter_initWithOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer_(optimizer);
  self->degree_ = degree;
}

OrgApacheCommonsMathOptimizationFittingPolynomialFitter *new_OrgApacheCommonsMathOptimizationFittingPolynomialFitter_initWithInt_withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer_(jint degree, id<OrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer> optimizer) {
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter *self = [OrgApacheCommonsMathOptimizationFittingPolynomialFitter alloc];
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter_initWithInt_withOrgApacheCommonsMathOptimizationDifferentiableMultivariateVectorialOptimizer_(self, degree, optimizer);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsMathOptimizationFittingPolynomialFitter)

@implementation OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial

- (IOSDoubleArray *)gradientWithDouble:(jdouble)x
                       withDoubleArray:(IOSDoubleArray *)parameters {
  IOSDoubleArray *gradient = [IOSDoubleArray newArrayWithLength:((IOSDoubleArray *) nil_chk(parameters))->size_];
  jdouble xn = 1.0;
  for (jint i = 0; i < parameters->size_; ++i) {
    *IOSDoubleArray_GetRef(gradient, i) = xn;
    xn *= x;
  }
  return gradient;
}

- (jdouble)valueWithDouble:(jdouble)x
           withDoubleArray:(IOSDoubleArray *)parameters {
  jdouble y = 0;
  for (jint i = ((IOSDoubleArray *) nil_chk(parameters))->size_ - 1; i >= 0; --i) {
    y = y * x + IOSDoubleArray_Get(parameters, i);
  }
  return y;
}

- (instancetype)init {
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "gradientWithDouble:withDoubleArray:", "gradient", "[D", 0x1, NULL, NULL },
    { "valueWithDouble:withDoubleArray:", "value", "D", 0x1, NULL, NULL },
    { "init", NULL, NULL, 0x2, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial = { 2, "ParametricPolynomial", "org.apache.commons.math.optimization.fitting", "PolynomialFitter", 0xa, 3, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial;
}

@end

void OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init(OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial *self) {
  (void) NSObject_init(self);
}

OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial *new_OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init() {
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial *self = [OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial alloc];
  OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsMathOptimizationFittingPolynomialFitter_ParametricPolynomial)

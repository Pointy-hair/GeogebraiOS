//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/apache/commons/math/util/OpenIntToFieldHashMap.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/io/IOException.h"
#include "java/io/ObjectInputStream.h"
#include "java/lang/ArrayIndexOutOfBoundsException.h"
#include "java/lang/ClassNotFoundException.h"
#include "java/lang/Integer.h"
#include "java/lang/System.h"
#include "java/lang/reflect/Array.h"
#include "java/util/ConcurrentModificationException.h"
#include "java/util/NoSuchElementException.h"
#include "org/apache/commons/math/Field.h"
#include "org/apache/commons/math/FieldElement.h"
#include "org/apache/commons/math/MathRuntimeException.h"
#include "org/apache/commons/math/exception/util/LocalizedFormats.h"
#include "org/apache/commons/math/util/FastMath.h"
#include "org/apache/commons/math/util/OpenIntToFieldHashMap.h"

#define OrgApacheCommonsMathUtilOpenIntToFieldHashMap_serialVersionUID -9179080286849120720LL
#define OrgApacheCommonsMathUtilOpenIntToFieldHashMap_LOAD_FACTOR 0.5f
#define OrgApacheCommonsMathUtilOpenIntToFieldHashMap_DEFAULT_EXPECTED_SIZE 16
#define OrgApacheCommonsMathUtilOpenIntToFieldHashMap_RESIZE_MULTIPLIER 2
#define OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT 5

@interface OrgApacheCommonsMathUtilOpenIntToFieldHashMap () {
 @public
  id<OrgApacheCommonsMathField> field_;
  IOSIntArray *keys_;
  IOSObjectArray *values_;
  IOSByteArray *states_;
  id<OrgApacheCommonsMathFieldElement> missingEntries_;
  jint size__;
  jint mask_;
  jint count_;
}

+ (jint)computeCapacityWithInt:(jint)expectedSize;

+ (jint)nextPowerOfTwoWithInt:(jint)i;

+ (jint)perturbWithInt:(jint)hash_;

- (jint)findInsertionIndexWithInt:(jint)key;

+ (jint)findInsertionIndexWithIntArray:(IOSIntArray *)keys
                         withByteArray:(IOSByteArray *)states
                               withInt:(jint)key
                               withInt:(jint)mask;

+ (jint)probeWithInt:(jint)perturb
             withInt:(jint)j;

+ (jint)changeIndexSignWithInt:(jint)index;

- (jboolean)containsKeyWithInt:(jint)key
                       withInt:(jint)index;

- (id)doRemoveWithInt:(jint)index;

- (void)growTable;

- (jboolean)shouldGrowTable;

+ (jint)hashOfWithInt:(jint)key;

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)stream;

- (IOSObjectArray *)buildArrayWithInt:(jint)length;

@end

J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, field_, id<OrgApacheCommonsMathField>)
J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, keys_, IOSIntArray *)
J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, values_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, states_, IOSByteArray *)
J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, missingEntries_, id)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, serialVersionUID, jlong)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, LOAD_FACTOR, jfloat)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, DEFAULT_EXPECTED_SIZE, jint)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, RESIZE_MULTIPLIER, jint)

J2OBJC_STATIC_FIELD_GETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap, PERTURB_SHIFT, jint)

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_computeCapacityWithInt_(jint expectedSize);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_nextPowerOfTwoWithInt_(jint i);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(jint hash_);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint key);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithIntArray_withByteArray_withInt_withInt_(IOSIntArray *keys, IOSByteArray *states, jint key, jint mask);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(jint perturb, jint j);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(jint index);

__attribute__((unused)) static jboolean OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint key, jint index);

__attribute__((unused)) static id OrgApacheCommonsMathUtilOpenIntToFieldHashMap_doRemoveWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint index);

__attribute__((unused)) static void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_growTable(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self);

__attribute__((unused)) static jboolean OrgApacheCommonsMathUtilOpenIntToFieldHashMap_shouldGrowTable(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self);

__attribute__((unused)) static jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(jint key);

__attribute__((unused)) static IOSObjectArray *OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint length);

@interface OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator () {
 @public
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *this$0_;
  jint referenceCount_;
  jint current_;
  jint next_;
}

- (instancetype)initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap:(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *)outer$;

@end

J2OBJC_FIELD_SETTER(OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator, this$0_, OrgApacheCommonsMathUtilOpenIntToFieldHashMap *)

__attribute__((unused)) static void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *self, OrgApacheCommonsMathUtilOpenIntToFieldHashMap *outer$);

__attribute__((unused)) static OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *outer$) NS_RETURNS_RETAINED;

@implementation OrgApacheCommonsMathUtilOpenIntToFieldHashMap

- (instancetype)initWithOrgApacheCommonsMathField:(id<OrgApacheCommonsMathField>)field {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_(self, field);
  return self;
}

- (instancetype)initWithOrgApacheCommonsMathField:(id<OrgApacheCommonsMathField>)field
             withOrgApacheCommonsMathFieldElement:(id<OrgApacheCommonsMathFieldElement>)missingEntries {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withOrgApacheCommonsMathFieldElement_(self, field, missingEntries);
  return self;
}

- (instancetype)initWithOrgApacheCommonsMathField:(id<OrgApacheCommonsMathField>)field
                                          withInt:(jint)expectedSize {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_(self, field, expectedSize);
  return self;
}

- (instancetype)initWithOrgApacheCommonsMathField:(id<OrgApacheCommonsMathField>)field
                                          withInt:(jint)expectedSize
             withOrgApacheCommonsMathFieldElement:(id<OrgApacheCommonsMathFieldElement>)missingEntries {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(self, field, expectedSize, missingEntries);
  return self;
}

- (instancetype)initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap:(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *)source {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(self, source);
  return self;
}

+ (jint)computeCapacityWithInt:(jint)expectedSize {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_computeCapacityWithInt_(expectedSize);
}

+ (jint)nextPowerOfTwoWithInt:(jint)i {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_nextPowerOfTwoWithInt_(i);
}

- (id)getWithInt:(jint)key {
  jint hash_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(key);
  jint index = hash_ & mask_;
  if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
    return IOSObjectArray_Get(nil_chk(values_), index);
  }
  if (IOSByteArray_Get(nil_chk(states_), index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
    return missingEntries_;
  }
  jint j = index;
  for (jint perturb = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(hash_); IOSByteArray_Get(states_, index) != OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE; RShiftAssignInt(&perturb, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT)) {
    j = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
    index = j & mask_;
    if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
      return IOSObjectArray_Get(nil_chk(values_), index);
    }
  }
  return missingEntries_;
}

- (jboolean)containsKeyWithInt:(jint)key {
  jint hash_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(key);
  jint index = hash_ & mask_;
  if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
    return YES;
  }
  if (IOSByteArray_Get(nil_chk(states_), index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
    return NO;
  }
  jint j = index;
  for (jint perturb = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(hash_); IOSByteArray_Get(states_, index) != OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE; RShiftAssignInt(&perturb, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT)) {
    j = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
    index = j & mask_;
    if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
      return YES;
    }
  }
  return NO;
}

- (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *)iterator {
  return new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(self);
}

+ (jint)perturbWithInt:(jint)hash_ {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(hash_);
}

- (jint)findInsertionIndexWithInt:(jint)key {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithInt_(self, key);
}

+ (jint)findInsertionIndexWithIntArray:(IOSIntArray *)keys
                         withByteArray:(IOSByteArray *)states
                               withInt:(jint)key
                               withInt:(jint)mask {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithIntArray_withByteArray_withInt_withInt_(keys, states, key, mask);
}

+ (jint)probeWithInt:(jint)perturb
             withInt:(jint)j {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
}

+ (jint)changeIndexSignWithInt:(jint)index {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(index);
}

- (jint)size {
  return size__;
}

- (id)removeWithInt:(jint)key {
  jint hash_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(key);
  jint index = hash_ & mask_;
  if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
    return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_doRemoveWithInt_(self, index);
  }
  if (IOSByteArray_Get(nil_chk(states_), index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
    return missingEntries_;
  }
  jint j = index;
  for (jint perturb = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(hash_); IOSByteArray_Get(states_, index) != OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE; RShiftAssignInt(&perturb, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT)) {
    j = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
    index = j & mask_;
    if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index)) {
      return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_doRemoveWithInt_(self, index);
    }
  }
  return missingEntries_;
}

- (jboolean)containsKeyWithInt:(jint)key
                       withInt:(jint)index {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(self, key, index);
}

- (id)doRemoveWithInt:(jint)index {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_doRemoveWithInt_(self, index);
}

- (id)putWithInt:(jint)key
withOrgApacheCommonsMathFieldElement:(id<OrgApacheCommonsMathFieldElement>)value {
  jint index = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithInt_(self, key);
  id<OrgApacheCommonsMathFieldElement> previous = missingEntries_;
  jboolean newMapping = YES;
  if (index < 0) {
    index = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(index);
    previous = IOSObjectArray_Get(nil_chk(values_), index);
    newMapping = NO;
  }
  *IOSIntArray_GetRef(nil_chk(keys_), index) = key;
  *IOSByteArray_GetRef(nil_chk(states_), index) = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL;
  (void) IOSObjectArray_Set(nil_chk(values_), index, value);
  if (newMapping) {
    ++size__;
    if (OrgApacheCommonsMathUtilOpenIntToFieldHashMap_shouldGrowTable(self)) {
      OrgApacheCommonsMathUtilOpenIntToFieldHashMap_growTable(self);
    }
    ++count_;
  }
  return previous;
}

- (void)growTable {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_growTable(self);
}

- (jboolean)shouldGrowTable {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_shouldGrowTable(self);
}

+ (jint)hashOfWithInt:(jint)key {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(key);
}

- (void)readObjectWithJavaIoObjectInputStream:(JavaIoObjectInputStream *)stream {
  [((JavaIoObjectInputStream *) nil_chk(stream)) defaultReadObject];
  count_ = 0;
}

- (IOSObjectArray *)buildArrayWithInt:(jint)length {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(self, length);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheCommonsMathField:", "OpenIntToFieldHashMap", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheCommonsMathField:withOrgApacheCommonsMathFieldElement:", "OpenIntToFieldHashMap", NULL, 0x1, NULL, "(Lorg/apache/commons/math/Field<TT;>;TT;)V" },
    { "initWithOrgApacheCommonsMathField:withInt:", "OpenIntToFieldHashMap", NULL, 0x1, NULL, NULL },
    { "initWithOrgApacheCommonsMathField:withInt:withOrgApacheCommonsMathFieldElement:", "OpenIntToFieldHashMap", NULL, 0x1, NULL, "(Lorg/apache/commons/math/Field<TT;>;ITT;)V" },
    { "initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap:", "OpenIntToFieldHashMap", NULL, 0x1, NULL, NULL },
    { "computeCapacityWithInt:", "computeCapacity", "I", 0xa, NULL, NULL },
    { "nextPowerOfTwoWithInt:", "nextPowerOfTwo", "I", 0xa, NULL, NULL },
    { "getWithInt:", "get", "TT;", 0x1, NULL, "(I)TT;" },
    { "containsKeyWithInt:", "containsKey", "Z", 0x1, NULL, NULL },
    { "iterator", NULL, "Lorg.apache.commons.math.util.OpenIntToFieldHashMap$Iterator;", 0x1, NULL, NULL },
    { "perturbWithInt:", "perturb", "I", 0xa, NULL, NULL },
    { "findInsertionIndexWithInt:", "findInsertionIndex", "I", 0x2, NULL, NULL },
    { "findInsertionIndexWithIntArray:withByteArray:withInt:withInt:", "findInsertionIndex", "I", 0xa, NULL, NULL },
    { "probeWithInt:withInt:", "probe", "I", 0xa, NULL, NULL },
    { "changeIndexSignWithInt:", "changeIndexSign", "I", 0xa, NULL, NULL },
    { "size", NULL, "I", 0x1, NULL, NULL },
    { "removeWithInt:", "remove", "TT;", 0x1, NULL, "(I)TT;" },
    { "containsKeyWithInt:withInt:", "containsKey", "Z", 0x2, NULL, NULL },
    { "doRemoveWithInt:", "doRemove", "TT;", 0x2, NULL, "(I)TT;" },
    { "putWithInt:withOrgApacheCommonsMathFieldElement:", "put", "TT;", 0x1, NULL, "(ITT;)TT;" },
    { "growTable", NULL, "V", 0x2, NULL, NULL },
    { "shouldGrowTable", NULL, "Z", 0x2, NULL, NULL },
    { "hashOfWithInt:", "hashOf", "I", 0xa, NULL, NULL },
    { "readObjectWithJavaIoObjectInputStream:", "readObject", "V", 0x2, "Ljava.io.IOException;Ljava.lang.ClassNotFoundException;", NULL },
    { "buildArrayWithInt:", "buildArray", "[Lorg.apache.commons.math.FieldElement;", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "FREE_", NULL, 0x1c, "B", NULL, NULL, .constantValue.asChar = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE },
    { "FULL_", NULL, 0x1c, "B", NULL, NULL, .constantValue.asChar = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL },
    { "REMOVED_", NULL, 0x1c, "B", NULL, NULL, .constantValue.asChar = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_REMOVED },
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_serialVersionUID },
    { "LOAD_FACTOR_", NULL, 0x1a, "F", NULL, NULL, .constantValue.asFloat = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_LOAD_FACTOR },
    { "DEFAULT_EXPECTED_SIZE_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_DEFAULT_EXPECTED_SIZE },
    { "RESIZE_MULTIPLIER_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_RESIZE_MULTIPLIER },
    { "PERTURB_SHIFT_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT },
    { "field_", NULL, 0x12, "Lorg.apache.commons.math.Field;", NULL, "Lorg/apache/commons/math/Field<TT;>;",  },
    { "keys_", NULL, 0x2, "[I", NULL, NULL,  },
    { "values_", NULL, 0x2, "[Lorg.apache.commons.math.FieldElement;", NULL, "[TT;",  },
    { "states_", NULL, 0x2, "[B", NULL, NULL,  },
    { "missingEntries_", NULL, 0x12, "TT;", NULL, "TT;",  },
    { "size__", "size", 0x2, "I", NULL, NULL,  },
    { "mask_", NULL, 0x2, "I", NULL, NULL,  },
    { "count_", NULL, 0x82, "I", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lorg.apache.commons.math.util.OpenIntToFieldHashMap$Iterator;"};
  static const J2ObjcClassInfo _OrgApacheCommonsMathUtilOpenIntToFieldHashMap = { 2, "OpenIntToFieldHashMap", "org.apache.commons.math.util", NULL, 0x1, 25, methods, 16, fields, 0, NULL, 1, inner_classes, NULL, "<T::Lorg/apache/commons/math/FieldElement<TT;>;>Ljava/lang/Object;Ljava/io/Serializable;" };
  return &_OrgApacheCommonsMathUtilOpenIntToFieldHashMap;
}

@end

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, id<OrgApacheCommonsMathField> field) {
  (void) OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(self, field, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_DEFAULT_EXPECTED_SIZE, [((id<OrgApacheCommonsMathField>) nil_chk(field)) getZero]);
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_(id<OrgApacheCommonsMathField> field) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_(self, field);
  return self;
}

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withOrgApacheCommonsMathFieldElement_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, id<OrgApacheCommonsMathField> field, id<OrgApacheCommonsMathFieldElement> missingEntries) {
  (void) OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(self, field, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_DEFAULT_EXPECTED_SIZE, missingEntries);
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withOrgApacheCommonsMathFieldElement_(id<OrgApacheCommonsMathField> field, id<OrgApacheCommonsMathFieldElement> missingEntries) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withOrgApacheCommonsMathFieldElement_(self, field, missingEntries);
  return self;
}

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, id<OrgApacheCommonsMathField> field, jint expectedSize) {
  (void) OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(self, field, expectedSize, [((id<OrgApacheCommonsMathField>) nil_chk(field)) getZero]);
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_(id<OrgApacheCommonsMathField> field, jint expectedSize) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_(self, field, expectedSize);
  return self;
}

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, id<OrgApacheCommonsMathField> field, jint expectedSize, id<OrgApacheCommonsMathFieldElement> missingEntries) {
  (void) NSObject_init(self);
  self->field_ = field;
  jint capacity = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_computeCapacityWithInt_(expectedSize);
  self->keys_ = [IOSIntArray newArrayWithLength:capacity];
  self->values_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(self, capacity);
  self->states_ = [IOSByteArray newArrayWithLength:capacity];
  self->missingEntries_ = missingEntries;
  self->mask_ = capacity - 1;
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(id<OrgApacheCommonsMathField> field, jint expectedSize, id<OrgApacheCommonsMathFieldElement> missingEntries) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathField_withInt_withOrgApacheCommonsMathFieldElement_(self, field, expectedSize, missingEntries);
  return self;
}

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, OrgApacheCommonsMathUtilOpenIntToFieldHashMap *source) {
  (void) NSObject_init(self);
  self->field_ = ((OrgApacheCommonsMathUtilOpenIntToFieldHashMap *) nil_chk(source))->field_;
  jint length = ((IOSIntArray *) nil_chk(source->keys_))->size_;
  self->keys_ = [IOSIntArray newArrayWithLength:length];
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(source->keys_, 0, self->keys_, 0, length);
  self->values_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(self, length);
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(source->values_, 0, self->values_, 0, length);
  self->states_ = [IOSByteArray newArrayWithLength:length];
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(source->states_, 0, self->states_, 0, length);
  self->missingEntries_ = source->missingEntries_;
  self->size__ = source->size__;
  self->mask_ = source->mask_;
  self->count_ = source->count_;
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *source) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(self, source);
  return self;
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_computeCapacityWithInt_(jint expectedSize) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  if (expectedSize == 0) {
    return 1;
  }
  jint capacity = J2ObjCFpToInt(OrgApacheCommonsMathUtilFastMath_ceilWithDouble_(expectedSize / OrgApacheCommonsMathUtilOpenIntToFieldHashMap_LOAD_FACTOR));
  jint powerOfTwo = JavaLangInteger_highestOneBitWithInt_(capacity);
  if (powerOfTwo == capacity) {
    return capacity;
  }
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_nextPowerOfTwoWithInt_(capacity);
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_nextPowerOfTwoWithInt_(jint i) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  return LShift32(JavaLangInteger_highestOneBitWithInt_(i), 1);
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(jint hash_) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  return hash_ & (jint) 0x7fffffff;
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint key) {
  return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithIntArray_withByteArray_withInt_withInt_(self->keys_, self->states_, key, self->mask_);
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithIntArray_withByteArray_withInt_withInt_(IOSIntArray *keys, IOSByteArray *states, jint key, jint mask) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  jint hash_ = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(key);
  jint index = hash_ & mask;
  if (IOSByteArray_Get(nil_chk(states), index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
    return index;
  }
  else if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL && IOSIntArray_Get(nil_chk(keys), index) == key) {
    return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(index);
  }
  jint perturb = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_perturbWithInt_(hash_);
  jint j = index;
  if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL) {
    while (YES) {
      j = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
      index = j & mask;
      RShiftAssignInt(&perturb, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT);
      if (IOSByteArray_Get(states, index) != OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL || IOSIntArray_Get(nil_chk(keys), index) == key) {
        break;
      }
    }
  }
  if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
    return index;
  }
  else if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL) {
    return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(index);
  }
  jint firstRemoved = index;
  while (YES) {
    j = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(perturb, j);
    index = j & mask;
    if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FREE) {
      return firstRemoved;
    }
    else if (IOSByteArray_Get(states, index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL && IOSIntArray_Get(nil_chk(keys), index) == key) {
      return OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(index);
    }
    RShiftAssignInt(&perturb, OrgApacheCommonsMathUtilOpenIntToFieldHashMap_PERTURB_SHIFT);
  }
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_probeWithInt_withInt_(jint perturb, jint j) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  return (LShift32(j, 2)) + j + perturb + 1;
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_changeIndexSignWithInt_(jint index) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  return -index - 1;
}

jboolean OrgApacheCommonsMathUtilOpenIntToFieldHashMap_containsKeyWithInt_withInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint key, jint index) {
  return (key != 0 || IOSByteArray_Get(nil_chk(self->states_), index) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL) && IOSIntArray_Get(nil_chk(self->keys_), index) == key;
}

id OrgApacheCommonsMathUtilOpenIntToFieldHashMap_doRemoveWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint index) {
  *IOSIntArray_GetRef(nil_chk(self->keys_), index) = 0;
  *IOSByteArray_GetRef(nil_chk(self->states_), index) = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_REMOVED;
  id<OrgApacheCommonsMathFieldElement> previous = IOSObjectArray_Get(nil_chk(self->values_), index);
  (void) IOSObjectArray_Set(self->values_, index, self->missingEntries_);
  --self->size__;
  ++self->count_;
  return previous;
}

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_growTable(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self) {
  jint oldLength = ((IOSByteArray *) nil_chk(self->states_))->size_;
  IOSIntArray *oldKeys = self->keys_;
  IOSObjectArray *oldValues = self->values_;
  IOSByteArray *oldStates = self->states_;
  jint newLength = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_RESIZE_MULTIPLIER * oldLength;
  IOSIntArray *newKeys = [IOSIntArray newArrayWithLength:newLength];
  IOSObjectArray *newValues = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(self, newLength);
  IOSByteArray *newStates = [IOSByteArray newArrayWithLength:newLength];
  jint newMask = newLength - 1;
  for (jint i = 0; i < oldLength; ++i) {
    if (IOSByteArray_Get(oldStates, i) == OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL) {
      jint key = IOSIntArray_Get(nil_chk(oldKeys), i);
      jint index = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_findInsertionIndexWithIntArray_withByteArray_withInt_withInt_(newKeys, newStates, key, newMask);
      *IOSIntArray_GetRef(newKeys, index) = key;
      (void) IOSObjectArray_Set(nil_chk(newValues), index, IOSObjectArray_Get(nil_chk(oldValues), i));
      *IOSByteArray_GetRef(newStates, index) = OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL;
    }
  }
  self->mask_ = newMask;
  self->keys_ = newKeys;
  self->values_ = newValues;
  self->states_ = newStates;
}

jboolean OrgApacheCommonsMathUtilOpenIntToFieldHashMap_shouldGrowTable(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self) {
  return self->size__ > (self->mask_ + 1) * OrgApacheCommonsMathUtilOpenIntToFieldHashMap_LOAD_FACTOR;
}

jint OrgApacheCommonsMathUtilOpenIntToFieldHashMap_hashOfWithInt_(jint key) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_initialize();
  jint h = key ^ ((URShift32(key, 20)) ^ (URShift32(key, 12)));
  return h ^ (URShift32(h, 7)) ^ (URShift32(h, 4));
}

IOSObjectArray *OrgApacheCommonsMathUtilOpenIntToFieldHashMap_buildArrayWithInt_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *self, jint length) {
  return (IOSObjectArray *) check_class_cast(JavaLangReflectArray_newInstanceWithIOSClass_withInt_([((id<OrgApacheCommonsMathFieldElement>) nil_chk([((id<OrgApacheCommonsMathField>) nil_chk(self->field_)) getZero])) getClass], length), [IOSObjectArray class]);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsMathUtilOpenIntToFieldHashMap)

@implementation OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator

- (instancetype)initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap:(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *)outer$ {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(self, outer$);
  return self;
}

- (jboolean)hasNext {
  return next_ >= 0;
}

- (jint)key {
  if (referenceCount_ != this$0_->count_) {
    @throw OrgApacheCommonsMathMathRuntimeException_createConcurrentModificationExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_MAP_MODIFIED_WHILE_ITERATING(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  }
  if (current_ < 0) {
    @throw OrgApacheCommonsMathMathRuntimeException_createNoSuchElementExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_ITERATOR_EXHAUSTED(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  }
  return IOSIntArray_Get(nil_chk(this$0_->keys_), current_);
}

- (id)value {
  if (referenceCount_ != this$0_->count_) {
    @throw OrgApacheCommonsMathMathRuntimeException_createConcurrentModificationExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_MAP_MODIFIED_WHILE_ITERATING(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  }
  if (current_ < 0) {
    @throw OrgApacheCommonsMathMathRuntimeException_createNoSuchElementExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_ITERATOR_EXHAUSTED(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  }
  return IOSObjectArray_Get(nil_chk(this$0_->values_), current_);
}

- (void)advance {
  if (referenceCount_ != this$0_->count_) {
    @throw OrgApacheCommonsMathMathRuntimeException_createConcurrentModificationExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_MAP_MODIFIED_WHILE_ITERATING(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
  }
  current_ = next_;
  @try {
    while (IOSByteArray_Get(nil_chk(this$0_->states_), ++next_) != OrgApacheCommonsMathUtilOpenIntToFieldHashMap_FULL) {
    }
  }
  @catch (JavaLangArrayIndexOutOfBoundsException *e) {
    next_ = -2;
    if (current_ < 0) {
      @throw OrgApacheCommonsMathMathRuntimeException_createNoSuchElementExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_ITERATOR_EXHAUSTED(), [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
    }
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap:", "Iterator", NULL, 0x2, NULL, NULL },
    { "hasNext", NULL, "Z", 0x1, NULL, NULL },
    { "key", NULL, "I", 0x1, "Ljava.util.ConcurrentModificationException;Ljava.util.NoSuchElementException;", NULL },
    { "value", NULL, "TT;", 0x1, "Ljava.util.ConcurrentModificationException;Ljava.util.NoSuchElementException;", "()TT;" },
    { "advance", NULL, "V", 0x1, "Ljava.util.ConcurrentModificationException;Ljava.util.NoSuchElementException;", NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lorg.apache.commons.math.util.OpenIntToFieldHashMap;", NULL, NULL,  },
    { "referenceCount_", NULL, 0x12, "I", NULL, NULL,  },
    { "current_", NULL, 0x2, "I", NULL, NULL,  },
    { "next_", NULL, 0x2, "I", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator = { 2, "Iterator", "org.apache.commons.math.util", "OpenIntToFieldHashMap", 0x1, 5, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator;
}

@end

void OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *self, OrgApacheCommonsMathUtilOpenIntToFieldHashMap *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
  self->referenceCount_ = outer$->count_;
  self->next_ = -1;
  @try {
    [self advance];
  }
  @catch (JavaUtilNoSuchElementException *nsee) {
  }
}

OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *new_OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(OrgApacheCommonsMathUtilOpenIntToFieldHashMap *outer$) {
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator *self = [OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator alloc];
  OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator_initWithOrgApacheCommonsMathUtilOpenIntToFieldHashMap_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsMathUtilOpenIntToFieldHashMap_Iterator)

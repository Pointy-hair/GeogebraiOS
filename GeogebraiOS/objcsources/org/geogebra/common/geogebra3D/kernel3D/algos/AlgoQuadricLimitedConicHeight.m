//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/geogebra3D/kernel3D/algos/AlgoQuadricLimitedConicHeight.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/StringBuilder.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoElement3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoQuadricEndTop.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoQuadricLimitedConicHeight.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoQuadricSide.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoConic3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoQuadric3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoQuadric3DLimited.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoQuadric3DPart.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/Matrix/Coords.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"
#include "org/geogebra/common/kernel/kernelND/GeoConicND.h"

@interface OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight () {
 @public
  OrgGeogebraCommonKernelKernelNDGeoConicND *bottom_;
  id<OrgGeogebraCommonKernelArithmeticNumberValue> height_;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *side_;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *quadric_;
}

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight, bottom_, OrgGeogebraCommonKernelKernelNDGeoConicND *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight, height_, id<OrgGeogebraCommonKernelArithmeticNumberValue>)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight, side_, OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight, quadric_, OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *)

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_createTop(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight *self);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_setOutput(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight *self);

@implementation OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)c
                                          withNSStringArray:(IOSObjectArray *)labels
              withOrgGeogebraCommonKernelKernelNDGeoConicND:(OrgGeogebraCommonKernelKernelNDGeoConicND *)bottom
           withOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)height
                                                    withInt:(jint)type {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoConicND_withOrgGeogebraCommonKernelArithmeticNumberValue_withInt_(self, c, labels, bottom, height, type);
  return self;
}

- (void)createTop {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_createTop(self);
}

- (void)setOutput {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_setOutput(self);
}

- (void)compute {
  OrgGeogebraCommonKernelMatrixCoords *o = [((OrgGeogebraCommonKernelKernelNDGeoConicND *) nil_chk(bottom_)) getMidpoint3D];
  jdouble r = [bottom_ getHalfAxisWithInt:0];
  jdouble altitude = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(height_)) getDouble];
  OrgGeogebraCommonKernelMatrixCoords *d = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([bottom_ getMainDirection])) normalize];
  OrgGeogebraCommonKernelMatrixCoords *o2 = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(o)) addWithOrgGeogebraCommonKernelMatrixCoords:[((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(d)) mulWithDouble:altitude]];
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk(quadric_)) setDefined];
  [self setQuadricWithOrgGeogebraCommonKernelMatrixCoords:o withOrgGeogebraCommonKernelMatrixCoords:o2 withOrgGeogebraCommonKernelMatrixCoords:d withDouble:r withDouble:0 withDouble:altitude];
  [quadric_ calcVolume];
}

- (void)setQuadricWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)o1
                  withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)o2
                  withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)d
                                               withDouble:(jdouble)r
                                               withDouble:(jdouble)min
                                               withDouble:(jdouble)max {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *)getQuadric {
  return quadric_;
}

- (void)update {
  if (stopUpdateCascade_) {
    return;
  }
  [self compute];
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk(quadric_)) update];
  if (![((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk([self getQuadric])) isLabelSet]) {
    [((OrgGeogebraCommonKernelAlgosAlgoElement *) nil_chk([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoConic3D *) nil_chk([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk([self getQuadric])) getTop])) getParentAlgorithm])) update];
    [((OrgGeogebraCommonKernelAlgosAlgoElement *) nil_chk([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *) nil_chk([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk([self getQuadric])) getSide])) getParentAlgorithm])) update];
  }
}

- (void)getOutputXMLWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  [super getOutputXMLWithJavaLangStringBuilder:sb];
  [((OrgGeogebraCommonKernelKernelNDGeoConicND *) nil_chk(bottom_)) getXMLWithBoolean:NO withJavaLangStringBuilder:sb];
}

- (void)setOutputPointsEuclidianVisibleWithBoolean:(jboolean)b {
}

- (void)notifyUpdateOutputPoints {
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getTopFace {
  return top_;
}

- (void)setOutputOtherEuclidianVisibleWithBoolean:(jboolean)b {
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *) nil_chk(side_)) setEuclidianVisibleWithBoolean:b];
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoConic3D *) nil_chk(top_)) setEuclidianVisibleWithBoolean:b];
}

- (void)notifyUpdateOutputOther {
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyUpdateWithOrgGeogebraCommonKernelGeosGeoElement:side_];
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyUpdateWithOrgGeogebraCommonKernelGeosGeoElement:top_];
}

- (void)dealloc {
  RELEASE_(bottom_);
  RELEASE_(height_);
  RELEASE_(side_);
  RELEASE_(top_);
  RELEASE_(quadric_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelKernelNDGeoConicND:withOrgGeogebraCommonKernelArithmeticNumberValue:withInt:", "AlgoQuadricLimitedConicHeight", NULL, 0x1, NULL, NULL },
    { "createTop", NULL, "V", 0x14, NULL, NULL },
    { "setOutput", NULL, "V", 0x14, NULL, NULL },
    { "compute", NULL, "V", 0x1, NULL, NULL },
    { "setQuadricWithOrgGeogebraCommonKernelMatrixCoords:withOrgGeogebraCommonKernelMatrixCoords:withOrgGeogebraCommonKernelMatrixCoords:withDouble:withDouble:withDouble:", "setQuadric", "V", 0x404, NULL, NULL },
    { "getQuadric", NULL, "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoQuadric3DLimited;", 0x1, NULL, NULL },
    { "update", NULL, "V", 0x1, NULL, NULL },
    { "getOutputXMLWithJavaLangStringBuilder:", "getOutputXML", "V", 0x4, NULL, NULL },
    { "setOutputPointsEuclidianVisibleWithBoolean:", "setOutputPointsEuclidianVisible", "V", 0x1, NULL, NULL },
    { "notifyUpdateOutputPoints", NULL, "V", 0x1, NULL, NULL },
    { "getTopFace", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "setOutputOtherEuclidianVisibleWithBoolean:", "setOutputOtherEuclidianVisible", "V", 0x1, NULL, NULL },
    { "notifyUpdateOutputOther", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "bottom_", NULL, 0x2, "Lorg.geogebra.common.kernel.kernelND.GeoConicND;", NULL, NULL,  },
    { "height_", NULL, 0x2, "Lorg.geogebra.common.kernel.arithmetic.NumberValue;", NULL, NULL,  },
    { "side_", NULL, 0x2, "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoQuadric3DPart;", NULL, NULL,  },
    { "top_", NULL, 0x4, "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoConic3D;", NULL, NULL,  },
    { "quadric_", NULL, 0x2, "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoQuadric3DLimited;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight = { 2, "AlgoQuadricLimitedConicHeight", "org.geogebra.common.geogebra3D.kernel3D.algos", NULL, 0x401, 13, methods, 5, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight;
}

@end

void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoConicND_withOrgGeogebraCommonKernelArithmeticNumberValue_withInt_(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight *self, OrgGeogebraCommonKernelConstruction *c, IOSObjectArray *labels, OrgGeogebraCommonKernelKernelNDGeoConicND *bottom, id<OrgGeogebraCommonKernelArithmeticNumberValue> height, jint type) {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoElement3D_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_set_bottom_(self, bottom);
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_set_height_(self, height);
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_setAndConsume_quadric_(self, new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited_initWithOrgGeogebraCommonKernelConstruction_(c));
  [self->quadric_ setTypeWithInt:type];
  OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithObjects:(id[]){ bottom, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(height, [OrgGeogebraCommonKernelGeosGeoElement class]) } count:2 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
  [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk((bottom))) addAlgorithmWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(height, [OrgGeogebraCommonKernelGeosGeoElement class])))) addAlgorithmWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  [self->quadric_ setParentAlgorithmWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(self->cons_)) addToAlgorithmListWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  [self compute];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricSide *algo = [new_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricSide_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited_withBoolean_(self->cons_, self->quadric_, YES) autorelease];
  [self->cons_ removeFromConstructionListWithOrgGeogebraCommonKernelAlgosConstructionElement:algo];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_set_side_(self, (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *) check_class_cast([algo getQuadric], [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart class]));
  [self->quadric_ setSideWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart:self->side_];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_createTop(self);
  [self->quadric_ setBottomTopWithOrgGeogebraCommonKernelKernelNDGeoConicND:bottom withOrgGeogebraCommonGeogebra3DKernel3DGeosGeoConic3D:self->top_];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_setOutput(self);
  [self->quadric_ initLabelsNoBottomWithNSStringArray:labels];
  [self->quadric_ updatePartsVisualStyle];
  if ([height isKindOfClass:[OrgGeogebraCommonKernelGeosGeoNumeric class]]) {
    if ([((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast(height, [OrgGeogebraCommonKernelGeosGeoNumeric class])))) isIndependent]) {
      [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DPart *) nil_chk(self->side_)) setChangeableCoordParentWithOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast(height, [OrgGeogebraCommonKernelGeosGeoNumeric class]) withOrgGeogebraCommonKernelGeosGeoElement:bottom];
      [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoConic3D *) nil_chk(self->top_)) setChangeableCoordParentWithOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast(height, [OrgGeogebraCommonKernelGeosGeoNumeric class]) withOrgGeogebraCommonKernelGeosGeoElement:bottom];
    }
  }
}

void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_createTop(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight *self) {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricEndTop *algo2 = [new_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricEndTop_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited_(self->cons_, [self getQuadric]) autorelease];
  [algo2 setIsHelperAlgo];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(self->cons_)) removeFromConstructionListWithOrgGeogebraCommonKernelAlgosConstructionElement:algo2];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_set_top_(self, [algo2 getSection]);
}

void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight_setOutput(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight *self) {
  [self setOutputWithOrgGeogebraCommonKernelGeosGeoElementArray:[IOSObjectArray arrayWithObjects:(id[]){ [self getQuadric], [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk([self getQuadric])) getTop], [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3DLimited *) nil_chk([self getQuadric])) getSide] } count:3 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoQuadricLimitedConicHeight)

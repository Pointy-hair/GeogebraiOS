//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/geogebra3D/kernel3D/algos/AlgoPolygon3DDirection.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/StringBuilder.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoPolygon3DDirection.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoPolygon3D.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/Matrix/CoordSys.h"
#include "org/geogebra/common/kernel/Matrix/Coords.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/algos/AlgoPolygon.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoPolygon.h"
#include "org/geogebra/common/kernel/kernelND/GeoDirectionND.h"
#include "org/geogebra/common/kernel/kernelND/GeoPointND.h"
#include "org/geogebra/common/main/Localization.h"

@implementation OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                          withNSStringArray:(IOSObjectArray *)labels
         withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points
          withOrgGeogebraCommonKernelKernelNDGeoDirectionND:(id<OrgGeogebraCommonKernelKernelNDGeoDirectionND>)direction {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, direction);
  return self;
}

- (IOSObjectArray *)createEfficientInput {
  IOSObjectArray *efficientInput;
  if (geoList_ != nil) {
    efficientInput = [IOSObjectArray arrayWithLength:2 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    IOSObjectArray_Set(efficientInput, 0, geoList_);
    IOSObjectArray_Set(efficientInput, 1, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(direction_, [OrgGeogebraCommonKernelGeosGeoElement class]));
  }
  else {
    efficientInput = [IOSObjectArray arrayWithLength:((IOSObjectArray *) nil_chk(points_))->size_ + 1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    for (jint i = 0; i < points_->size_; i++) IOSObjectArray_Set(efficientInput, i, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(IOSObjectArray_Get(points_, i), [OrgGeogebraCommonKernelGeosGeoElement class]));
    IOSObjectArray_Set(efficientInput, points_->size_, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(direction_, [OrgGeogebraCommonKernelGeosGeoElement class]));
  }
  return efficientInput;
}

- (void)createPolygonWithBoolean:(jboolean)createSegments {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_poly_(self, new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_(cons_, points_, cs2D_, createSegments));
}

- (void)compute {
  OrgGeogebraCommonKernelMatrixCoordSys *coordsys = [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) getCoordSys];
  [((OrgGeogebraCommonKernelMatrixCoordSys *) nil_chk(coordsys)) resetCoordSys];
  [coordsys addPointWithOrgGeogebraCommonKernelMatrixCoords:[((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(nil_chk(points_), 0))) getInhomCoordsInD3]];
  IOSObjectArray *v = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((id<OrgGeogebraCommonKernelKernelNDGeoDirectionND>) nil_chk(direction_)) getDirectionInD3])) completeOrthonormal];
  [coordsys addVectorWithOrgGeogebraCommonKernelMatrixCoords:IOSObjectArray_Get(nil_chk(v), 0)];
  [coordsys addVectorWithOrgGeogebraCommonKernelMatrixCoords:IOSObjectArray_Get(v, 1)];
  [coordsys makeOrthoMatrixWithBoolean:NO withBoolean:NO];
  if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) check_class_cast(poly_, [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D class])) checkPointsAreOnCoordSys]) [super compute];
}

- (void)createStringBuilderWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  if (sb_ == nil) {
    OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_sb_(self, new_JavaLangStringBuilder_init());
  }
  else {
    [sb_ setLengthWithInt:0];
  }
  NSString *label;
  if (geoList_ != nil) {
    label = [geoList_ getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl];
  }
  else {
    jint last = ((IOSObjectArray *) nil_chk(points_))->size_ - 1;
    for (jint i = 0; i < last; i++) {
      [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(points_, i))) getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl]];
      [sb_ appendWithNSString:@", "];
    }
    [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(points_, last))) getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl]];
    label = [sb_ description];
    [sb_ setLengthWithInt:0];
  }
  [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((OrgGeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"PolygonAParallelToB" withNSString:label withNSString:[((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(direction_, [OrgGeogebraCommonKernelGeosGeoElement class])))) getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl]]];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:withOrgGeogebraCommonKernelKernelNDGeoDirectionND:", "AlgoPolygon3DDirection", NULL, 0x1, NULL, NULL },
    { "createEfficientInput", NULL, "[Lorg.geogebra.common.kernel.geos.GeoElement;", 0x4, NULL, NULL },
    { "createPolygonWithBoolean:", "createPolygon", "V", 0x4, NULL, NULL },
    { "compute", NULL, "V", 0x1, NULL, NULL },
    { "createStringBuilderWithOrgGeogebraCommonKernelStringTemplate:", "createStringBuilder", "V", 0x4, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection = { 2, "AlgoPolygon3DDirection", "org.geogebra.common.geogebra3D.kernel3D.algos", NULL, 0x1, 5, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection;
}

@end

void OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, nil, nil, YES, nil, direction);
}

OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection *new_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection *self = [OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection alloc];
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, direction);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3DDirection)

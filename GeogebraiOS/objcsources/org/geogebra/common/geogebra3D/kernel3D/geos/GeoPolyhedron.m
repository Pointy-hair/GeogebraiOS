//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/geogebra3D/kernel3D/geos/GeoPolyhedron.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Deprecated.h"
#include "java/lang/Double.h"
#include "java/lang/Exception.h"
#include "java/lang/Integer.h"
#include "java/lang/Long.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuffer.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "java/util/Iterator.h"
#include "java/util/Set.h"
#include "java/util/TreeMap.h"
#include "org/geogebra/common/awt/GColor.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoJoinPoints3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoPolygon3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/algos/AlgoPolyhedronPoints.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoCoordSys1D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoElement3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoPoint3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoPolygon3D.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoPolyhedron.h"
#include "org/geogebra/common/geogebra3D/kernel3D/geos/GeoSegment3D.h"
#include "org/geogebra/common/kernel/CircularDefinitionException.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/ConstructionElementCycle.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/Matrix/Coords.h"
#include "org/geogebra/common/kernel/Path.h"
#include "org/geogebra/common/kernel/PathMover.h"
#include "org/geogebra/common/kernel/PathMoverGeneric.h"
#include "org/geogebra/common/kernel/PathParameter.h"
#include "org/geogebra/common/kernel/Region.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/arithmetic/MyDouble.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoBoolean.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoPoint.h"
#include "org/geogebra/common/kernel/geos/GeoPolygon.h"
#include "org/geogebra/common/kernel/geos/Traceable.h"
#include "org/geogebra/common/kernel/kernelND/GeoCoordSys2D.h"
#include "org/geogebra/common/kernel/kernelND/GeoDirectionND.h"
#include "org/geogebra/common/kernel/kernelND/GeoLineND.h"
#include "org/geogebra/common/kernel/kernelND/GeoPointND.h"
#include "org/geogebra/common/kernel/kernelND/GeoSegmentND.h"
#include "org/geogebra/common/main/App.h"
#include "org/geogebra/common/main/Localization.h"
#include "org/geogebra/common/plugin/GeoClass.h"

@interface OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron () {
 @public
  JavaUtilTreeMap *segmentsLinked_;
  OrgGeogebraCommonKernelConstructionElementCycle *currentFace_;
  jint topFaceIndex_;
  jboolean allLabelsAreSet__;
  JavaLangStringBuffer *sb_;
  jboolean isDefined__;
  JavaLangStringBuilder *sbToString_GeoPolyhedron_;
  jdouble volume_;
  jdouble area_;
  jboolean trace_;
  jdouble orientedHeight_;
}

- (void)addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon:(OrgGeogebraCommonKernelGeosGeoPolygon *)polygon;

- (void)defaultPointsLabels;

+ (jint)usableLabelWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo;

- (void)defaultPolygonsLabels;

- (void)defaultSegmentLabels;

- (jboolean)setPolygonWithInt:(jint)index
withOrgGeogebraCommonKernelGeosGeoPolygon:(OrgGeogebraCommonKernelGeosGeoPolygon *)p;

- (jboolean)setSegmentWithLong:(jlong)index
withOrgGeogebraCommonKernelKernelNDGeoSegmentND:(id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)s;

- (void)setPointSizeWithInt:(jint)size;

- (void)setPointNotVisibile;

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron, segmentsLinked_, JavaUtilTreeMap *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron, currentFace_, OrgGeogebraCommonKernelConstructionElementCycle *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron, sb_, JavaLangStringBuffer *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron, sbToString_GeoPolyhedron_, JavaLangStringBuilder *)

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, OrgGeogebraCommonKernelGeosGeoPolygon *polygon);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPointsLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self);

__attribute__((unused)) static jint OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_usableLabelWithOrgGeogebraCommonKernelGeosGeoElement_(OrgGeogebraCommonKernelGeosGeoElement *geo);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self);

__attribute__((unused)) static jboolean OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPolygonWithInt_withOrgGeogebraCommonKernelGeosGeoPolygon_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jint index, OrgGeogebraCommonKernelGeosGeoPolygon *p);

__attribute__((unused)) static jboolean OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setSegmentWithLong_withOrgGeogebraCommonKernelKernelNDGeoSegmentND_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jlong index, id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> s);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointSizeWithInt_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jint size);

__attribute__((unused)) static void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointNotVisibile(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self);

@implementation OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)c {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  return self;
}

- (void)addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon:(OrgGeogebraCommonKernelGeosGeoPolygon *)polygon {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon_(self, polygon);
}

- (void)updateSegmentsLinked {
  [((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) clear];
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in nil_chk([self getPolygonsLinked])) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon_(self, p);
  }
}

- (id<JavaUtilCollection>)getSegmentsLinked {
  return [((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) values];
}

- (id<JavaUtilCollection>)getPolygonsLinked {
  return polygonsLinked_;
}

- (instancetype)initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron:(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *)polyhedron {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_(self, polyhedron);
  return self;
}

- (void)setTypeWithInt:(jint)type {
  self->type_ = type;
}

- (jint)getType {
  return type_;
}

- (void)startNewFace {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_currentFace_(self, new_OrgGeogebraCommonKernelConstructionElementCycle_init());
}

- (void)addPointToCurrentFaceWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)point {
  [((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(currentFace_)) addWithId:(OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(point, [OrgGeogebraCommonKernelGeosGeoElement class])];
}

- (void)endCurrentFace {
  [((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(currentFace_)) setDirection];
  [((JavaUtilTreeMap *) nil_chk(polygonsIndex_)) putWithId:currentFace_ withId:[new_JavaLangInteger_initWithInt_(polygonsIndexMax_) autorelease]];
  [((JavaUtilArrayList *) nil_chk(polygonsDescriptions_)) addWithId:currentFace_];
  polygonsIndexMax_++;
}

- (void)setCurrentFaceIsTopFace {
  topFaceIndex_ = polygonsIndexMax_ - 1;
}

- (void)updateFacesDeprecated {
  OrgGeogebraCommonMainApp_debugWithNSString_(@"old file version");
  for (OrgGeogebraCommonKernelConstructionElementCycle * __strong currentFace in nil_chk([((JavaUtilTreeMap *) nil_chk(polygonsIndex_)) keySet])) {
    if ([((JavaUtilTreeMap *) nil_chk(polygons_)) containsKeyWithId:[polygonsIndex_ getWithId:currentFace]]) continue;
    IOSObjectArray *p = [IOSObjectArray arrayWithLength:[((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(currentFace)) size] type:OrgGeogebraCommonKernelKernelNDGeoPointND_class_()];
    IOSObjectArray *s = [IOSObjectArray arrayWithLength:[currentFace size] type:OrgGeogebraCommonKernelKernelNDGeoSegmentND_class_()];
    id<JavaUtilIterator> it2 = [currentFace iterator];
    id<OrgGeogebraCommonKernelKernelNDGeoPointND> endPoint = (id<OrgGeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([((id<JavaUtilIterator>) nil_chk(it2)) next], @protocol(OrgGeogebraCommonKernelKernelNDGeoPointND));
    jint j = 0;
    IOSObjectArray_Set(p, j, endPoint);
    id<OrgGeogebraCommonKernelKernelNDGeoPointND> firstPoint = endPoint;
    for (; [it2 hasNext]; ) {
      id<OrgGeogebraCommonKernelKernelNDGeoPointND> startPoint = endPoint;
      endPoint = (id<OrgGeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([it2 next], @protocol(OrgGeogebraCommonKernelKernelNDGeoPointND));
      IOSObjectArray_Set(s, j, [self createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:startPoint withOrgGeogebraCommonKernelKernelNDGeoPointND:endPoint]);
      j++;
      IOSObjectArray_Set(p, j, endPoint);
    }
    IOSObjectArray_Set(s, j, [self createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:endPoint withOrgGeogebraCommonKernelKernelNDGeoPointND:firstPoint]);
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *polygon = [self createPolygonWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:p withInt:[((JavaLangInteger *) nil_chk([polygonsIndex_ getWithId:currentFace])) intValue]];
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setSegmentsWithOrgGeogebraCommonKernelKernelNDGeoSegmentNDArray:s];
  }
}

- (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *)createPolygonWithInt:(jint)index {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_set_currentFace_(self, [((JavaUtilArrayList *) nil_chk(polygonsDescriptions_)) getWithInt:index]);
  IOSObjectArray *p = [IOSObjectArray arrayWithLength:[((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(currentFace_)) size] type:OrgGeogebraCommonKernelKernelNDGeoPointND_class_()];
  IOSObjectArray *s = [IOSObjectArray arrayWithLength:[currentFace_ size] type:OrgGeogebraCommonKernelKernelNDGeoSegmentND_class_()];
  id<OrgGeogebraCommonKernelKernelNDGeoPointND> endPoint = (id<OrgGeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([currentFace_ getWithInt:0], @protocol(OrgGeogebraCommonKernelKernelNDGeoPointND));
  IOSObjectArray_Set(p, 0, endPoint);
  id<OrgGeogebraCommonKernelKernelNDGeoPointND> firstPoint = endPoint;
  jint j;
  for (j = 1; j < [currentFace_ size]; j++) {
    id<OrgGeogebraCommonKernelKernelNDGeoPointND> startPoint = endPoint;
    endPoint = (id<OrgGeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([currentFace_ getWithInt:j], @protocol(OrgGeogebraCommonKernelKernelNDGeoPointND));
    IOSObjectArray_Set(s, j - 1, [self createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:startPoint withOrgGeogebraCommonKernelKernelNDGeoPointND:endPoint]);
    IOSObjectArray_Set(p, j, endPoint);
  }
  IOSObjectArray_Set(s, j - 1, [self createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:endPoint withOrgGeogebraCommonKernelKernelNDGeoPointND:firstPoint]);
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *polygon = [self createPolygonWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:p withInt:index];
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setSegmentsWithOrgGeogebraCommonKernelKernelNDGeoSegmentNDArray:s];
  return polygon;
}

- (void)createFaces {
  for (jint index = 0; index < [((JavaUtilArrayList *) nil_chk(polygonsDescriptions_)) size]; index++) {
    [self createPolygonWithInt:index];
  }
}

- (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *)createPolygonWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points
                                                                                                                 withInt:(jint)index {
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3D *algo = [new_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolygon3D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_(cons_, points, NO, self) autorelease];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) removeFromConstructionListWithOrgGeogebraCommonKernelAlgosConstructionElement:algo];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *polygon = (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) check_class_cast([algo getPoly], [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D class]);
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setObjColorWithOrgGeogebraCommonAwtGColor:[self getObjectColor]];
  [polygon setAlphaValueWithFloat:[self getAlphaValue]];
  [polygon setLineThicknessWithInt:[self getLineThickness]];
  [polygon setLineTypeWithInt:[self getLineType]];
  [polygon setInitLabelsCalledWithBoolean:YES];
  if (condShowObject_ != nil) {
    @try {
      [polygon setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:[self getShowObjectCondition]];
    }
    @catch (JavaLangException *e) {
    }
  }
  [((JavaUtilTreeMap *) nil_chk(polygons_)) putWithId:JavaLangInteger_valueOfWithInt_(index) withId:polygon];
  return polygon;
}

- (void)addPolygonLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon:(OrgGeogebraCommonKernelGeosGeoPolygon *)polygon {
  [((JavaUtilArrayList *) nil_chk(polygonsLinked_)) addWithId:polygon];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon_(self, polygon);
  [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) addMetaWithOrgGeogebraCommonKernelGeosGeoElement:self];
}

- (void)addPointCreatedWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D:(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *)point {
  [((JavaUtilArrayList *) nil_chk(pointsCreated_)) addWithId:point];
}

- (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)startPoint
                                                                withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)endPoint {
  OrgGeogebraCommonKernelConstructionElementCycle *key = OrgGeogebraCommonKernelConstructionElementCycle_SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelGeosGeoElement_((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(startPoint, [OrgGeogebraCommonKernelGeosGeoElement class]), (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(endPoint, [OrgGeogebraCommonKernelGeosGeoElement class]));
  if ([((JavaUtilTreeMap *) nil_chk(segmentsIndex_)) containsKeyWithId:key]) {
    return [((JavaUtilTreeMap *) nil_chk(segments_)) getWithId:[segmentsIndex_ getWithId:key]];
  }
  if ([((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) containsKeyWithId:key]) {
    return [segmentsLinked_ getWithId:key];
  }
  return [self createNewSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:startPoint withOrgGeogebraCommonKernelKernelNDGeoPointND:endPoint withOrgGeogebraCommonKernelConstructionElementCycle:key];
}

- (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)createNewSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)startPoint
                                                                   withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)endPoint
                                                             withOrgGeogebraCommonKernelConstructionElementCycle:(OrgGeogebraCommonKernelConstructionElementCycle *)key {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *segment;
  OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoJoinPoints3D *algoSegment = [new_OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoJoinPoints3D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointND_withOrgGeogebraCommonKernelKernelNDGeoPointND_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonPluginGeoClassEnum_(cons_, startPoint, endPoint, self, OrgGeogebraCommonPluginGeoClassEnum_get_SEGMENT3D()) autorelease];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) removeFromConstructionListWithOrgGeogebraCommonKernelAlgosConstructionElement:algoSegment];
  segment = (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) check_class_cast([algoSegment getCS], [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D class]);
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setObjColorWithOrgGeogebraCommonAwtGColor:[self getObjectColor]];
  [segment setLineThicknessWithInt:[self getLineThickness]];
  [segment setLineTypeWithInt:[self getLineType]];
  if (condShowObject_ != nil) {
    @try {
      [segment setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:[self getShowObjectCondition]];
    }
    @catch (JavaLangException *e) {
    }
  }
  [self storeSegmentWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D:segment withOrgGeogebraCommonKernelConstructionElementCycle:key];
  return segment;
}

- (void)storeSegmentWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D:(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *)segment
                        withOrgGeogebraCommonKernelConstructionElementCycle:(OrgGeogebraCommonKernelConstructionElementCycle *)key {
  JavaLangLong *index = [new_JavaLangLong_initWithLong_(segmentsIndexMax_) autorelease];
  [((JavaUtilTreeMap *) nil_chk(segmentsIndex_)) putWithId:key withId:index];
  [((JavaUtilTreeMap *) nil_chk(segments_)) putWithId:index withId:segment];
  segmentsIndexMax_++;
}

- (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)getSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)startPoint
                                                             withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)endPoint {
  OrgGeogebraCommonKernelConstructionElementCycle *key = OrgGeogebraCommonKernelConstructionElementCycle_SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelGeosGeoElement_((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(startPoint, [OrgGeogebraCommonKernelGeosGeoElement class]), (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(endPoint, [OrgGeogebraCommonKernelGeosGeoElement class]));
  if ([((JavaUtilTreeMap *) nil_chk(segmentsIndex_)) containsKeyWithId:key]) return [((JavaUtilTreeMap *) nil_chk(segments_)) getWithId:[segmentsIndex_ getWithId:key]];
  if ([((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) containsKeyWithId:key]) return [segmentsLinked_ getWithId:key];
  return nil;
}

- (void)addSegmentLinkedWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:(id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)segment {
  OrgGeogebraCommonKernelConstructionElementCycle *key = OrgGeogebraCommonKernelConstructionElementCycle_SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelGeosGeoElement_([((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) getStartPointAsGeoElement], [segment getEndPointAsGeoElement]);
  [((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) putWithId:key withId:segment];
}

- (void)defaultLabelsWithNSStringArray:(IOSObjectArray *)labels {
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isSuppressLabelsActive]) {
    return;
  }
  if (labels == nil || labels->size_ == 0) labels = [IOSObjectArray arrayWithLength:1 type:NSString_class_()];
  [self setLabelWithNSString:IOSObjectArray_Get(nil_chk(labels), 0)];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(self);
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(self);
}

- (jboolean)allLabelsAreSet {
  return allLabelsAreSet__;
}

- (void)setAllLabelsAreSetWithBoolean:(jboolean)flag {
  allLabelsAreSet__ = flag;
}

- (void)initLabelsWithNSStringArray:(IOSObjectArray *)labels {
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isSuppressLabelsActive]) {
    return;
  }
  [self setAllLabelsAreSetWithBoolean:YES];
  if (labels == nil || labels->size_ == 0) {
    labels = [IOSObjectArray arrayWithLength:1 type:NSString_class_()];
  }
  [self setLabelWithNSString:IOSObjectArray_Get(nil_chk(labels), 0)];
  jint index = 1;
  if (labels->size_ - index < [((JavaUtilArrayList *) nil_chk(pointsCreated_)) size]) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPointsLabels(self);
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(self);
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(self);
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D * __strong point in pointsCreated_) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(point)) setLabelWithNSString:IOSObjectArray_Get(labels, index)];
    index++;
  }
  if (labels->size_ - index < [((JavaUtilTreeMap *) nil_chk(polygons_)) size]) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(self);
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(self);
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([polygons_ values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLabelWithNSString:IOSObjectArray_Get(labels, index)];
    index++;
  }
  if (labels->size_ - index < [((JavaUtilTreeMap *) nil_chk(segments_)) size]) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(self);
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([segments_ values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLabelWithNSString:IOSObjectArray_Get(labels, index)];
    index++;
  }
}

- (void)defaultPointsLabels {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPointsLabels(self);
}

+ (jint)usableLabelWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  return OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_usableLabelWithOrgGeogebraCommonKernelGeosGeoElement_(geo);
}

- (void)defaultPolygonsLabels {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(self);
}

- (void)defaultSegmentLabels {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(self);
}

- (IOSObjectArray *)getSegments {
  IOSObjectArray *ret = [IOSObjectArray arrayWithLength:[((JavaUtilTreeMap *) nil_chk(segments_)) size] type:OrgGeogebraCommonKernelKernelNDGeoSegmentND_class_()];
  jint i = 0;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([segments_ values])) {
    IOSObjectArray_Set(ret, i, segment);
    i++;
  }
  return ret;
}

- (IOSObjectArray *)getSegments3D {
  IOSObjectArray *ret = [IOSObjectArray arrayWithLength:[((JavaUtilTreeMap *) nil_chk(segments_)) size] type:OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D_class_()];
  jint i = 0;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([segments_ values])) {
    IOSObjectArray_Set(ret, i, segment);
    i++;
  }
  return ret;
}

- (IOSObjectArray *)getFaces {
  IOSObjectArray *polygonsArray = [IOSObjectArray arrayWithLength:[((JavaUtilArrayList *) nil_chk(polygonsLinked_)) size] + [((JavaUtilTreeMap *) nil_chk(polygons_)) size] type:OrgGeogebraCommonKernelGeosGeoPolygon_class_()];
  jint index = 0;
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in polygonsLinked_) {
    IOSObjectArray_Set(polygonsArray, index, polygon);
    index++;
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk([polygons_ values])) {
    IOSObjectArray_Set(polygonsArray, index, polygon);
    index++;
  }
  return polygonsArray;
}

- (IOSObjectArray *)getFaces3D {
  IOSObjectArray *polygonsArray = [IOSObjectArray arrayWithLength:[((JavaUtilTreeMap *) nil_chk(polygons_)) size] type:OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D_class_()];
  jint index = 0;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([polygons_ values])) {
    IOSObjectArray_Set(polygonsArray, index, polygon);
    index++;
  }
  return polygonsArray;
}

- (id<JavaUtilCollection>)getFacesCollection {
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) values];
}

- (OrgGeogebraCommonKernelGeosGeoPolygon *)getFaceWithInt:(jint)index {
  jint polygonsLinkedSize = [((JavaUtilArrayList *) nil_chk(polygonsLinked_)) size];
  if (index < polygonsLinkedSize) {
    return [polygonsLinked_ getWithInt:index];
  }
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(index - polygonsLinkedSize)];
}

- (jint)getFacesSize {
  return [((JavaUtilArrayList *) nil_chk(polygonsLinked_)) size] + [((JavaUtilTreeMap *) nil_chk(polygons_)) size];
}

- (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *)getFace3DWithInt:(jint)index {
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(index)];
}

- (id<JavaUtilCollection>)getPolygons {
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) values];
}

- (void)setReverseNormalsForDrawingWithBoolean:(jboolean)flag {
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setReverseNormalForDrawingWithBoolean:flag];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setReverseNormalForDrawingWithBoolean:flag];
  }
}

- (void)setReverseNormals {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setReverseNormal];
  }
  [self setReverseNormalsForDrawingWithBoolean:YES];
}

- (void)setEuclidianVisibleWithBoolean:(jboolean)visible {
  [super setEuclidianVisibleWithBoolean:visible];
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setEuclidianVisibleWithBoolean:visible withBoolean:NO];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setEuclidianVisibleWithBoolean:visible withBoolean:NO];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setEuclidianVisibleWithBoolean:visible];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) setEuclidianVisibleWithBoolean:visible];
  }
}

- (void)setObjColorWithOrgGeogebraCommonAwtGColor:(OrgGeogebraCommonAwtGColor *)color {
  [super setObjColorWithOrgGeogebraCommonAwtGColor:color];
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setObjColorWithOrgGeogebraCommonAwtGColor:color];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setObjColorWithOrgGeogebraCommonAwtGColor:color];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setObjColorWithOrgGeogebraCommonAwtGColor:color];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) setObjColorWithOrgGeogebraCommonAwtGColor:color];
    [segment updateVisualStyle];
  }
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyRepaint];
}

- (void)removeColorFunction {
  [super removeColorFunction];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) {
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) removeColorFunction];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) removeColorFunction];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) removeColorFunction];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) removeColorFunction];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyRepaint];
}

- (void)setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)col {
  [super setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:col];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) {
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:col];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:col];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:col];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:col];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyRepaint];
}

- (void)setLineTypeWithInt:(jint)type {
  [super setLineTypeWithInt:type];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLineTypeWithInt:type withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setLineTypeWithInt:type withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLineTypeWithInt:type];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setLineTypeWithInt:type];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
}

- (void)setLayerWithInt:(jint)layer2 {
  [super setLayerWithInt:layer2];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLayerWithInt:layer2];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setLayerWithInt:layer2];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLayerWithInt:layer2];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setLayerWithInt:layer2];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
}

- (void)setLineTypeHiddenWithInt:(jint)type {
  [super setLineTypeHiddenWithInt:type];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLineTypeHiddenWithInt:type withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setLineTypeHiddenWithInt:type withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLineTypeHiddenWithInt:type];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setLineTypeHiddenWithInt:type];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
}

- (void)setLineThicknessWithInt:(jint)th {
  [super setLineThicknessWithInt:th];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLineThicknessWithInt:th withBoolean:NO];
    [polygon update];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setLineThicknessWithInt:th withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLineThicknessWithInt:th];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) setLineThicknessWithInt:th];
    [segment updateVisualStyle];
  }
}

- (void)setLineThicknessOrVisibilityWithInt:(jint)th {
  [super setLineThicknessWithInt:th];
  if (polygons_ == nil || [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setLineThicknessWithInt:th withBoolean:NO];
    [polygon update];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setLineThicknessWithInt:th withBoolean:NO];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setLineThicknessOrVisibilityWithInt:th];
    [segment updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setLineThicknessOrVisibilityWithInt:th];
    [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) updateVisualStyle];
  }
}

- (void)setAlphaValueWithFloat:(jfloat)alpha {
  [super setAlphaValueWithFloat:alpha];
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setAlphaValueWithFloat:alpha];
    [polygon updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setAlphaValueWithFloat:alpha];
    [polygon updateVisualStyle];
  }
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyRepaint];
}

- (OrgGeogebraCommonKernelGeosGeoElement *)copy__ {
  return [new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_(self) autorelease];
}

- (OrgGeogebraCommonPluginGeoClassEnum *)getGeoClassType {
  return OrgGeogebraCommonPluginGeoClassEnum_get_POLYHEDRON();
}

- (NSString *)getTypeString {
  switch (type_) {
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_PRISM:
    return @"Prism";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_PYRAMID:
    return @"Pyramid";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_TETRAHEDRON:
    return @"Tetrahedron";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_CUBE:
    return @"Cube";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_OCTAHEDRON:
    return @"Octahedron";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_DODECAHEDRON:
    return @"Dodecahedron";
    case OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_ICOSAHEDRON:
    return @"Icosahedron";
    default:
    return @"Polyhedron";
  }
}

- (jboolean)isDefined {
  return isDefined__;
}

- (jboolean)isEqualWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)Geo {
  return NO;
}

- (void)setWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  if ([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoPolyhedron]) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *polyhedron = (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *) check_class_cast(geo, [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron class]);
    isDefined__ = polyhedron->isDefined__;
    type_ = polyhedron->type_;
    [self setVolumeWithDouble:[polyhedron getVolume]];
    [self setAreaWithDouble:[polyhedron getArea]];
    [self setOrientedHeightWithDouble:[polyhedron getOrientedHeight]];
    topFaceIndex_ = polyhedron->topFaceIndex_;
    if (![((JavaUtilArrayList *) nil_chk(polyhedron->polygonsLinked_)) isEmpty]) {
      topFaceIndex_++;
    }
    jint index = 0;
    for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in polyhedron->polygonsLinked_) {
      if (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPolygonWithInt_withOrgGeogebraCommonKernelGeosGeoPolygon_(self, index, p)) {
        index++;
      }
    }
    for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polyhedron->polygons_)) values])) {
      if (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPolygonWithInt_withOrgGeogebraCommonKernelGeosGeoPolygon_(self, index, p)) {
        index++;
      }
    }
    if (![polygons_ isEmpty]) {
      for (jint i = index; i <= [((JavaLangInteger *) nil_chk([polygons_ lastKey])) intValue]; i++) {
        [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk([polygons_ getWithId:JavaLangInteger_valueOfWithInt_(i)])) setUndefined];
      }
    }
    index = 0;
    for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong s in nil_chk([((JavaUtilTreeMap *) nil_chk(polyhedron->segmentsLinked_)) values])) {
      if (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setSegmentWithLong_withOrgGeogebraCommonKernelKernelNDGeoSegmentND_(self, index, s)) {
        index++;
      }
    }
    for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong s in nil_chk([((JavaUtilTreeMap *) nil_chk(polyhedron->segments_)) values])) {
      if (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setSegmentWithLong_withOrgGeogebraCommonKernelKernelNDGeoSegmentND_(self, index, s)) {
        index++;
      }
    }
    if (![segments_ isEmpty]) {
      for (jint i = index; i <= [((JavaLangLong *) nil_chk([segments_ lastKey])) longLongValue]; i++) {
        [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk([segments_ getWithId:JavaLangLong_valueOfWithLong_((jlong) i)])) setUndefined];
      }
    }
  }
}

- (jboolean)setPolygonWithInt:(jint)index
withOrgGeogebraCommonKernelGeosGeoPolygon:(OrgGeogebraCommonKernelGeosGeoPolygon *)p {
  return OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPolygonWithInt_withOrgGeogebraCommonKernelGeosGeoPolygon_(self, index, p);
}

- (jboolean)setSegmentWithLong:(jlong)index
withOrgGeogebraCommonKernelKernelNDGeoSegmentND:(id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)s {
  return OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setSegmentWithLong_withOrgGeogebraCommonKernelKernelNDGeoSegmentND_(self, index, s);
}

- (void)setUndefined {
  isDefined__ = NO;
  volume_ = JavaLangDouble_NaN;
}

- (void)setDefined {
  isDefined__ = YES;
}

- (jboolean)showInAlgebraView {
  return [self isDefined];
}

- (jboolean)showInEuclidianView {
  return [self isDefined];
}

- (jboolean)isGeoPolyhedron {
  return YES;
}

- (NSString *)toValueStringWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  return [((OrgGeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:[self getVolume] withOrgGeogebraCommonKernelStringTemplate:tpl];
}

- (NSString *)toStringWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  [((JavaLangStringBuilder *) nil_chk(sbToString_GeoPolyhedron_)) setLengthWithInt:0];
  [sbToString_GeoPolyhedron_ appendWithNSString:label_];
  [sbToString_GeoPolyhedron_ appendWithNSString:@" = "];
  [sbToString_GeoPolyhedron_ appendWithNSString:[((OrgGeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:[self getVolume] withOrgGeogebraCommonKernelStringTemplate:tpl]];
  return [sbToString_GeoPolyhedron_ description];
}

- (NSString *)toStringMinimalWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  [((JavaLangStringBuilder *) nil_chk(sbToString_GeoPolyhedron_)) setLengthWithInt:0];
  [sbToString_GeoPolyhedron_ appendWithNSString:[self regrFormatWithDouble:[self getVolume]]];
  return [sbToString_GeoPolyhedron_ description];
}

- (jboolean)isFillable {
  return YES;
}

- (void)getXMLtagsWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  [self getLineStyleXMLWithJavaLangStringBuilder:sb];
  [super getXMLtagsWithJavaLangStringBuilder:sb];
}

- (OrgGeogebraCommonKernelMatrixCoords *)getLabelPosition {
  return [new_OrgGeogebraCommonKernelMatrixCoords_initWithInt_(4) autorelease];
}

- (void)remove {
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) removeMetaWithOrgGeogebraCommonKernelGeosGeoElement:self];
  }
  if (self != [((OrgGeogebraCommonKernelConstruction *) nil_chk([self getConstruction])) getKeepGeo]) [super remove];
}

- (void)setVolumeWithDouble:(jdouble)volume {
  self->volume_ = volume;
}

- (jdouble)getVolume {
  return volume_;
}

- (jboolean)hasFiniteVolume {
  return [self isDefined];
}

- (void)setAreaWithDouble:(jdouble)area {
  self->area_ = area;
}

- (jdouble)getArea {
  OrgGeogebraCommonKernelAlgosAlgoElement *algo = [self getParentAlgorithm];
  if (algo != nil && [algo isKindOfClass:[OrgGeogebraCommonGeogebra3DKernel3DAlgosAlgoPolyhedronPoints class]]) {
    area_ = 0;
    for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in nil_chk(polygonsLinked_)) {
      area_ += [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(p)) getArea];
    }
    for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
      if ([((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(p)) isDefined]) {
        area_ += [p getArea];
      }
    }
  }
  return area_;
}

- (jboolean)hasFiniteArea {
  return [self isDefined];
}

- (jboolean)isTraceable {
  return YES;
}

- (jboolean)getTrace {
  return trace_;
}

- (void)setTraceWithBoolean:(jboolean)trace {
  self->trace_ = trace;
  if (polygons_ == nil) {
    return;
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setTraceWithBoolean:trace];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setTraceWithBoolean:trace];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setTraceWithBoolean:trace];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((id<OrgGeogebraCommonKernelGeosTraceable>) nil_chk(((id<OrgGeogebraCommonKernelGeosTraceable>) check_protocol_cast(segment, @protocol(OrgGeogebraCommonKernelGeosTraceable))))) setTraceWithBoolean:trace];
  }
  [((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) notifyRepaint];
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)r
                 withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)S {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoPointND:S];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoPointND:S];
    }
  }
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)r {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r];
    }
  }
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)r
                 withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)S
             withOrgGeogebraCommonKernelKernelNDGeoDirectionND:(id<OrgGeogebraCommonKernelKernelNDGeoDirectionND>)orientation {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoPointND:S withOrgGeogebraCommonKernelKernelNDGeoDirectionND:orientation];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoPointND:S withOrgGeogebraCommonKernelKernelNDGeoDirectionND:orientation];
    }
  }
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)r
                  withOrgGeogebraCommonKernelKernelNDGeoLineND:(id<OrgGeogebraCommonKernelKernelNDGeoLineND>)line {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoLineND:line];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:r withOrgGeogebraCommonKernelKernelNDGeoLineND:line];
    }
  }
}

- (jboolean)isTranslateable {
  return YES;
}

- (void)translateWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)v {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg translateWithOrgGeogebraCommonKernelMatrixCoords:v];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p translateWithOrgGeogebraCommonKernelMatrixCoords:v];
    }
  }
}

- (void)mirrorWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)Q {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg mirrorWithOrgGeogebraCommonKernelMatrixCoords:Q];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p mirrorWithOrgGeogebraCommonKernelMatrixCoords:Q];
    }
  }
}

- (void)mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:(id<OrgGeogebraCommonKernelKernelNDGeoLineND>)g {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:g];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:g];
    }
  }
}

- (void)mirrorWithOrgGeogebraCommonKernelKernelNDGeoCoordSys2D:(id<OrgGeogebraCommonKernelKernelNDGeoCoordSys2D>)plane {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg mirrorWithOrgGeogebraCommonKernelKernelNDGeoCoordSys2D:plane];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p mirrorWithOrgGeogebraCommonKernelKernelNDGeoCoordSys2D:plane];
    }
  }
}

- (void)dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)rval
                       withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)S {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong seg in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) isDefined]) {
      [seg dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:rval withOrgGeogebraCommonKernelMatrixCoords:S];
    }
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong p in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    if ([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(p)) isDefined]) {
      [p dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:rval withOrgGeogebraCommonKernelMatrixCoords:S];
    }
  }
  jdouble r = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(rval)) getDouble];
  jdouble rAbs = JavaLangMath_absWithDouble_(r);
  volume_ *= rAbs * rAbs * rAbs;
  area_ *= rAbs * rAbs;
  orientedHeight_ *= r;
}

- (void)setOrientedHeightWithDouble:(jdouble)height {
  orientedHeight_ = height;
}

- (jdouble)getOrientedHeight {
  return orientedHeight_;
}

- (OrgGeogebraCommonKernelGeosGeoPolygon *)getBottomFace {
  if ([((JavaUtilArrayList *) nil_chk(polygonsLinked_)) isEmpty]) {
    return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(0)];
  }
  return [polygonsLinked_ getWithInt:0];
}

- (OrgGeogebraCommonKernelGeosGeoPolygon *)getTopFace {
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(topFaceIndex_)];
}

- (OrgGeogebraCommonKernelGeosGeoPolygon *)getFirstSideFace {
  if ([((JavaUtilArrayList *) nil_chk(polygonsLinked_)) isEmpty]) {
    return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(1)];
  }
  return [((JavaUtilTreeMap *) nil_chk(polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(0)];
}

- (OrgGeogebraCommonKernelMatrixCoords *)getTopPoint {
  OrgGeogebraCommonKernelGeosGeoPolygon *p = [self getFirstSideFace];
  return [p getPoint3DWithInt:[((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(p)) getPointsLength] - 1];
}

- (jboolean)isPath {
  return YES;
}

- (id<OrgGeogebraCommonKernelPathMover>)createPathMover {
  return [new_OrgGeogebraCommonKernelPathMoverGeneric_initWithOrgGeogebraCommonKernelPath_(self) autorelease];
}

- (jdouble)getMaxParameter {
  return [((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) size] + [((JavaUtilTreeMap *) nil_chk(segments_)) size];
}

- (jdouble)getMinParameter {
  return 0;
}

- (jboolean)isClosedPath {
  return YES;
}

- (void)pathChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)PI {
  if (![((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) usePathAndRegionParametersWithOrgGeogebraCommonKernelKernelNDGeoPointND:PI]) {
    [self pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:PI];
    return;
  }
  if (!([PI isKindOfClass:[OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D class]])) return;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *P = (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) check_class_cast(PI, [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D class]);
  OrgGeogebraCommonKernelPathParameter *pp = [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(P)) getPathParameter];
  jdouble oldT = [((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp)) getT];
  jint index = J2ObjCFpToInt([pp getT]);
  id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> seg;
  if (index < [((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) size]) {
    seg = (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) check_protocol_cast(IOSObjectArray_Get(nil_chk([((id<JavaUtilCollection>) nil_chk([segmentsLinked_ values])) toArray]), index), @protocol(OrgGeogebraCommonKernelKernelNDGeoSegmentND));
  }
  else {
    seg = (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) check_protocol_cast(IOSObjectArray_Get(nil_chk([((id<JavaUtilCollection>) nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) toArray]), index - [segmentsLinked_ size]), @protocol(OrgGeogebraCommonKernelKernelNDGeoSegmentND));
  }
  [pp setTWithDouble:[pp getT] - index];
  [((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(seg)) pathChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:P];
  [pp setTWithDouble:oldT];
}

- (void)pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)PI {
  if (!([PI isKindOfClass:[OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D class]])) return;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *P = (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) check_class_cast(PI, [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D class]);
  OrgGeogebraCommonKernelMatrixCoords *coordsOld = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(P)) getInhomCoords])) copyVector];
  id<OrgGeogebraCommonKernelRegion> region = [P getRegion];
  [P setRegionWithOrgGeogebraCommonKernelRegion:nil];
  jdouble minDist = JavaLangDouble_POSITIVE_INFINITY;
  OrgGeogebraCommonKernelMatrixCoords *res = nil;
  jdouble param = 0;
  OrgGeogebraCommonKernelPathParameter *pp = [P getPathParameter];
  jint i = 0;
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) values])) {
    [P setCoordsWithOrgGeogebraCommonKernelMatrixCoords:coordsOld withBoolean:NO];
    if ([((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) isDefined]) {
      [segment pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:P];
    }
    jdouble dist;
    if ([P hasWillingCoords] && [P hasWillingDirection]) {
      dist = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) distLineWithOrgGeogebraCommonKernelMatrixCoords:[P getWillingCoords] withOrgGeogebraCommonKernelMatrixCoords:[P getWillingDirection]];
    }
    else {
      dist = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) subWithOrgGeogebraCommonKernelMatrixCoords:coordsOld])) squareNorm];
    }
    if (dist < minDist) {
      minDist = dist;
      res = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) copyVector];
      param = i + [((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp)) getT];
    }
    i++;
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [P setCoordsWithOrgGeogebraCommonKernelMatrixCoords:coordsOld withBoolean:NO];
    if ([((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) isDefined]) {
      [segment pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:P];
    }
    jdouble dist;
    if ([P hasWillingCoords] && [P hasWillingDirection]) {
      dist = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) distLineWithOrgGeogebraCommonKernelMatrixCoords:[P getWillingCoords] withOrgGeogebraCommonKernelMatrixCoords:[P getWillingDirection]];
    }
    else {
      dist = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) subWithOrgGeogebraCommonKernelMatrixCoords:coordsOld])) squareNorm];
    }
    if (dist < minDist) {
      minDist = dist;
      res = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([P getInhomCoords])) copyVector];
      param = i + [((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp)) getT];
    }
    i++;
  }
  [P setCoordsWithOrgGeogebraCommonKernelMatrixCoords:res withBoolean:NO];
  [((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp)) setTWithDouble:param];
  [P setRegionWithOrgGeogebraCommonKernelRegion:region];
}

- (jboolean)isOnPathWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)PI
                                                       withDouble:(jdouble)eps {
  OrgGeogebraCommonKernelGeosGeoPoint *P = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(PI, [OrgGeogebraCommonKernelGeosGeoPoint class]);
  if ([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(P)) getPath] == self) return YES;
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segmentsLinked_)) values])) {
    if ([((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) isDefined] && [segment isOnPathWithOrgGeogebraCommonKernelKernelNDGeoPointND:P withDouble:eps]) return YES;
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    if ([((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(segment)) isDefined] && [segment isOnPathWithOrgGeogebraCommonKernelKernelNDGeoPointND:P withDouble:eps]) return YES;
  }
  return NO;
}

- (void)setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:(OrgGeogebraCommonKernelGeosGeoBoolean *)cond {
  [super setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  if ([((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) isFileLoading]) return;
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D * __strong point in nil_chk(pointsCreated_)) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(point)) setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:cond];
  }
}

- (void)updateVisualStyle {
  [super updateVisualStyle];
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D * __strong point in nil_chk(pointsCreated_)) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(point)) updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D * __strong polygon in nil_chk([((JavaUtilTreeMap *) nil_chk(polygons_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(polygon)) updateVisualStyle];
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong polygon in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) updateVisualStyle];
  }
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D * __strong segment in nil_chk([((JavaUtilTreeMap *) nil_chk(segments_)) values])) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(segment)) updateVisualStyle];
  }
  for (id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> __strong segment in nil_chk([self getSegmentsLinked])) {
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(((OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(segment, [OrgGeogebraCommonKernelGeosGeoElement class])))) updateVisualStyle];
  }
}

- (void)setPointSizeOrVisibilityWithInt:(jint)size {
  if (size > 0) {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointSizeWithInt_(self, size);
  }
  else {
    OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointNotVisibile(self);
  }
  for (OrgGeogebraCommonKernelGeosGeoPolygon * __strong p in nil_chk(polygonsLinked_)) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(p)) setPointSizeOrVisibilityWithInt:size];
  }
}

- (void)setPointSizeWithInt:(jint)size {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointSizeWithInt_(self, size);
}

- (void)setPointNotVisibile {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointNotVisibile(self);
}

- (OrgGeogebraCommonKernelGeosGeoElement_HitTypeEnum *)getLastHitType {
  return OrgGeogebraCommonKernelGeosGeoElement_HitTypeEnum_get_ON_FILLING();
}

- (OrgGeogebraCommonKernelArithmeticMyDouble *)getNumber {
  return [new_OrgGeogebraCommonKernelArithmeticMyDouble_initWithOrgGeogebraCommonKernelKernel_withDouble_(kernel_, [self getDouble]) autorelease];
}

- (jdouble)getDouble {
  return [self getVolume];
}

- (void)dealloc {
  RELEASE_(segmentsIndex_);
  RELEASE_(segments_);
  RELEASE_(segmentsLinked_);
  RELEASE_(polygonsIndex_);
  RELEASE_(polygonsDescriptions_);
  RELEASE_(polygons_);
  RELEASE_(polygonsLinked_);
  RELEASE_(pointsCreated_);
  RELEASE_(currentFace_);
  RELEASE_(sb_);
  RELEASE_(sbToString_GeoPolyhedron_);
  [super dealloc];
}

+ (IOSObjectArray *)__annotations_updateFacesDeprecated {
  return [IOSObjectArray arrayWithObjects:(id[]) { [[[JavaLangDeprecated alloc] init] autorelease] } count:1 type:JavaLangAnnotationAnnotation_class_()];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:", "GeoPolyhedron", NULL, 0x1, NULL, NULL },
    { "addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon:", "addSegmentsLinked", "V", 0x2, NULL, NULL },
    { "updateSegmentsLinked", NULL, "V", 0x1, NULL, NULL },
    { "getSegmentsLinked", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "getPolygonsLinked", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron:", "GeoPolyhedron", NULL, 0x1, NULL, NULL },
    { "setTypeWithInt:", "setType", "V", 0x1, NULL, NULL },
    { "getType", NULL, "I", 0x1, NULL, NULL },
    { "startNewFace", NULL, "V", 0x1, NULL, NULL },
    { "addPointToCurrentFaceWithOrgGeogebraCommonKernelKernelNDGeoPointND:", "addPointToCurrentFace", "V", 0x1, NULL, NULL },
    { "endCurrentFace", NULL, "V", 0x1, NULL, NULL },
    { "setCurrentFaceIsTopFace", NULL, "V", 0x1, NULL, NULL },
    { "updateFacesDeprecated", NULL, "V", 0x1, NULL, NULL },
    { "createPolygonWithInt:", "createPolygon", "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoPolygon3D;", 0x1, NULL, NULL },
    { "createFaces", NULL, "V", 0x1, NULL, NULL },
    { "createPolygonWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:withInt:", "createPolygon", "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoPolygon3D;", 0x1, NULL, NULL },
    { "addPolygonLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon:", "addPolygonLinked", "V", 0x1, NULL, NULL },
    { "addPointCreatedWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D:", "addPointCreated", "V", 0x1, NULL, NULL },
    { "createSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelKernelNDGeoPointND:", "createSegment", "Lorg.geogebra.common.kernel.kernelND.GeoSegmentND;", 0x1, NULL, NULL },
    { "createNewSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelConstructionElementCycle:", "createNewSegment", "Lorg.geogebra.common.kernel.kernelND.GeoSegmentND;", 0x4, NULL, NULL },
    { "storeSegmentWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D:withOrgGeogebraCommonKernelConstructionElementCycle:", "storeSegment", "V", 0x4, NULL, NULL },
    { "getSegmentWithOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelKernelNDGeoPointND:", "getSegment", "Lorg.geogebra.common.kernel.kernelND.GeoSegmentND;", 0x1, NULL, NULL },
    { "addSegmentLinkedWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:", "addSegmentLinked", "V", 0x1, NULL, NULL },
    { "defaultLabelsWithNSStringArray:", "defaultLabels", "V", 0x1, NULL, NULL },
    { "allLabelsAreSet", NULL, "Z", 0x11, NULL, NULL },
    { "setAllLabelsAreSetWithBoolean:", "setAllLabelsAreSet", "V", 0x1, NULL, NULL },
    { "initLabelsWithNSStringArray:", "initLabels", "V", 0x1, NULL, NULL },
    { "defaultPointsLabels", NULL, "V", 0x2, NULL, NULL },
    { "usableLabelWithOrgGeogebraCommonKernelGeosGeoElement:", "usableLabel", "I", 0xa, NULL, NULL },
    { "defaultPolygonsLabels", NULL, "V", 0x2, NULL, NULL },
    { "defaultSegmentLabels", NULL, "V", 0x2, NULL, NULL },
    { "getSegments", NULL, "[Lorg.geogebra.common.kernel.kernelND.GeoSegmentND;", 0x1, NULL, NULL },
    { "getSegments3D", NULL, "[Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoSegment3D;", 0x1, NULL, NULL },
    { "getFaces", NULL, "[Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getFaces3D", NULL, "[Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoPolygon3D;", 0x1, NULL, NULL },
    { "getFacesCollection", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "getFaceWithInt:", "getFace", "Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getFacesSize", NULL, "I", 0x1, NULL, NULL },
    { "getFace3DWithInt:", "getFace3D", "Lorg.geogebra.common.geogebra3D.kernel3D.geos.GeoPolygon3D;", 0x1, NULL, NULL },
    { "getPolygons", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "setReverseNormalsForDrawingWithBoolean:", "setReverseNormalsForDrawing", "V", 0x1, NULL, NULL },
    { "setReverseNormals", NULL, "V", 0x1, NULL, NULL },
    { "setEuclidianVisibleWithBoolean:", "setEuclidianVisible", "V", 0x1, NULL, NULL },
    { "setObjColorWithOrgGeogebraCommonAwtGColor:", "setObjColor", "V", 0x1, NULL, NULL },
    { "removeColorFunction", NULL, "V", 0x1, NULL, NULL },
    { "setColorFunctionWithOrgGeogebraCommonKernelGeosGeoList:", "setColorFunction", "V", 0x1, NULL, NULL },
    { "setLineTypeWithInt:", "setLineType", "V", 0x1, NULL, NULL },
    { "setLayerWithInt:", "setLayer", "V", 0x1, NULL, NULL },
    { "setLineTypeHiddenWithInt:", "setLineTypeHidden", "V", 0x1, NULL, NULL },
    { "setLineThicknessWithInt:", "setLineThickness", "V", 0x1, NULL, NULL },
    { "setLineThicknessOrVisibilityWithInt:", "setLineThicknessOrVisibility", "V", 0x1, NULL, NULL },
    { "setAlphaValueWithFloat:", "setAlphaValue", "V", 0x1, NULL, NULL },
    { "copy__", "copy", "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "getGeoClassType", NULL, "Lorg.geogebra.common.plugin.GeoClass;", 0x1, NULL, NULL },
    { "getTypeString", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "isDefined", NULL, "Z", 0x1, NULL, NULL },
    { "isEqualWithOrgGeogebraCommonKernelGeosGeoElement:", "isEqual", "Z", 0x1, NULL, NULL },
    { "setWithOrgGeogebraCommonKernelGeosGeoElement:", "set", "V", 0x1, NULL, NULL },
    { "setPolygonWithInt:withOrgGeogebraCommonKernelGeosGeoPolygon:", "setPolygon", "Z", 0x2, NULL, NULL },
    { "setSegmentWithLong:withOrgGeogebraCommonKernelKernelNDGeoSegmentND:", "setSegment", "Z", 0x2, NULL, NULL },
    { "setUndefined", NULL, "V", 0x1, NULL, NULL },
    { "setDefined", NULL, "V", 0x1, NULL, NULL },
    { "showInAlgebraView", NULL, "Z", 0x1, NULL, NULL },
    { "showInEuclidianView", NULL, "Z", 0x4, NULL, NULL },
    { "isGeoPolyhedron", NULL, "Z", 0x1, NULL, NULL },
    { "toValueStringWithOrgGeogebraCommonKernelStringTemplate:", "toValueString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toStringWithOrgGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toStringMinimalWithOrgGeogebraCommonKernelStringTemplate:", "toStringMinimal", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "isFillable", NULL, "Z", 0x1, NULL, NULL },
    { "getXMLtagsWithJavaLangStringBuilder:", "getXMLtags", "V", 0x4, NULL, NULL },
    { "getLabelPosition", NULL, "Lorg.geogebra.common.kernel.Matrix.Coords;", 0x1, NULL, NULL },
    { "remove", NULL, "V", 0x1, NULL, NULL },
    { "setVolumeWithDouble:", "setVolume", "V", 0x1, NULL, NULL },
    { "getVolume", NULL, "D", 0x1, NULL, NULL },
    { "hasFiniteVolume", NULL, "Z", 0x1, NULL, NULL },
    { "setAreaWithDouble:", "setArea", "V", 0x1, NULL, NULL },
    { "getArea", NULL, "D", 0x1, NULL, NULL },
    { "hasFiniteArea", NULL, "Z", 0x1, NULL, NULL },
    { "isTraceable", NULL, "Z", 0x1, NULL, NULL },
    { "getTrace", NULL, "Z", 0x1, NULL, NULL },
    { "setTraceWithBoolean:", "setTrace", "V", 0x1, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelKernelNDGeoPointND:", "rotate", "V", 0x1, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:", "rotate", "V", 0x1, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelKernelNDGeoDirectionND:", "rotate", "V", 0x1, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelKernelNDGeoLineND:", "rotate", "V", 0x1, NULL, NULL },
    { "isTranslateable", NULL, "Z", 0x11, NULL, NULL },
    { "translateWithOrgGeogebraCommonKernelMatrixCoords:", "translate", "V", 0x1, NULL, NULL },
    { "mirrorWithOrgGeogebraCommonKernelMatrixCoords:", "mirror", "V", 0x1, NULL, NULL },
    { "mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:", "mirror", "V", 0x1, NULL, NULL },
    { "mirrorWithOrgGeogebraCommonKernelKernelNDGeoCoordSys2D:", "mirror", "V", 0x1, NULL, NULL },
    { "dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelMatrixCoords:", "dilate", "V", 0x1, NULL, NULL },
    { "setOrientedHeightWithDouble:", "setOrientedHeight", "V", 0x1, NULL, NULL },
    { "getOrientedHeight", NULL, "D", 0x1, NULL, NULL },
    { "getBottomFace", NULL, "Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getTopFace", NULL, "Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getFirstSideFace", NULL, "Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getTopPoint", NULL, "Lorg.geogebra.common.kernel.Matrix.Coords;", 0x1, NULL, NULL },
    { "isPath", NULL, "Z", 0x1, NULL, NULL },
    { "createPathMover", NULL, "Lorg.geogebra.common.kernel.PathMover;", 0x1, NULL, NULL },
    { "getMaxParameter", NULL, "D", 0x1, NULL, NULL },
    { "getMinParameter", NULL, "D", 0x1, NULL, NULL },
    { "isClosedPath", NULL, "Z", 0x1, NULL, NULL },
    { "pathChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:", "pathChanged", "V", 0x1, NULL, NULL },
    { "pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:", "pointChanged", "V", 0x1, NULL, NULL },
    { "isOnPathWithOrgGeogebraCommonKernelKernelNDGeoPointND:withDouble:", "isOnPath", "Z", 0x1, NULL, NULL },
    { "setShowObjectConditionWithOrgGeogebraCommonKernelGeosGeoBoolean:", "setShowObjectCondition", "V", 0x1, "Lorg.geogebra.common.kernel.CircularDefinitionException;", NULL },
    { "updateVisualStyle", NULL, "V", 0x1, NULL, NULL },
    { "setPointSizeOrVisibilityWithInt:", "setPointSizeOrVisibility", "V", 0x1, NULL, NULL },
    { "setPointSizeWithInt:", "setPointSize", "V", 0x2, NULL, NULL },
    { "setPointNotVisibile", NULL, "V", 0x2, NULL, NULL },
    { "getLastHitType", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement$HitType;", 0x11, NULL, NULL },
    { "getNumber", NULL, "Lorg.geogebra.common.kernel.arithmetic.MyDouble;", 0x1, NULL, NULL },
    { "getDouble", NULL, "D", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "TYPE_PYRAMID_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_PYRAMID },
    { "TYPE_PRISM_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_PRISM },
    { "TYPE_TETRAHEDRON_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_TETRAHEDRON },
    { "TYPE_CUBE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_CUBE },
    { "TYPE_OCTAHEDRON_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_OCTAHEDRON },
    { "TYPE_DODECAHEDRON_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_DODECAHEDRON },
    { "TYPE_ICOSAHEDRON_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_TYPE_ICOSAHEDRON },
    { "type_", NULL, 0x0, "I", NULL, NULL,  },
    { "segmentsIndex_", NULL, 0x4, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Lorg/geogebra/common/kernel/ConstructionElementCycle;Ljava/lang/Long;>;",  },
    { "segmentsIndexMax_", NULL, 0x4, "J", NULL, NULL,  },
    { "segments_", NULL, 0x4, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Ljava/lang/Long;Lorg/geogebra/common/geogebra3D/kernel3D/geos/GeoSegment3D;>;",  },
    { "segmentsLinked_", NULL, 0x2, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Lorg/geogebra/common/kernel/ConstructionElementCycle;Lorg/geogebra/common/kernel/kernelND/GeoSegmentND;>;",  },
    { "polygonsIndex_", NULL, 0x4, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Lorg/geogebra/common/kernel/ConstructionElementCycle;Ljava/lang/Integer;>;",  },
    { "polygonsDescriptions_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/geogebra/common/kernel/ConstructionElementCycle;>;",  },
    { "polygonsIndexMax_", NULL, 0x4, "I", NULL, NULL,  },
    { "polygons_", NULL, 0x4, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Ljava/lang/Integer;Lorg/geogebra/common/geogebra3D/kernel3D/geos/GeoPolygon3D;>;",  },
    { "polygonsLinked_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/geogebra/common/kernel/geos/GeoPolygon;>;",  },
    { "pointsCreated_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/geogebra/common/geogebra3D/kernel3D/geos/GeoPoint3D;>;",  },
    { "currentFace_", NULL, 0x2, "Lorg.geogebra.common.kernel.ConstructionElementCycle;", NULL, NULL,  },
    { "topFaceIndex_", NULL, 0x2, "I", NULL, NULL,  },
    { "allLabelsAreSet__", "allLabelsAreSet", 0x2, "Z", NULL, NULL,  },
    { "sb_", NULL, 0x2, "Ljava.lang.StringBuffer;", NULL, NULL,  },
    { "isDefined__", "isDefined", 0x2, "Z", NULL, NULL,  },
    { "sbToString_GeoPolyhedron_", "sbToString", 0x2, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "volume_", NULL, 0x2, "D", NULL, NULL,  },
    { "area_", NULL, 0x2, "D", NULL, NULL,  },
    { "trace_", NULL, 0x2, "Z", NULL, NULL,  },
    { "orientedHeight_", NULL, 0x2, "D", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron = { 2, "GeoPolyhedron", "org.geogebra.common.geogebra3D.kernel3D.geos", NULL, 0x1, 113, methods, 28, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron;
}

@end

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonKernelConstruction_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, OrgGeogebraCommonKernelConstruction *c) {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoElement3D_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  self->segmentsIndexMax_ = 0;
  self->polygonsIndexMax_ = 0;
  self->allLabelsAreSet__ = NO;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_sb_(self, new_JavaLangStringBuffer_init());
  self->isDefined__ = YES;
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_sbToString_GeoPolyhedron_(self, new_JavaLangStringBuilder_initWithInt_(50));
  self->volume_ = JavaLangDouble_NaN;
  self->area_ = JavaLangDouble_NaN;
  [self setConstructionDefaults];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_polygonsIndex_(self, new_JavaUtilTreeMap_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_polygonsDescriptions_(self, new_JavaUtilArrayList_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_polygons_(self, new_JavaUtilTreeMap_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_segmentsIndex_(self, new_JavaUtilTreeMap_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_segments_(self, new_JavaUtilTreeMap_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_segmentsLinked_(self, new_JavaUtilTreeMap_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_polygonsLinked_(self, new_JavaUtilArrayList_init());
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setAndConsume_pointsCreated_(self, new_JavaUtilArrayList_init());
}

OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonKernelConstruction_(OrgGeogebraCommonKernelConstruction *c) {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self = [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron alloc];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  return self;
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_addSegmentsLinkedWithOrgGeogebraCommonKernelGeosGeoPolygon_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, OrgGeogebraCommonKernelGeosGeoPolygon *polygon) {
  if ([((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(polygon)) getSegments] != nil) {
    {
      IOSObjectArray *a__ = [polygon getSegments];
      id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
      id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> segment = *b__++;
        [self addSegmentLinkedWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:segment];
      }
    }
  }
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *polyhedron) {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonKernelConstruction_(self, [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *) nil_chk(polyhedron)) getConstruction]);
  [self setWithOrgGeogebraCommonKernelGeosGeoElement:polyhedron];
}

OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *polyhedron) {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self = [OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron alloc];
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initWithOrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_(self, polyhedron);
  return self;
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPointsLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self) {
  for (id<OrgGeogebraCommonKernelKernelNDGeoPointND> __strong point in nil_chk(self->pointsCreated_)) [((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) setLabelWithNSString:nil];
}

jint OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_usableLabelWithOrgGeogebraCommonKernelGeosGeoElement_(OrgGeogebraCommonKernelGeosGeoElement *geo) {
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_initialize();
  if (![((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isLabelSet]) return 2;
  else if ([((NSString *) nil_chk([geo getLabelWithOrgGeogebraCommonKernelStringTemplate:OrgGeogebraCommonKernelStringTemplate_get_defaultTemplate_()])) contains:@"_"]) return 2;
  else return 0;
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultPolygonsLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self) {
  for (OrgGeogebraCommonKernelConstructionElementCycle * __strong key in nil_chk([((JavaUtilTreeMap *) nil_chk(self->polygonsIndex_)) keySet])) {
    NSString *label = nil;
    jint labelUsability = 0;
    IOSObjectArray *points = [IOSObjectArray arrayWithLength:[((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(key)) size] type:NSString_class_()];
    jint indexFirstPointName = 0;
    jint i = 0;
    for (id<JavaUtilIterator> it = [key iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext] && (labelUsability < 2); ) {
      OrgGeogebraCommonKernelGeosGeoElement *p = (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast([it next], [OrgGeogebraCommonKernelGeosGeoElement class]);
      labelUsability += OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_usableLabelWithOrgGeogebraCommonKernelGeosGeoElement_(p);
      if (labelUsability < 2) {
        IOSObjectArray_Set(points, i, [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(p)) getLabelWithOrgGeogebraCommonKernelStringTemplate:OrgGeogebraCommonKernelStringTemplate_get_defaultTemplate_()]);
        if ([((NSString *) nil_chk(IOSObjectArray_Get(points, i))) compareToIgnoreCase:IOSObjectArray_Get(points, indexFirstPointName)] < 0) indexFirstPointName = i;
        i++;
      }
    }
    if (labelUsability < 2) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) setLengthWithInt:0];
      [self->sb_ appendWithNSString:[((OrgGeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"Name.face"]];
      jint indexSecondPointPlus = indexFirstPointName + 1;
      if (indexSecondPointPlus == points->size_) indexSecondPointPlus = 0;
      jint indexSecondPointMinus = indexFirstPointName - 1;
      if (indexSecondPointMinus == -1) indexSecondPointMinus = points->size_ - 1;
      if ([((NSString *) nil_chk(IOSObjectArray_Get(points, indexSecondPointPlus))) compareToIgnoreCase:IOSObjectArray_Get(points, indexSecondPointMinus)] < 0) {
        for (jint j = indexFirstPointName; j < points->size_; j++) [self->sb_ appendWithNSString:IOSObjectArray_Get(points, j)];
        for (jint j = 0; j < indexFirstPointName; j++) [self->sb_ appendWithNSString:IOSObjectArray_Get(points, j)];
      }
      else {
        for (jint j = indexFirstPointName; j >= 0; j--) [self->sb_ appendWithNSString:IOSObjectArray_Get(points, j)];
        for (jint j = points->size_ - 1; j > indexFirstPointName; j--) [self->sb_ appendWithNSString:IOSObjectArray_Get(points, j)];
      }
      label = [self->sb_ description];
    }
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk([((JavaUtilTreeMap *) nil_chk(self->polygons_)) getWithId:[self->polygonsIndex_ getWithId:key]])) setLabelWithNSString:label];
  }
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_defaultSegmentLabels(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self) {
  for (OrgGeogebraCommonKernelConstructionElementCycle * __strong key in nil_chk([((JavaUtilTreeMap *) nil_chk(self->segmentsIndex_)) keySet])) {
    jint labelUsability = 0;
    NSString *label = nil;
    IOSObjectArray *points = [IOSObjectArray arrayWithLength:2 type:NSString_class_()];
    jint i = 0;
    for (id<JavaUtilIterator> it = [((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(key)) iterator]; [((id<JavaUtilIterator>) nil_chk(it)) hasNext] && (labelUsability < 2); ) {
      OrgGeogebraCommonKernelGeosGeoElement *p = (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast([it next], [OrgGeogebraCommonKernelGeosGeoElement class]);
      labelUsability += OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_usableLabelWithOrgGeogebraCommonKernelGeosGeoElement_(p);
      if (labelUsability < 2) {
        IOSObjectArray_Set(points, i, [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(p)) getLabelWithOrgGeogebraCommonKernelStringTemplate:OrgGeogebraCommonKernelStringTemplate_get_defaultTemplate_()]);
        i++;
      }
    }
    if (labelUsability < 2) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) setLengthWithInt:0];
      [self->sb_ appendWithNSString:[((OrgGeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"Name.edge"]];
      if ([((NSString *) nil_chk(IOSObjectArray_Get(points, 0))) compareToIgnoreCase:IOSObjectArray_Get(points, 1)] < 0) {
        [self->sb_ appendWithNSString:IOSObjectArray_Get(points, 0)];
        [self->sb_ appendWithNSString:IOSObjectArray_Get(points, 1)];
      }
      else {
        [self->sb_ appendWithNSString:IOSObjectArray_Get(points, 1)];
        [self->sb_ appendWithNSString:IOSObjectArray_Get(points, 0)];
      }
      label = [self->sb_ description];
    }
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk([((JavaUtilTreeMap *) nil_chk(self->segments_)) getWithId:[self->segmentsIndex_ getWithId:key]])) setLabelWithNSString:label];
  }
}

jboolean OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPolygonWithInt_withOrgGeogebraCommonKernelGeosGeoPolygon_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jint index, OrgGeogebraCommonKernelGeosGeoPolygon *p) {
  if (![((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(p)) isDefined]) {
    return NO;
  }
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *poly = [((JavaUtilTreeMap *) nil_chk(self->polygons_)) getWithId:JavaLangInteger_valueOfWithInt_(index)];
  if (poly == nil) {
    poly = [new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D_initWithOrgGeogebraCommonKernelConstruction_([self getConstruction]) autorelease];
    [self->polygons_ putWithId:JavaLangInteger_valueOfWithInt_(index) withId:poly];
  }
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolygon3D *) nil_chk(poly)) setWithOrgGeogebraCommonKernelGeosGeoElement:p];
  return YES;
}

jboolean OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setSegmentWithLong_withOrgGeogebraCommonKernelKernelNDGeoSegmentND_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jlong index, id<OrgGeogebraCommonKernelKernelNDGeoSegmentND> s) {
  if (![((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(s)) isDefined]) {
    return NO;
  }
  OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *seg = [((JavaUtilTreeMap *) nil_chk(self->segments_)) getWithId:JavaLangLong_valueOfWithLong_(index)];
  if (seg == nil) {
    seg = [new_OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D_initWithOrgGeogebraCommonKernelConstruction_([self getConstruction]) autorelease];
    [self->segments_ putWithId:JavaLangLong_valueOfWithLong_(index) withId:seg];
  }
  [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoSegment3D *) nil_chk(seg)) setSegmentWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:s];
  return YES;
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointSizeWithInt_(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self, jint size) {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D * __strong point in nil_chk(self->pointsCreated_)) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(point)) setEuclidianVisibleIfNoConditionToShowObjectWithBoolean:YES];
    [point setPointSizeWithInt:size];
    [point updateRepaint];
  }
}

void OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron_setPointNotVisibile(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron *self) {
  for (OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D * __strong point in nil_chk(self->pointsCreated_)) {
    [((OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(point)) setEuclidianVisibleIfNoConditionToShowObjectWithBoolean:NO];
    [point updateRepaint];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonGeogebra3DKernel3DGeosGeoPolyhedron)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/javasources/org/geogebra/common/kernel/statistics/AlgoOrdinalRank.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/util/Comparator.h"
#include "java/util/Iterator.h"
#include "java/util/TreeSet.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/commands/Commands.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"
#include "org/geogebra/common/kernel/statistics/AlgoOrdinalRank.h"

@interface OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank () {
 @public
  OrgGeogebraCommonKernelGeosGeoList *inputList_;
  OrgGeogebraCommonKernelGeosGeoList *outputList_;
  jint size_;
}

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank, inputList_, OrgGeogebraCommonKernelGeosGeoList *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank, outputList_, OrgGeogebraCommonKernelGeosGeoList *)

static id<JavaUtilComparator> OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_comparator_;
J2OBJC_STATIC_FIELD_GETTER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank, comparator_, id<JavaUtilComparator>)
J2OBJC_STATIC_FIELD_SETTER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank, comparator_, id<JavaUtilComparator>)

__attribute__((unused)) static void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_compute(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *self);

@interface OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair : NSObject {
 @public
  jdouble x_;
  jint y_;
}

- (instancetype)initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *)outer$
                                                              withDouble:(jdouble)x
                                                                 withInt:(jint)y;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair)

__attribute__((unused)) static void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *self, OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *outer$, jdouble x, jint y);

__attribute__((unused)) static OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *outer$, jdouble x, jint y) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair)

@interface OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *)a
               withId:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *)b;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1)

__attribute__((unused)) static void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 *self);

__attribute__((unused)) static OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 *new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1)

@implementation OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)inputList {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, label, inputList);
  return self;
}

- (OrgGeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return OrgGeogebraCommonKernelCommandsCommandsEnum_get_OrdinalRank();
}

- (void)setInputOutput {
  OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
  IOSObjectArray_Set(input_, 0, inputList_);
  [self setOnlyOutputWithOrgGeogebraCommonKernelGeosToGeoElement:outputList_];
  [self setDependencies];
}

- (OrgGeogebraCommonKernelGeosGeoList *)getResult {
  return outputList_;
}

- (void)compute {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_compute(self);
}

+ (id<JavaUtilComparator>)getComparator {
  return OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_getComparator();
}

- (void)dealloc {
  RELEASE_(inputList_);
  RELEASE_(outputList_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:", "AlgoOrdinalRank", NULL, 0x1, NULL, NULL },
    { "getClassName", NULL, "Lorg.geogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "getResult", NULL, "Lorg.geogebra.common.kernel.geos.GeoList;", 0x1, NULL, NULL },
    { "compute", NULL, "V", 0x11, NULL, NULL },
    { "getComparator", NULL, "Ljava.util.Comparator;", 0x9, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "inputList_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "outputList_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "size_", NULL, 0x2, "I", NULL, NULL,  },
    { "comparator_", NULL, 0xa, "Ljava.util.Comparator;", &OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_comparator_, "Ljava/util/Comparator<Lorg/geogebra/common/kernel/statistics/AlgoOrdinalRank$OrderedPair;>;",  },
  };
  static const char *inner_classes[] = {"Lorg.geogebra.common.kernel.statistics.AlgoOrdinalRank$OrderedPair;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank = { 2, "AlgoOrdinalRank", "org.geogebra.common.kernel.statistics", NULL, 0x1, 6, methods, 4, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank;
}

@end

void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *inputList) {
  OrgGeogebraCommonKernelAlgosAlgoElement_initWithOrgGeogebraCommonKernelConstruction_(self, cons);
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_set_inputList_(self, inputList);
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_setAndConsume_outputList_(self, new_OrgGeogebraCommonKernelGeosGeoList_initWithOrgGeogebraCommonKernelConstruction_(cons));
  [self setInputOutput];
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_compute(self);
  [self->outputList_ setLabelWithNSString:label];
}

OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *inputList) {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *self = [OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank alloc];
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, label, inputList);
  return self;
}

void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_compute(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *self) {
  self->size_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->inputList_)) size];
  if (![self->inputList_ isDefined] || self->size_ == 0) {
    [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->outputList_)) setUndefined];
    return;
  }
  OrgGeogebraCommonKernelGeosGeoElement *geo0 = [self->inputList_ getWithInt:0];
  JavaUtilTreeSet *sortedSet;
  if ([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo0]) {
    sortedSet = [new_JavaUtilTreeSet_initWithJavaUtilComparator_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_getComparator()) autorelease];
  }
  else {
    [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->outputList_)) setUndefined];
    return;
  }
  for (jint i = 0; i < self->size_; i++) {
    OrgGeogebraCommonKernelGeosGeoElement *geo = [self->inputList_ getWithInt:i];
    if ([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo]) {
      id<OrgGeogebraCommonKernelArithmeticNumberValue> num = (id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue));
      OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *pair = [new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(self, [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(num)) getDouble], i) autorelease];
      [((JavaUtilTreeSet *) nil_chk(sortedSet)) addWithId:pair];
    }
    else {
      [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->outputList_)) setUndefined];
      return;
    }
  }
  id<JavaUtilIterator> iterator = [((JavaUtilTreeSet *) nil_chk(sortedSet)) iterator];
  IOSDoubleArray *list = [IOSDoubleArray arrayWithLength:self->size_];
  jint i = 1;
  while ([((id<JavaUtilIterator>) nil_chk(iterator)) hasNext]) {
    OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *pair = [iterator next];
    *IOSDoubleArray_GetRef(list, ((OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *) nil_chk(pair))->y_) = i++;
  }
  [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->outputList_)) setDefinedWithBoolean:YES];
  [self->outputList_ clear];
  for (i = 0; i < self->size_; i++) {
    [self->outputList_ addWithOrgGeogebraCommonKernelGeosGeoElement:[new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(self->cons_, IOSDoubleArray_Get(list, i)) autorelease]];
  }
}

id<JavaUtilComparator> OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_getComparator() {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_initialize();
  if (OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_comparator_ == nil) {
    JreStrongAssignAndConsume(&OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_comparator_, nil, new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init());
  }
  return OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_comparator_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank)

@implementation OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair

- (instancetype)initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *)outer$
                                                              withDouble:(jdouble)x
                                                                 withInt:(jint)y {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(self, outer$, x, y);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank:withDouble:withInt:", "OrderedPair", NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "x_", NULL, 0x1, "D", NULL, NULL,  },
    { "y_", NULL, 0x1, "I", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair = { 2, "OrderedPair", "org.geogebra.common.kernel.statistics", "AlgoOrdinalRank", 0x2, 1, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair;
}

@end

void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *self, OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *outer$, jdouble x, jint y) {
  NSObject_init(self);
  self->x_ = x;
  self->y_ = y;
}

OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank *outer$, jdouble x, jint y) {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *self = [OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair alloc];
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair_initWithOrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_withDouble_withInt_(self, outer$, x, y);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair)

@implementation OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1

- (jint)compareWithId:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *)a
               withId:(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *)b {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *itemA = a;
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *itemB = b;
  jdouble compX = ((OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *) nil_chk(itemA))->x_ - ((OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_OrderedPair *) nil_chk(itemB))->x_;
  return compX < 0 ? -1 : +1;
}

- (instancetype)init {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank", "getComparator" };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 = { 2, "", "org.geogebra.common.kernel.statistics", "AlgoOrdinalRank", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Ljava/util/Comparator<Lorg/geogebra/common/kernel/statistics/AlgoOrdinalRank$OrderedPair;>;" };
  return &_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1;
}

@end

void OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 *self) {
  NSObject_init(self);
}

OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 *new_OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init() {
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 *self = [OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1 alloc];
  OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelStatisticsAlgoOrdinalRank_$1)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/kernel/advanced/AlgoOptimize.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Enum.h"
#include "java/lang/IllegalArgumentException.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/advanced/AlgoOptimize.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"
#include "org/geogebra/common/kernel/optimization/ExtremumFinder.h"
#include "org/geogebra/common/kernel/optimization/RealRootFunctionVariable.h"

@interface OrgGeogebraCommonKernelAdvancedAlgoOptimize () {
 @public
  OrgGeogebraCommonKernelConstruction *optCons_;
  OrgGeogebraCommonKernelOptimizationExtremumFinder *extrFinder_;
  OrgGeogebraCommonKernelOptimizationRealRootFunctionVariable *i_am_not_a_real_function_;
  OrgGeogebraCommonKernelGeosGeoElement *dep_;
  OrgGeogebraCommonKernelGeosGeoNumeric *indep_;
  OrgGeogebraCommonKernelGeosGeoNumeric *result_;
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *type_;
  jboolean isrunning_;
}

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, optCons_, OrgGeogebraCommonKernelConstruction *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, extrFinder_, OrgGeogebraCommonKernelOptimizationExtremumFinder *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, i_am_not_a_real_function_, OrgGeogebraCommonKernelOptimizationRealRootFunctionVariable *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, dep_, OrgGeogebraCommonKernelGeosGeoElement *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, indep_, OrgGeogebraCommonKernelGeosGeoNumeric *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, result_, OrgGeogebraCommonKernelGeosGeoNumeric *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAdvancedAlgoOptimize, type_, OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *)

__attribute__((unused)) static void OrgGeogebraCommonKernelAdvancedAlgoOptimize_compute(OrgGeogebraCommonKernelAdvancedAlgoOptimize *self);

__attribute__((unused)) static void OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *self, NSString *__name, jint __ordinal);

__attribute__((unused)) static OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *new_OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) NS_RETURNS_RETAINED;

@implementation OrgGeogebraCommonKernelAdvancedAlgoOptimize

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
           withOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)dep
                  withOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *)indep
withOrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum:(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *)type {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelArithmeticNumberValue_withOrgGeogebraCommonKernelGeosGeoNumeric_withOrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_(self, cons, label, dep, indep, type);
  return self;
}

- (void)setInputOutput {
  OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:2 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
  IOSObjectArray_Set(input_, 0, dep_);
  IOSObjectArray_Set(input_, 1, indep_);
  [super setOutputLengthWithInt:1];
  [super setOutputWithInt:0 withOrgGeogebraCommonKernelGeosGeoElement:result_];
  [self setDependencies];
}

- (void)compute {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_compute(self);
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getResult {
  return result_;
}

- (void)dealloc {
  RELEASE_(optCons_);
  RELEASE_(extrFinder_);
  RELEASE_(i_am_not_a_real_function_);
  RELEASE_(dep_);
  RELEASE_(indep_);
  RELEASE_(result_);
  RELEASE_(type_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelGeosGeoNumeric:withOrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum:", "AlgoOptimize", NULL, 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "compute", NULL, "V", 0x11, NULL, NULL },
    { "getResult", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "optCons_", NULL, 0x2, "Lorg.geogebra.common.kernel.Construction;", NULL, NULL,  },
    { "extrFinder_", NULL, 0x2, "Lorg.geogebra.common.kernel.optimization.ExtremumFinder;", NULL, NULL,  },
    { "i_am_not_a_real_function_", NULL, 0x2, "Lorg.geogebra.common.kernel.optimization.RealRootFunctionVariable;", NULL, NULL,  },
    { "dep_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoElement;", NULL, NULL,  },
    { "indep_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoNumeric;", NULL, NULL,  },
    { "result_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoNumeric;", NULL, NULL,  },
    { "type_", NULL, 0x2, "Lorg.geogebra.common.kernel.advanced.AlgoOptimize$OptimizationType;", NULL, NULL,  },
    { "isrunning_", NULL, 0x2, "Z", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lorg.geogebra.common.kernel.advanced.AlgoOptimize$OptimizationType;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAdvancedAlgoOptimize = { 2, "AlgoOptimize", "org.geogebra.common.kernel.advanced", NULL, 0x401, 4, methods, 8, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgGeogebraCommonKernelAdvancedAlgoOptimize;
}

@end

void OrgGeogebraCommonKernelAdvancedAlgoOptimize_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelArithmeticNumberValue_withOrgGeogebraCommonKernelGeosGeoNumeric_withOrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_(OrgGeogebraCommonKernelAdvancedAlgoOptimize *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, id<OrgGeogebraCommonKernelArithmeticNumberValue> dep, OrgGeogebraCommonKernelGeosGeoNumeric *indep, OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *type) {
  OrgGeogebraCommonKernelAlgosAlgoElement_initWithOrgGeogebraCommonKernelConstruction_(self, cons);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_optCons_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_extrFinder_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_i_am_not_a_real_function_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_dep_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_indep_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_result_(self, nil);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_type_(self, OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_get_MINIMIZE());
  self->isrunning_ = NO;
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_optCons_(self, cons);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_dep_(self, [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(dep)) toGeoElement]);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_indep_(self, indep);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_set_type_(self, type);
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_setAndConsume_extrFinder_(self, new_OrgGeogebraCommonKernelOptimizationExtremumFinder_init());
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_setAndConsume_i_am_not_a_real_function_(self, new_OrgGeogebraCommonKernelOptimizationRealRootFunctionVariable_initWithOrgGeogebraCommonKernelArithmeticNumberValue_withOrgGeogebraCommonKernelGeosGeoNumeric_(dep, indep));
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_setAndConsume_result_(self, new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_(cons));
  [self setInputOutput];
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_compute(self);
  [self->result_ setLabelWithNSString:label];
}

void OrgGeogebraCommonKernelAdvancedAlgoOptimize_compute(OrgGeogebraCommonKernelAdvancedAlgoOptimize *self) {
  jdouble old = 0.0, res = 0.0;
  if (self->isrunning_) {
    return;
  }
  old = [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->indep_)) getValue];
  self->isrunning_ = YES;
  if ([self->indep_ getIntervalMaxObject] == nil || [self->indep_ getIntervalMinObject] == nil) {
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
    return;
  }
  if (self->type_ == OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_get_MINIMIZE()) {
    res = [((OrgGeogebraCommonKernelOptimizationExtremumFinder *) nil_chk(self->extrFinder_)) findMinimumWithDouble:[self->indep_ getIntervalMin] withDouble:[self->indep_ getIntervalMax] withOrgGeogebraCommonKernelRootsRealRootFunction:self->i_am_not_a_real_function_ withDouble:5.0E-8];
  }
  else {
    res = [((OrgGeogebraCommonKernelOptimizationExtremumFinder *) nil_chk(self->extrFinder_)) findMaximumWithDouble:[self->indep_ getIntervalMin] withDouble:[self->indep_ getIntervalMax] withOrgGeogebraCommonKernelRootsRealRootFunction:self->i_am_not_a_real_function_ withDouble:5.0E-8];
  }
  [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:res];
  [self->indep_ setValueWithDouble:old];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(self->optCons_)) updateConstruction];
  self->isrunning_ = NO;
  return;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAdvancedAlgoOptimize)

J2OBJC_INITIALIZED_DEFN(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum)

OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_values_[2];

@implementation OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum

- (instancetype)initWithNSString:(NSString *)__name
                         withInt:(jint)__ordinal {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

IOSObjectArray *OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_values() {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initialize();
  return [IOSObjectArray arrayWithObjects:OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_values_ count:2 type:OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_class_()];
}

+ (IOSObjectArray *)values {
  return OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_values();
}

+ (OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *)valueOfWithNSString:(NSString *)name {
  return OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_valueOfWithNSString_(name);
}

OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_valueOfWithNSString_(NSString *name) {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initialize();
  for (int i = 0; i < 2; i++) {
    OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *e = OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[[JavaLangIllegalArgumentException alloc] initWithNSString:name] autorelease];
  return nil;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self retain];
}

+ (void)initialize {
  if (self == [OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum class]) {
    OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_MINIMIZE = new_OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(@"MINIMIZE", 0);
    OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_MAXIMIZE = new_OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(@"MAXIMIZE", 1);
    J2OBJC_SET_INITIALIZED(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcFieldInfo fields[] = {
    { "MINIMIZE", "MINIMIZE", 0x4019, "Lorg.geogebra.common.kernel.advanced.AlgoOptimize$OptimizationType;", &OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_MINIMIZE, NULL,  },
    { "MAXIMIZE", "MAXIMIZE", 0x4019, "Lorg.geogebra.common.kernel.advanced.AlgoOptimize$OptimizationType;", &OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_MAXIMIZE, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lorg.geogebra.common.kernel.advanced.AlgoOptimize$OptimizationType;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum = { 2, "OptimizationType", "org.geogebra.common.kernel.advanced", "AlgoOptimize", 0x4019, 0, NULL, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/lang/Enum<Lorg/geogebra/common/kernel/advanced/AlgoOptimize$OptimizationType;>;" };
  return &_OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum;
}

@end

void OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *new_OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) {
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum *self = [OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum alloc];
  OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAdvancedAlgoOptimize_OptimizationTypeEnum)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/geogebra/common/kernel/geos/GeoSegment.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Double.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/Matrix/Coords.h"
#include "org/geogebra/common/kernel/MyPoint.h"
#include "org/geogebra/common/kernel/PathMover.h"
#include "org/geogebra/common/kernel/PathMoverGeneric.h"
#include "org/geogebra/common/kernel/PathParameter.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/Transform.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/AlgoJoinPointsSegment.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/arithmetic/MyDouble.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoLine.h"
#include "org/geogebra/common/kernel/geos/GeoPoint.h"
#include "org/geogebra/common/kernel/geos/GeoSegment.h"
#include "org/geogebra/common/kernel/geos/GeoVec3D.h"
#include "org/geogebra/common/kernel/kernelND/GeoLineND.h"
#include "org/geogebra/common/kernel/kernelND/GeoPointND.h"
#include "org/geogebra/common/kernel/kernelND/GeoSegmentND.h"
#include "org/geogebra/common/plugin/GeoClass.h"

@interface OrgGeogebraCommonKernelGeosGeoSegment () {
 @public
  jdouble length_;
  jboolean defined_;
  jboolean allowOutlyingIntersections__;
  jboolean keepTypeOnGeometricTransform_;
  JavaLangStringBuilder *sbToString_GeoSegment_;
  jboolean forceSimpleTransform_;
  OrgGeogebraCommonKernelGeosGeoElement *meta_;
}

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelGeosGeoSegment, sbToString_GeoSegment_, JavaLangStringBuilder *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelGeosGeoSegment, meta_, OrgGeogebraCommonKernelGeosGeoElement *)

__attribute__((unused)) static jdouble OrgGeogebraCommonKernelGeosGeoSegment_getParameterWithDouble_withDouble_(OrgGeogebraCommonKernelGeosGeoSegment *self, jdouble ptx, jdouble pty);

@implementation OrgGeogebraCommonKernelGeosGeoSegment

+ (IOSObjectArray *)getDecoTypes {
  return OrgGeogebraCommonKernelGeosGeoSegment_getDecoTypes();
}

- (void)setDecorationTypeWithInt:(jint)type {
  if (type >= ((IOSObjectArray *) nil_chk(OrgGeogebraCommonKernelGeosGeoSegment_getDecoTypes()))->size_ || type < 0) decorationType_ = OrgGeogebraCommonKernelGeosGeoElement_DECORATION_NONE;
  else decorationType_ = type;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)c
                    withOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)A
                    withOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)B {
  OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(self, c, A, B);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)c {
  OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  return self;
}

- (void)setPointsWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)A
                 withOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)B {
  [self setStartPointWithOrgGeogebraCommonKernelGeosGeoPoint:A];
  [self setEndPointWithOrgGeogebraCommonKernelGeosGeoPoint:B];
}

- (void)setTwoPointsInhomCoordsWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)start
                               withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)end {
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(self->startPoint_)) setCoordsWithDouble:[((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(start)) getWithInt:1] withDouble:[start getWithInt:2] withDouble:1];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(self->endPoint_)) setCoordsWithDouble:[((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(end)) getWithInt:1] withDouble:[end getWithInt:2] withDouble:1];
  [self setCoordsWithDouble:[start getY] - [end getY] withDouble:[end getX] - [start getX] withDouble:[start getX] * [end getY] - [start getY] * [end getX]];
  [self setPointsWithOrgGeogebraCommonKernelGeosGeoPoint:self->startPoint_ withOrgGeogebraCommonKernelGeosGeoPoint:self->endPoint_];
  [self calcLength];
}

- (OrgGeogebraCommonPluginGeoClassEnum *)getGeoClassType {
  return OrgGeogebraCommonPluginGeoClassEnum_get_SEGMENT();
}

- (OrgGeogebraCommonKernelGeosGeoElement *)copyInternalWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons1 {
  OrgGeogebraCommonKernelGeosGeoSegment *seg = new_OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(cons1, (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) copyInternalWithOrgGeogebraCommonKernelConstruction:cons1], [OrgGeogebraCommonKernelGeosGeoPoint class]), (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) copyInternalWithOrgGeogebraCommonKernelConstruction:cons1], [OrgGeogebraCommonKernelGeosGeoPoint class]));
  [seg setWithOrgGeogebraCommonKernelGeosGeoElement:self];
  return seg;
}

- (void)setWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  [super setWithOrgGeogebraCommonKernelGeosGeoElement:geo];
  if (![((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoSegment]) return;
  OrgGeogebraCommonKernelGeosGeoSegment *seg = (OrgGeogebraCommonKernelGeosGeoSegment *) check_class_cast(geo, [OrgGeogebraCommonKernelGeosGeoSegment class]);
  length_ = seg->length_;
  defined_ = seg->defined_;
  keepTypeOnGeometricTransform_ = seg->keepTypeOnGeometricTransform_;
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) setWithOrgGeogebraCommonKernelGeosGeoElement:seg->startPoint_];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) setWithOrgGeogebraCommonKernelGeosGeoElement:seg->endPoint_];
}

- (void)setWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)s
           withOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)e
           withOrgGeogebraCommonKernelGeosGeoVec3D:(OrgGeogebraCommonKernelGeosGeoVec3D *)line {
  [super setWithOrgGeogebraCommonKernelGeosGeoElement:line];
  [self setStartPointWithOrgGeogebraCommonKernelGeosGeoPoint:s];
  [self setEndPointWithOrgGeogebraCommonKernelGeosGeoPoint:e];
  [self calcLength];
}

- (void)setVisualStyleWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  [super setVisualStyleWithOrgGeogebraCommonKernelGeosGeoElement:geo];
  if ([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoSegment]) {
    OrgGeogebraCommonKernelGeosGeoSegment *seg = (OrgGeogebraCommonKernelGeosGeoSegment *) check_class_cast(geo, [OrgGeogebraCommonKernelGeosGeoSegment class]);
    allowOutlyingIntersections__ = seg->allowOutlyingIntersections__;
  }
}

- (void)calcLength {
  defined_ = ([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) isFinite] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) isFinite]);
  if (defined_) {
    length_ = [startPoint_ distanceWithOrgGeogebraCommonKernelGeosGeoPoint:endPoint_];
    if (OrgGeogebraCommonKernelKernel_isZeroWithDouble_(length_)) length_ = 0;
  }
  else {
    length_ = JavaLangDouble_NaN;
  }
}

- (jdouble)getLength {
  return length_;
}

- (jboolean)isDefined {
  return defined_;
}

- (void)setUndefined {
  [super setUndefined];
  length_ = JavaLangDouble_NaN;
  defined_ = NO;
}

- (jboolean)showInAlgebraView {
  return YES;
}

- (jboolean)showInEuclidianView {
  return defined_ && lineThickness_ != 0;
}

- (jboolean)isEqualWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  if ([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoElement3D]) {
    return [geo isEqualWithOrgGeogebraCommonKernelGeosGeoElement:self];
  }
  if (![geo isGeoSegment]) return NO;
  OrgGeogebraCommonKernelGeosGeoSegment *s = (OrgGeogebraCommonKernelGeosGeoSegment *) check_class_cast(geo, [OrgGeogebraCommonKernelGeosGeoSegment class]);
  return (([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) isEqualWithOrgGeogebraCommonKernelGeosGeoElement:s->startPoint_] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) isEqualWithOrgGeogebraCommonKernelGeosGeoElement:s->endPoint_]) || ([startPoint_ isEqualWithOrgGeogebraCommonKernelGeosGeoElement:s->endPoint_] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) isEqualWithOrgGeogebraCommonKernelGeosGeoElement:s->startPoint_]));
}

- (jboolean)isEqualWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:(id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>)geo {
  return (([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk((startPoint_))) isEqualPointNDWithOrgGeogebraCommonKernelKernelNDGeoPointND:[((id<OrgGeogebraCommonKernelKernelNDGeoSegmentND>) nil_chk(geo)) getStartPoint]] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk((endPoint_))) isEqualPointNDWithOrgGeogebraCommonKernelKernelNDGeoPointND:[geo getEndPoint]]) || ([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk((startPoint_))) isEqualPointNDWithOrgGeogebraCommonKernelKernelNDGeoPointND:[geo getEndPoint]] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk((endPoint_))) isEqualPointNDWithOrgGeogebraCommonKernelKernelNDGeoPointND:[geo getStartPoint]]));
}

- (NSString *)toStringWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  [((JavaLangStringBuilder *) nil_chk(sbToString_GeoSegment_)) setLengthWithInt:0];
  (void) [sbToString_GeoSegment_ appendWithNSString:label_];
  (void) [sbToString_GeoSegment_ appendWithNSString:@" = "];
  (void) [sbToString_GeoSegment_ appendWithNSString:[((OrgGeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:length_ withOrgGeogebraCommonKernelStringTemplate:tpl]];
  return [sbToString_GeoSegment_ description];
}

- (NSString *)toStringMinimalWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  [((JavaLangStringBuilder *) nil_chk(sbToString_GeoSegment_)) setLengthWithInt:0];
  (void) [sbToString_GeoSegment_ appendWithNSString:[self regrFormatWithDouble:length_]];
  return [sbToString_GeoSegment_ description];
}

- (NSString *)toValueStringWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  return [((OrgGeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:length_ withOrgGeogebraCommonKernelStringTemplate:tpl];
}

- (OrgGeogebraCommonKernelArithmeticMyDouble *)getNumber {
  return new_OrgGeogebraCommonKernelArithmeticMyDouble_initWithOrgGeogebraCommonKernelKernel_withDouble_(kernel_, [self getLength]);
}

- (jdouble)getDouble {
  return [self getLength];
}

- (jboolean)isConstant {
  return NO;
}

- (jboolean)isNumberValue {
  return YES;
}

- (jboolean)allowOutlyingIntersections {
  return allowOutlyingIntersections__;
}

- (void)setAllowOutlyingIntersectionsWithBoolean:(jboolean)flag {
  allowOutlyingIntersections__ = flag;
}

- (jboolean)keepsTypeOnGeometricTransform {
  return keepTypeOnGeometricTransform_;
}

- (void)setKeepTypeOnGeometricTransformWithBoolean:(jboolean)flag {
  keepTypeOnGeometricTransform_ = flag;
}

- (jboolean)isLimitedPath {
  return YES;
}

- (jboolean)isIntersectionPointIncidentWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)p
                                                                    withDouble:(jdouble)eps {
  if (allowOutlyingIntersections__) return [self isOnFullLineWithOrgGeogebraCommonKernelGeosGeoPoint:p withDouble:eps];
  return [self isOnPathWithOrgGeogebraCommonKernelKernelNDGeoPointND:p withDouble:eps];
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getStartPointAsGeoElement {
  return [self getStartPoint];
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getEndPointAsGeoElement {
  return [self getEndPoint];
}

- (jdouble)getPointXWithDouble:(jdouble)parameter {
  return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->inhomX_ + parameter * y_;
}

- (jdouble)getPointYWithDouble:(jdouble)parameter {
  return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->inhomY_ - parameter * x_;
}

- (void)pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)P {
  OrgGeogebraCommonKernelPathParameter *pp = [((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(P)) getPathParameter];
  if (length_ == 0) {
    [P setCoords2DWithDouble:((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->inhomX_ withDouble:startPoint_->inhomY_ withDouble:1];
    [P updateCoordsFrom2DWithBoolean:NO withOrgGeogebraCommonKernelMatrixCoordSys:nil];
    if (!(((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp))->t_ >= 0 && pp->t_ <= 1)) {
      pp->t_ = 0.0;
    }
    return;
  }
  [super pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:P];
  if (((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp))->t_ < 0.0) {
    [P setCoords2DWithDouble:((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->x_ withDouble:startPoint_->y_ withDouble:startPoint_->z_];
    [P updateCoordsFrom2DWithBoolean:NO withOrgGeogebraCommonKernelMatrixCoordSys:nil];
    pp->t_ = 0.0;
  }
  else if (pp->t_ > 1.0) {
    [P setCoords2DWithDouble:((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_))->x_ withDouble:endPoint_->y_ withDouble:endPoint_->z_];
    [P updateCoordsFrom2DWithBoolean:NO withOrgGeogebraCommonKernelMatrixCoordSys:nil];
    pp->t_ = 1.0;
  }
}

- (void)pathChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)P {
  if (![((OrgGeogebraCommonKernelKernel *) nil_chk([self getKernel])) usePathAndRegionParametersWithOrgGeogebraCommonKernelKernelNDGeoPointND:P]) {
    [self pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:P];
    return;
  }
  OrgGeogebraCommonKernelPathParameter *pp = [((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(P)) getPathParameter];
  if (length_ == 0) {
    [P setCoords2DWithDouble:((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->inhomX_ withDouble:startPoint_->inhomY_ withDouble:1];
    [P updateCoordsFrom2DWithBoolean:NO withOrgGeogebraCommonKernelMatrixCoordSys:nil];
    if (!(((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp))->t_ >= 0 && pp->t_ <= 1)) {
      pp->t_ = 0.0;
    }
    return;
  }
  if (((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp))->t_ < 0.0) {
    pp->t_ = 0;
  }
  else if (pp->t_ > 1.0) {
    pp->t_ = 1;
  }
  [P setCoords2DWithDouble:((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_))->inhomX_ + pp->t_ * y_ withDouble:startPoint_->inhomY_ - pp->t_ * x_ withDouble:1];
  [P updateCoordsFrom2DWithBoolean:NO withOrgGeogebraCommonKernelMatrixCoordSys:nil];
}

- (jdouble)getMinParameter {
  return 0;
}

- (jdouble)getMaxParameter {
  return 1;
}

- (id<OrgGeogebraCommonKernelPathMover>)createPathMover {
  return new_OrgGeogebraCommonKernelPathMoverGeneric_initWithOrgGeogebraCommonKernelPath_(self);
}

- (void)getXMLtagsWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  [super getXMLtagsWithJavaLangStringBuilder:sb];
  (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"\t<outlyingIntersections val=\""];
  (void) [sb appendWithBoolean:allowOutlyingIntersections__];
  (void) [sb appendWithNSString:@"\"/>\n"];
  (void) [sb appendWithNSString:@"\t<keepTypeOnTransform val=\""];
  (void) [sb appendWithBoolean:keepTypeOnGeometricTransform_];
  (void) [sb appendWithNSString:@"\"/>\n"];
}

- (IOSObjectArray *)createTransformedObjectWithOrgGeogebraCommonKernelTransform:(OrgGeogebraCommonKernelTransform *)t
                                                                   withNSString:(NSString *)transformedLabel {
  if (keepTypeOnGeometricTransform_ && [((OrgGeogebraCommonKernelTransform *) nil_chk(t)) isAffine]) {
    IOSObjectArray *points = [IOSObjectArray newArrayWithObjects:(id[]){ [self getStartPoint], [self getEndPoint] } count:2 type:OrgGeogebraCommonKernelKernelNDGeoPointND_class_()];
    points = [t transformPointsWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:points];
    OrgGeogebraCommonKernelGeosGeoElement *segment = (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast([((OrgGeogebraCommonKernelKernel *) nil_chk(kernel_)) SegmentNDWithNSString:transformedLabel withOrgGeogebraCommonKernelKernelNDGeoPointND:IOSObjectArray_Get(nil_chk(points), 0) withOrgGeogebraCommonKernelKernelNDGeoPointND:IOSObjectArray_Get(points, 1)], [OrgGeogebraCommonKernelGeosGeoElement class]);
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(segment)) setVisualStyleForTransformationsWithOrgGeogebraCommonKernelGeosGeoElement:self];
    IOSObjectArray *geos = [IOSObjectArray newArrayWithObjects:(id[]){ segment, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(IOSObjectArray_Get(points, 0), [OrgGeogebraCommonKernelGeosGeoElement class]), (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(IOSObjectArray_Get(points, 1), [OrgGeogebraCommonKernelGeosGeoElement class]) } count:3 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    return geos;
  }
  else if (![((OrgGeogebraCommonKernelTransform *) nil_chk(t)) isAffine]) {
    self->forceSimpleTransform_ = YES;
    IOSObjectArray *geos = [IOSObjectArray newArrayWithObjects:(id[]){ IOSObjectArray_Get(nil_chk([t transformWithOrgGeogebraCommonKernelGeosGeoElement:self withNSString:transformedLabel]), 0) } count:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    return geos;
  }
  else {
    OrgGeogebraCommonKernelGeosGeoElement *transformedLine = [t getTransformedLineWithOrgGeogebraCommonKernelKernelNDGeoLineND:self];
    [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(transformedLine)) setLabelWithNSString:transformedLabel];
    [transformedLine setVisualStyleForTransformationsWithOrgGeogebraCommonKernelGeosGeoElement:self];
    IOSObjectArray *geos = [IOSObjectArray newArrayWithObjects:(id[]){ transformedLine } count:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    return geos;
  }
}

- (jboolean)isGeoSegment {
  return YES;
}

- (void)setZero {
  [self setCoordsWithDouble:0 withDouble:1 withDouble:0];
}

- (jboolean)hasDrawable3D {
  return YES;
}

- (OrgGeogebraCommonKernelMatrixCoords *)getLabelPosition {
  return new_OrgGeogebraCommonKernelMatrixCoords_initWithDouble_withDouble_withDouble_withDouble_([self getPointXWithDouble:0.5], [self getPointYWithDouble:0.5], 0, 1);
}

- (jdouble)getParameterWithDouble:(jdouble)ptx
                       withDouble:(jdouble)pty {
  return OrgGeogebraCommonKernelGeosGeoSegment_getParameterWithDouble_withDouble_(self, ptx, pty);
}

- (jdouble)distanceWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)p {
  jdouble t = OrgGeogebraCommonKernelGeosGeoSegment_getParameterWithDouble_withDouble_(self, ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(p))->inhomX_, p->inhomY_);
  if (t < 0) return [p distanceWithOrgGeogebraCommonKernelGeosGeoPoint:startPoint_];
  if (t > 1) return [p distanceWithOrgGeogebraCommonKernelGeosGeoPoint:endPoint_];
  return [super distanceWithOrgGeogebraCommonKernelGeosGeoPoint:p];
}

- (jdouble)distanceWithDouble:(jdouble)x
                   withDouble:(jdouble)y {
  jdouble t = OrgGeogebraCommonKernelGeosGeoSegment_getParameterWithDouble_withDouble_(self, x, y);
  if (t < 0) return [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) distanceWithDouble:x withDouble:y];
  if (t > 1) return [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) distanceWithDouble:x withDouble:y];
  return [super distanceWithDouble:x withDouble:y];
}

- (jboolean)isOnPathWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)Pnd
                                                 withDouble:(jdouble)eps {
  OrgGeogebraCommonKernelMatrixCoords *P2d = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(Pnd)) getCoordsIn2DView];
  if (![super isOnPathWithOrgGeogebraCommonKernelMatrixCoords:P2d withDouble:eps]) return NO;
  return [self respectLimitedPathWithOrgGeogebraCommonKernelMatrixCoords:P2d withDouble:eps];
}

- (jboolean)respectLimitedPathWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)Pnd
                                                           withDouble:(jdouble)eps {
  OrgGeogebraCommonKernelMatrixCoords *P2d = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(Pnd)) getCoordsIn2DView];
  OrgGeogebraCommonKernelPathParameter *pp = [self getTempPathParameter];
  [self doPointChangedWithOrgGeogebraCommonKernelMatrixCoords:P2d withOrgGeogebraCommonKernelPathParameter:pp];
  jdouble t = [((OrgGeogebraCommonKernelPathParameter *) nil_chk(pp)) getT];
  return t >= -eps && t <= 1 + eps;
}

+ (jboolean)checkOnPathWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)segStart
                       withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)segEnd
                       withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)point
                                                   withBoolean:(jboolean)checkOnFullLine
                                                    withDouble:(jdouble)eps {
  return OrgGeogebraCommonKernelGeosGeoSegment_checkOnPathWithOrgGeogebraCommonKernelMatrixCoords_withOrgGeogebraCommonKernelMatrixCoords_withOrgGeogebraCommonKernelMatrixCoords_withBoolean_withDouble_(segStart, segEnd, point, checkOnFullLine, eps);
}

- (jboolean)isAllEndpointsLabelsSet {
  return !forceSimpleTransform_ && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) isLabelSet] && [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) isLabelSet];
}

- (void)modifyInputPointsWithOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)P
                         withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)Q {
  OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment *algo = (OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment *) check_class_cast([self getParentAlgorithm], [OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment class]);
  [((OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment *) nil_chk(algo)) modifyInputPointsWithOrgGeogebraCommonKernelKernelNDGeoPointND:(OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(P, [OrgGeogebraCommonKernelGeosGeoPoint class]) withOrgGeogebraCommonKernelKernelNDGeoPointND:(OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(Q, [OrgGeogebraCommonKernelGeosGeoPoint class])];
}

- (jint)getMetasLength {
  if (meta_ == nil) {
    return 0;
  }
  return 1;
}

- (IOSObjectArray *)getMetas {
  return [IOSObjectArray newArrayWithObjects:(id[]){ meta_ } count:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
}

- (void)setFromMetaWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)poly {
  meta_ = poly;
}

- (jboolean)respectLimitedPathWithDouble:(jdouble)parameter {
  return OrgGeogebraCommonKernelKernel_isGreaterEqualWithDouble_withDouble_(parameter, 0) && OrgGeogebraCommonKernelKernel_isGreaterEqualWithDouble_withDouble_(1, parameter);
}

- (void)dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)rval
                       withOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)S {
  [super dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:rval withOrgGeogebraCommonKernelMatrixCoords:S];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:rval withOrgGeogebraCommonKernelMatrixCoords:S];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:rval withOrgGeogebraCommonKernelMatrixCoords:S];
  [self calcLength];
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)phiVal {
  [super rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal];
}

- (void)rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:(id<OrgGeogebraCommonKernelArithmeticNumberValue>)phiVal
                 withOrgGeogebraCommonKernelKernelNDGeoPointND:(id<OrgGeogebraCommonKernelKernelNDGeoPointND>)point {
  [super rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal withOrgGeogebraCommonKernelKernelNDGeoPointND:point];
  OrgGeogebraCommonKernelMatrixCoords *sCoords = [((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) getInhomCoords];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal withOrgGeogebraCommonKernelMatrixCoords:sCoords];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:phiVal withOrgGeogebraCommonKernelMatrixCoords:sCoords];
}

- (void)mirrorWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)Q {
  [super mirrorWithOrgGeogebraCommonKernelMatrixCoords:Q];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) mirrorWithOrgGeogebraCommonKernelMatrixCoords:Q];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) mirrorWithOrgGeogebraCommonKernelMatrixCoords:Q];
}

- (void)mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:(id<OrgGeogebraCommonKernelKernelNDGeoLineND>)g1 {
  [super mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:g1];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:g1];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:g1];
}

- (void)translateWithOrgGeogebraCommonKernelMatrixCoords:(OrgGeogebraCommonKernelMatrixCoords *)v {
  [super translateWithOrgGeogebraCommonKernelMatrixCoords:v];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) translateWithOrgGeogebraCommonKernelMatrixCoords:v];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) translateWithOrgGeogebraCommonKernelMatrixCoords:v];
}

- (void)matrixTransformWithDouble:(jdouble)p
                       withDouble:(jdouble)q
                       withDouble:(jdouble)r
                       withDouble:(jdouble)s {
  [super matrixTransformWithDouble:p withDouble:q withDouble:r withDouble:s];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) matrixTransformWithDouble:p withDouble:q withDouble:r withDouble:s];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) matrixTransformWithDouble:p withDouble:q withDouble:r withDouble:s];
  [self calcLength];
}

- (void)matrixTransformWithDouble:(jdouble)a00
                       withDouble:(jdouble)a01
                       withDouble:(jdouble)a02
                       withDouble:(jdouble)a10
                       withDouble:(jdouble)a11
                       withDouble:(jdouble)a12
                       withDouble:(jdouble)a20
                       withDouble:(jdouble)a21
                       withDouble:(jdouble)a22 {
  [super matrixTransformWithDouble:a00 withDouble:a01 withDouble:a02 withDouble:a10 withDouble:a11 withDouble:a12 withDouble:a20 withDouble:a21 withDouble:a22];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) matrixTransformWithDouble:a00 withDouble:a01 withDouble:a02 withDouble:a10 withDouble:a11 withDouble:a12 withDouble:a20 withDouble:a21 withDouble:a22];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) matrixTransformWithDouble:a00 withDouble:a01 withDouble:a02 withDouble:a10 withDouble:a11 withDouble:a12 withDouble:a20 withDouble:a21 withDouble:a22];
  [self calcLength];
}

- (void)setCoordsWithOrgGeogebraCommonKernelMyPoint:(OrgGeogebraCommonKernelMyPoint *)locusPoint
                 withOrgGeogebraCommonKernelMyPoint:(OrgGeogebraCommonKernelMyPoint *)locusPoint2 {
  jdouble x1 = ((OrgGeogebraCommonKernelMyPoint *) nil_chk(locusPoint))->x_;
  jdouble x2 = ((OrgGeogebraCommonKernelMyPoint *) nil_chk(locusPoint2))->x_;
  jdouble y1 = locusPoint->y_;
  jdouble y2 = locusPoint2->y_;
  [self setCoordsWithDouble:y1 - y2 withDouble:x2 - x1 withDouble:x1 * y2 - y1 * x2];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(startPoint_)) setCoordsWithDouble:x1 withDouble:y1 withDouble:1.0];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(endPoint_)) setCoordsWithDouble:x2 withDouble:y2 withDouble:1.0];
}

- (OrgGeogebraCommonKernelGeosGeoElement *)copyFreeSegment {
  OrgGeogebraCommonKernelGeosGeoPoint *startPoint1 = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk([self getStartPoint])) copyInternalWithOrgGeogebraCommonKernelConstruction:cons_], [OrgGeogebraCommonKernelGeosGeoPoint class]);
  OrgGeogebraCommonKernelGeosGeoPoint *endPoint1 = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk([self getEndPoint])) copyInternalWithOrgGeogebraCommonKernelConstruction:cons_], [OrgGeogebraCommonKernelGeosGeoPoint class]);
  OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment *algo = new_OrgGeogebraCommonKernelAlgosAlgoJoinPointsSegment_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(cons_, nil, startPoint1, endPoint1);
  return [algo getSegment];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getDecoTypes", NULL, "[Ljava.lang.Integer;", 0x19, NULL, NULL },
    { "setDecorationTypeWithInt:", "setDecorationType", "V", 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelGeosGeoPoint:withOrgGeogebraCommonKernelGeosGeoPoint:", "GeoSegment", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:", "GeoSegment", NULL, 0x1, NULL, NULL },
    { "setPointsWithOrgGeogebraCommonKernelGeosGeoPoint:withOrgGeogebraCommonKernelGeosGeoPoint:", "setPoints", "V", 0x1, NULL, NULL },
    { "setTwoPointsInhomCoordsWithOrgGeogebraCommonKernelMatrixCoords:withOrgGeogebraCommonKernelMatrixCoords:", "setTwoPointsInhomCoords", "V", 0x1, NULL, NULL },
    { "getGeoClassType", NULL, "Lorg.geogebra.common.plugin.GeoClass;", 0x1, NULL, NULL },
    { "copyInternalWithOrgGeogebraCommonKernelConstruction:", "copyInternal", "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "setWithOrgGeogebraCommonKernelGeosGeoElement:", "set", "V", 0x1, NULL, NULL },
    { "setWithOrgGeogebraCommonKernelGeosGeoPoint:withOrgGeogebraCommonKernelGeosGeoPoint:withOrgGeogebraCommonKernelGeosGeoVec3D:", "set", "V", 0x1, NULL, NULL },
    { "setVisualStyleWithOrgGeogebraCommonKernelGeosGeoElement:", "setVisualStyle", "V", 0x1, NULL, NULL },
    { "calcLength", NULL, "V", 0x1, NULL, NULL },
    { "getLength", NULL, "D", 0x1, NULL, NULL },
    { "isDefined", NULL, "Z", 0x1, NULL, NULL },
    { "setUndefined", NULL, "V", 0x1, NULL, NULL },
    { "showInAlgebraView", NULL, "Z", 0x11, NULL, NULL },
    { "showInEuclidianView", NULL, "Z", 0x1, NULL, NULL },
    { "isEqualWithOrgGeogebraCommonKernelGeosGeoElement:", "isEqual", "Z", 0x1, NULL, NULL },
    { "isEqualWithOrgGeogebraCommonKernelKernelNDGeoSegmentND:", "isEqual", "Z", 0x11, NULL, NULL },
    { "toStringWithOrgGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x11, NULL, NULL },
    { "toStringMinimalWithOrgGeogebraCommonKernelStringTemplate:", "toStringMinimal", "Ljava.lang.String;", 0x11, NULL, NULL },
    { "toValueStringWithOrgGeogebraCommonKernelStringTemplate:", "toValueString", "Ljava.lang.String;", 0x11, NULL, NULL },
    { "getNumber", NULL, "Lorg.geogebra.common.kernel.arithmetic.MyDouble;", 0x1, NULL, NULL },
    { "getDouble", NULL, "D", 0x11, NULL, NULL },
    { "isConstant", NULL, "Z", 0x11, NULL, NULL },
    { "isNumberValue", NULL, "Z", 0x1, NULL, NULL },
    { "allowOutlyingIntersections", NULL, "Z", 0x1, NULL, NULL },
    { "setAllowOutlyingIntersectionsWithBoolean:", "setAllowOutlyingIntersections", "V", 0x1, NULL, NULL },
    { "keepsTypeOnGeometricTransform", NULL, "Z", 0x1, NULL, NULL },
    { "setKeepTypeOnGeometricTransformWithBoolean:", "setKeepTypeOnGeometricTransform", "V", 0x1, NULL, NULL },
    { "isLimitedPath", NULL, "Z", 0x11, NULL, NULL },
    { "isIntersectionPointIncidentWithOrgGeogebraCommonKernelGeosGeoPoint:withDouble:", "isIntersectionPointIncident", "Z", 0x1, NULL, NULL },
    { "getStartPointAsGeoElement", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "getEndPointAsGeoElement", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "getPointXWithDouble:", "getPointX", "D", 0x1, NULL, NULL },
    { "getPointYWithDouble:", "getPointY", "D", 0x1, NULL, NULL },
    { "pointChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:", "pointChanged", "V", 0x1, NULL, NULL },
    { "pathChangedWithOrgGeogebraCommonKernelKernelNDGeoPointND:", "pathChanged", "V", 0x1, NULL, NULL },
    { "getMinParameter", NULL, "D", 0x1, NULL, NULL },
    { "getMaxParameter", NULL, "D", 0x1, NULL, NULL },
    { "createPathMover", NULL, "Lorg.geogebra.common.kernel.PathMover;", 0x1, NULL, NULL },
    { "getXMLtagsWithJavaLangStringBuilder:", "getXMLtags", "V", 0x4, NULL, NULL },
    { "createTransformedObjectWithOrgGeogebraCommonKernelTransform:withNSString:", "createTransformedObject", "[Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "isGeoSegment", NULL, "Z", 0x1, NULL, NULL },
    { "setZero", NULL, "V", 0x1, NULL, NULL },
    { "hasDrawable3D", NULL, "Z", 0x1, NULL, NULL },
    { "getLabelPosition", NULL, "Lorg.geogebra.common.kernel.Matrix.Coords;", 0x1, NULL, NULL },
    { "getParameterWithDouble:withDouble:", "getParameter", "D", 0x11, NULL, NULL },
    { "distanceWithOrgGeogebraCommonKernelGeosGeoPoint:", "distance", "D", 0x11, NULL, NULL },
    { "distanceWithDouble:withDouble:", "distance", "D", 0x11, NULL, NULL },
    { "isOnPathWithOrgGeogebraCommonKernelMatrixCoords:withDouble:", "isOnPath", "Z", 0x1, NULL, NULL },
    { "respectLimitedPathWithOrgGeogebraCommonKernelMatrixCoords:withDouble:", "respectLimitedPath", "Z", 0x1, NULL, NULL },
    { "checkOnPathWithOrgGeogebraCommonKernelMatrixCoords:withOrgGeogebraCommonKernelMatrixCoords:withOrgGeogebraCommonKernelMatrixCoords:withBoolean:withDouble:", "checkOnPath", "Z", 0x9, NULL, NULL },
    { "isAllEndpointsLabelsSet", NULL, "Z", 0x1, NULL, NULL },
    { "modifyInputPointsWithOrgGeogebraCommonKernelKernelNDGeoPointND:withOrgGeogebraCommonKernelKernelNDGeoPointND:", "modifyInputPoints", "V", 0x1, NULL, NULL },
    { "getMetasLength", NULL, "I", 0x1, NULL, NULL },
    { "getMetas", NULL, "[Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "setFromMetaWithOrgGeogebraCommonKernelGeosGeoElement:", "setFromMeta", "V", 0x1, NULL, NULL },
    { "respectLimitedPathWithDouble:", "respectLimitedPath", "Z", 0x1, NULL, NULL },
    { "dilateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelMatrixCoords:", "dilate", "V", 0x11, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:", "rotate", "V", 0x11, NULL, NULL },
    { "rotateWithOrgGeogebraCommonKernelArithmeticNumberValue:withOrgGeogebraCommonKernelKernelNDGeoPointND:", "rotate", "V", 0x11, NULL, NULL },
    { "mirrorWithOrgGeogebraCommonKernelMatrixCoords:", "mirror", "V", 0x11, NULL, NULL },
    { "mirrorWithOrgGeogebraCommonKernelKernelNDGeoLineND:", "mirror", "V", 0x11, NULL, NULL },
    { "translateWithOrgGeogebraCommonKernelMatrixCoords:", "translate", "V", 0x11, NULL, NULL },
    { "matrixTransformWithDouble:withDouble:withDouble:withDouble:", "matrixTransform", "V", 0x11, NULL, NULL },
    { "matrixTransformWithDouble:withDouble:withDouble:withDouble:withDouble:withDouble:withDouble:withDouble:withDouble:", "matrixTransform", "V", 0x11, NULL, NULL },
    { "setCoordsWithOrgGeogebraCommonKernelMyPoint:withOrgGeogebraCommonKernelMyPoint:", "setCoords", "V", 0x1, NULL, NULL },
    { "copyFreeSegment", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "length_", NULL, 0x2, "D", NULL, NULL,  },
    { "defined_", NULL, 0x2, "Z", NULL, NULL,  },
    { "allowOutlyingIntersections__", "allowOutlyingIntersections", 0x2, "Z", NULL, NULL,  },
    { "keepTypeOnGeometricTransform_", NULL, 0x2, "Z", NULL, NULL,  },
    { "SEGMENT_DECORATION_NONE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_NONE },
    { "SEGMENT_DECORATION_ONE_TICK_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_ONE_TICK },
    { "SEGMENT_DECORATION_TWO_TICKS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_TWO_TICKS },
    { "SEGMENT_DECORATION_THREE_TICKS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_THREE_TICKS },
    { "SEGMENT_DECORATION_ONE_ARROW_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_ONE_ARROW },
    { "SEGMENT_DECORATION_TWO_ARROWS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_TWO_ARROWS },
    { "SEGMENT_DECORATION_THREE_ARROWS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_THREE_ARROWS },
    { "sbToString_GeoSegment_", "sbToString", 0x2, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "forceSimpleTransform_", NULL, 0x2, "Z", NULL, NULL,  },
    { "meta_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoElement;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelGeosGeoSegment = { 2, "GeoSegment", "org.geogebra.common.kernel.geos", NULL, 0x11, 69, methods, 14, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelGeosGeoSegment;
}

@end

IOSObjectArray *OrgGeogebraCommonKernelGeosGeoSegment_getDecoTypes() {
  OrgGeogebraCommonKernelGeosGeoSegment_initialize();
  IOSObjectArray *ret = [IOSObjectArray newArrayWithObjects:(id[]){ new_JavaLangInteger_initWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_NONE), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_ONE_TICK), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_TWO_TICKS), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_THREE_TICKS), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_ONE_ARROW), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_TWO_ARROWS), JavaLangInteger_valueOfWithInt_(OrgGeogebraCommonKernelGeosGeoSegment_SEGMENT_DECORATION_THREE_ARROWS) } count:7 type:JavaLangInteger_class_()];
  return ret;
}

void OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(OrgGeogebraCommonKernelGeosGeoSegment *self, OrgGeogebraCommonKernelConstruction *c, OrgGeogebraCommonKernelGeosGeoPoint *A, OrgGeogebraCommonKernelGeosGeoPoint *B) {
  (void) OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  [self setPointsWithOrgGeogebraCommonKernelGeosGeoPoint:A withOrgGeogebraCommonKernelGeosGeoPoint:B];
}

OrgGeogebraCommonKernelGeosGeoSegment *new_OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(OrgGeogebraCommonKernelConstruction *c, OrgGeogebraCommonKernelGeosGeoPoint *A, OrgGeogebraCommonKernelGeosGeoPoint *B) {
  OrgGeogebraCommonKernelGeosGeoSegment *self = [OrgGeogebraCommonKernelGeosGeoSegment alloc];
  OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_(self, c, A, B);
  return self;
}

void OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_(OrgGeogebraCommonKernelGeosGeoSegment *self, OrgGeogebraCommonKernelConstruction *c) {
  (void) OrgGeogebraCommonKernelGeosGeoLine_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  self->allowOutlyingIntersections__ = NO;
  self->keepTypeOnGeometricTransform_ = YES;
  self->sbToString_GeoSegment_ = new_JavaLangStringBuilder_initWithInt_(30);
  self->meta_ = nil;
  [self setConstructionDefaults];
}

OrgGeogebraCommonKernelGeosGeoSegment *new_OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_(OrgGeogebraCommonKernelConstruction *c) {
  OrgGeogebraCommonKernelGeosGeoSegment *self = [OrgGeogebraCommonKernelGeosGeoSegment alloc];
  OrgGeogebraCommonKernelGeosGeoSegment_initWithOrgGeogebraCommonKernelConstruction_(self, c);
  return self;
}

jdouble OrgGeogebraCommonKernelGeosGeoSegment_getParameterWithDouble_withDouble_(OrgGeogebraCommonKernelGeosGeoSegment *self, jdouble ptx, jdouble pty) {
  jdouble px = ptx;
  jdouble py = pty;
  jdouble t = -(self->z_ + self->x_ * px + self->y_ * py) / (self->x_ * self->x_ + self->y_ * self->y_);
  px += t * self->x_;
  py += t * self->y_;
  if (JavaLangMath_absWithDouble_(self->x_) <= JavaLangMath_absWithDouble_(self->y_)) {
    return (((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(self->startPoint_))->z_ * px - self->startPoint_->x_) / (self->y_ * self->startPoint_->z_);
  }
  return (((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(self->startPoint_))->y_ - self->startPoint_->z_ * py) / (self->x_ * self->startPoint_->z_);
}

jboolean OrgGeogebraCommonKernelGeosGeoSegment_checkOnPathWithOrgGeogebraCommonKernelMatrixCoords_withOrgGeogebraCommonKernelMatrixCoords_withOrgGeogebraCommonKernelMatrixCoords_withBoolean_withDouble_(OrgGeogebraCommonKernelMatrixCoords *segStart, OrgGeogebraCommonKernelMatrixCoords *segEnd, OrgGeogebraCommonKernelMatrixCoords *point, jboolean checkOnFullLine, jdouble eps) {
  OrgGeogebraCommonKernelGeosGeoSegment_initialize();
  if (checkOnFullLine) {
    if ([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(segEnd)) subWithOrgGeogebraCommonKernelMatrixCoords:segStart])) crossProductWithOrgGeogebraCommonKernelMatrixCoords:[((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(point)) subWithOrgGeogebraCommonKernelMatrixCoords:segStart]])) equalsForKernelWithOrgGeogebraCommonKernelMatrixCoords:new_OrgGeogebraCommonKernelMatrixCoords_initWithDouble_withDouble_withDouble_(0, 0, 0) withDouble:OrgGeogebraCommonKernelKernel_STANDARD_PRECISION]) return NO;
  }
  jdouble x1 = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(segStart)) getInhomCoords])) getWithInt:1];
  jdouble x2 = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(segEnd)) getInhomCoords])) getWithInt:1];
  jdouble x = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([((OrgGeogebraCommonKernelMatrixCoords *) nil_chk(point)) getInhomCoords])) getWithInt:1];
  if (x1 - eps <= x2 && x2 <= x1 + eps) {
    jdouble y1 = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([segStart getInhomCoords])) getWithInt:2];
    jdouble y2 = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([segEnd getInhomCoords])) getWithInt:2];
    jdouble y = [((OrgGeogebraCommonKernelMatrixCoords *) nil_chk([point getInhomCoords])) getWithInt:2];
    if (y1 - eps <= y2 && y2 <= y1 + eps) {
      return YES;
    }
    return (y1 - eps <= y && y <= y2 + eps) || (y2 - eps <= y && y <= y1 + eps);
  }
  return (x1 - eps <= x && x <= x2 + eps) || (x2 - eps <= x && x <= x1 + eps);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelGeosGeoSegment)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/kernel/algos/AlgoStats1D.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Math.h"
#include "java/util/ArrayList.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/AlgoStats1D.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoAngle.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"

@interface OrgGeogebraCommonKernelAlgosAlgoStats1D () {
 @public
  OrgGeogebraCommonKernelGeosGeoList *geoList_, *geoList2_;
  OrgGeogebraCommonKernelGeosGeoNumeric *Truncate_;
  OrgGeogebraCommonKernelGeosGeoNumeric *result_;
  jint stat_;
}

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoStats1D, geoList_, OrgGeogebraCommonKernelGeosGeoList *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoStats1D, geoList2_, OrgGeogebraCommonKernelGeosGeoList *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoStats1D, Truncate_, OrgGeogebraCommonKernelGeosGeoNumeric *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoStats1D, result_, OrgGeogebraCommonKernelGeosGeoNumeric *)

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoStats1D_compute(OrgGeogebraCommonKernelAlgosAlgoStats1D *self);

@implementation OrgGeogebraCommonKernelAlgosAlgoStats1D

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withInt_(self, cons, label, geoList, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                  withOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *)Truncate
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, label, geoList, Truncate, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withInt_(self, cons, geoList, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList2
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withInt_(self, cons, label, geoList, geoList2, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList2
                  withOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *)Truncate
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, label, geoList, geoList2, Truncate, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList2
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withInt_(self, cons, geoList, geoList2, stat);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList2
                  withOrgGeogebraCommonKernelGeosGeoNumeric:(OrgGeogebraCommonKernelGeosGeoNumeric *)Truncate
                                                    withInt:(jint)stat {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, geoList, geoList2, Truncate, stat);
  return self;
}

- (void)setInputOutput {
  JavaUtilArrayList *inputList = [new_JavaUtilArrayList_init() autorelease];
  [inputList addWithId:geoList_];
  if (geoList2_ != nil) {
    [inputList addWithId:geoList2_];
  }
  if (Truncate_ != nil) {
    [inputList addWithId:Truncate_];
  }
  OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:[inputList size] type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
  [inputList toArrayWithNSObjectArray:input_];
  [inputList clear];
  [self setOnlyOutputWithOrgGeogebraCommonKernelGeosToGeoElement:result_];
  [self setDependencies];
}

- (OrgGeogebraCommonKernelGeosGeoNumeric *)getResult {
  return result_;
}

- (void)compute {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_compute(self);
}

- (void)dealloc {
  RELEASE_(geoList_);
  RELEASE_(geoList2_);
  RELEASE_(Truncate_);
  RELEASE_(result_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:withInt:", "AlgoStats1D", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoNumeric:withInt:", "AlgoStats1D", NULL, 0x4, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelGeosGeoList:withInt:", "AlgoStats1D", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoList:withInt:", "AlgoStats1D", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoNumeric:withInt:", "AlgoStats1D", NULL, 0x4, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoList:withInt:", "AlgoStats1D", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoNumeric:withInt:", "AlgoStats1D", NULL, 0x4, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "getResult", NULL, "Lorg.geogebra.common.kernel.geos.GeoNumeric;", 0x1, NULL, NULL },
    { "compute", NULL, "V", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "geoList_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "geoList2_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "Truncate_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoNumeric;", NULL, NULL,  },
    { "result_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoNumeric;", NULL, NULL,  },
    { "stat_", NULL, 0x2, "I", NULL, NULL,  },
    { "STATS_MEAN_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_MEAN },
    { "STATS_VARIANCE_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_VARIANCE },
    { "STATS_SIGMAX_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAX },
    { "STATS_SIGMAXX_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAXX },
    { "STATS_SD_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SD },
    { "STATS_PRODUCT_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_PRODUCT },
    { "STATS_SXX_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SXX },
    { "STATS_SAMPLE_VARIANCE_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SAMPLE_VARIANCE },
    { "STATS_SAMPLE_SD_", NULL, 0x1c, "I", NULL, NULL, .constantValue.asInt = OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SAMPLE_SD },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAlgosAlgoStats1D = { 2, "AlgoStats1D", "org.geogebra.common.kernel.algos", NULL, 0x401, 10, methods, 14, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelAlgosAlgoStats1D;
}

@end

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, label, geoList, nil, nil, stat);
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoNumeric *Truncate, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, geoList, nil, Truncate, stat);
  [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setLabelWithNSString:label];
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, OrgGeogebraCommonKernelGeosGeoList *geoList, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, geoList, nil, nil, stat);
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoList *geoList2, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, label, geoList, geoList2, nil, stat);
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoList *geoList2, OrgGeogebraCommonKernelGeosGeoNumeric *Truncate, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, geoList, geoList2, Truncate, stat);
  [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setLabelWithNSString:label];
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoList *geoList2, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(self, cons, geoList, geoList2, nil, stat);
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoNumeric_withInt_(OrgGeogebraCommonKernelAlgosAlgoStats1D *self, OrgGeogebraCommonKernelConstruction *cons, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoList *geoList2, OrgGeogebraCommonKernelGeosGeoNumeric *Truncate, jint stat) {
  OrgGeogebraCommonKernelAlgosAlgoElement_initWithOrgGeogebraCommonKernelConstruction_(self, cons);
  OrgGeogebraCommonKernelAlgosAlgoStats1D_set_geoList_(self, geoList);
  OrgGeogebraCommonKernelAlgosAlgoStats1D_set_geoList2_(self, geoList2);
  self->stat_ = stat;
  OrgGeogebraCommonKernelAlgosAlgoStats1D_set_Truncate_(self, Truncate);
  if ([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(geoList)) size] > 0 && [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk([geoList getWithInt:0])) isAngle]) {
    OrgGeogebraCommonKernelAlgosAlgoStats1D_setAndConsume_result_(self, new_OrgGeogebraCommonKernelGeosGeoAngle_initWithOrgGeogebraCommonKernelConstruction_(cons));
    [((OrgGeogebraCommonKernelGeosGeoAngle *) check_class_cast(self->result_, [OrgGeogebraCommonKernelGeosGeoAngle class])) setAngleStyleWithOrgGeogebraCommonKernelGeosGeoAngle_AngleStyleEnum:OrgGeogebraCommonKernelGeosGeoAngle_AngleStyleEnum_get_UNBOUNDED()];
  }
  else {
    OrgGeogebraCommonKernelAlgosAlgoStats1D_setAndConsume_result_(self, new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_(cons));
  }
  [self setInputOutput];
  OrgGeogebraCommonKernelAlgosAlgoStats1D_compute(self);
}

void OrgGeogebraCommonKernelAlgosAlgoStats1D_compute(OrgGeogebraCommonKernelAlgosAlgoStats1D *self) {
  if (![((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->geoList_)) isDefined]) {
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
    return;
  }
  if (self->geoList2_ != nil) {
    if (![self->geoList2_ isDefined] || !([self->geoList_ size] == [self->geoList2_ size] || [self->geoList_ size] == [self->geoList2_ size] + 1)) {
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
      return;
    }
  }
  jint truncate;
  jdouble size = [self->geoList_ size];
  if (self->Truncate_ != nil) {
    if (![self->Truncate_ isDefined]) {
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
      return;
    }
    truncate = J2ObjCFpToInt([self->Truncate_ getDouble]);
    if (truncate == 0) {
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:0];
      return;
    }
    if (truncate < 1 || truncate > size) {
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
      return;
    }
    size = truncate;
  }
  if (size == 0) {
    switch (self->stat_) {
      case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAX:
      case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAXX:
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:0];
      return;
      case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_PRODUCT:
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:1];
      return;
      default:
      [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
      return;
    }
  }
  jdouble sumVal = 0;
  jdouble sumSquares = 0;
  jdouble product = 1;
  jdouble sumFreq = 0;
  jdouble frequency = 1;
  jdouble var, mu;
  OrgGeogebraCommonKernelGeosGeoElement *geo, *geoFreq, *geo2;
  if (self->geoList2_ == nil) {
    jdouble val;
    for (jint i = 0; i < size; i++) {
      geo = [self->geoList_ getWithInt:i];
      if ([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo]) {
        val = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue))))) getDouble];
        sumVal += val;
        sumSquares += val * val;
        product *= val;
      }
      else {
        [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
        return;
      }
    }
  }
  else {
    jboolean useMidpoint = [self->geoList_ size] == [self->geoList2_ size] + 1;
    size = useMidpoint ? size - 1 : size;
    jdouble val;
    jdouble val_by_freq;
    for (jint i = 0; i < size; i++) {
      geo = [self->geoList_ getWithInt:i];
      geoFreq = [self->geoList2_ getWithInt:i];
      if (!([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo]) || !([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geoFreq])) {
        [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
        return;
      }
      val = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue))))) getDouble];
      if (useMidpoint) {
        geo2 = [self->geoList_ getWithInt:i + 1];
        if (!([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo2])) {
          [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
          return;
        }
        val = (val + ([((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo2, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue))))) getDouble])) / 2;
      }
      frequency = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geoFreq, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue))))) getDouble];
      if (frequency < 0) {
        [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setUndefined];
        return;
      }
      val_by_freq = val * frequency;
      sumVal += val_by_freq;
      sumSquares += val * val_by_freq;
      sumFreq += frequency;
      product *= JavaLangMath_powWithDouble_withDouble_(val, frequency);
    }
    size = sumFreq;
  }
  mu = sumVal / size;
  switch (self->stat_) {
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_MEAN:
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:mu];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SD:
    var = sumSquares / size - mu * mu;
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:JavaLangMath_sqrtWithDouble_(var)];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SAMPLE_SD:
    var = (sumSquares - sumVal * sumVal / size) / (size - 1);
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:JavaLangMath_sqrtWithDouble_(var)];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_VARIANCE:
    var = sumSquares / size - mu * mu;
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:var];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SAMPLE_VARIANCE:
    var = (sumSquares - sumVal * sumVal / size) / (size - 1);
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:var];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SXX:
    var = sumSquares - (sumVal * sumVal) / size;
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:var];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAX:
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:sumVal];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_SIGMAXX:
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:sumSquares];
    break;
    case OrgGeogebraCommonKernelAlgosAlgoStats1D_STATS_PRODUCT:
    [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(self->result_)) setValueWithDouble:product];
    break;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAlgosAlgoStats1D)

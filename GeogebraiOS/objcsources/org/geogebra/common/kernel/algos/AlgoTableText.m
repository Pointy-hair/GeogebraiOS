//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/kernel/algos/AlgoTableText.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/google/gwt/regexp/shared/MatchResult.h"
#include "com/google/gwt/regexp/shared/RegExp.h"
#include "java/lang/Enum.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/StringBuffer.h"
#include "java/lang/StringBuilder.h"
#include "org/geogebra/common/awt/GColor.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/AlgoTableText.h"
#include "org/geogebra/common/kernel/arithmetic/ExpressionNodeConstants.h"
#include "org/geogebra/common/kernel/commands/Commands.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoText.h"
#include "org/geogebra/common/kernel/geos/TextProperties.h"
#include "org/geogebra/common/main/App.h"
#include "org/geogebra/common/util/StringUtil.h"

@interface OrgGeogebraCommonKernelAlgosAlgoTableText () {
 @public
  OrgGeogebraCommonKernelGeosGeoList *geoList_;
  OrgGeogebraCommonKernelGeosGeoText *text_;
  OrgGeogebraCommonKernelGeosGeoText *args_;
  IOSObjectArray *geoLists_;
  JavaLangStringBuffer *sb_;
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *alignment_;
  jboolean verticalLines_, horizontalLines_;
  JavaLangStringBuilder *verticalLinesArray_, *horizontalLinesArray_;
  jboolean verticalLinesJustEdges_, horizontalLinesJustEdges_;
  NSString *justification_, *openBracket_, *closeBracket_, *openString_, *closeString_;
  jint columns_;
  jint rows_;
}

- (void)parseArgs;

+ (jchar)charAtWithId:(id)o
              withInt:(jint)i;

- (void)mathmlWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl;

- (void)latexWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl;

- (jchar)getJustificationWithInt:(jint)c;

- (void)latexMQWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl;

- (void)addCellLaTeXWithInt:(jint)c
                    withInt:(jint)r
                withBoolean:(jboolean)finalCell
withOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl;

- (void)addCellMathMLWithInt:(jint)c
                     withInt:(jint)r
withOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl;

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, geoList_, OrgGeogebraCommonKernelGeosGeoList *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, text_, OrgGeogebraCommonKernelGeosGeoText *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, args_, OrgGeogebraCommonKernelGeosGeoText *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, geoLists_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, sb_, JavaLangStringBuffer *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, alignment_, OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, verticalLinesArray_, JavaLangStringBuilder *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, horizontalLinesArray_, JavaLangStringBuilder *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, justification_, NSString *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, openBracket_, NSString *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, closeBracket_, NSString *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, openString_, NSString *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, closeString_, NSString *)

static ComGoogleGwtRegexpSharedRegExp *OrgGeogebraCommonKernelAlgosAlgoTableText_matchLRC_;
J2OBJC_STATIC_FIELD_GETTER(OrgGeogebraCommonKernelAlgosAlgoTableText, matchLRC_, ComGoogleGwtRegexpSharedRegExp *)

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_parseArgs(OrgGeogebraCommonKernelAlgosAlgoTableText *self);

__attribute__((unused)) static jchar OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(id o, jint i);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_compute(OrgGeogebraCommonKernelAlgosAlgoTableText *self);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_mathmlWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_latexWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl);

__attribute__((unused)) static jchar OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_latexMQWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c, jint r, jboolean finalCell, OrgGeogebraCommonKernelStringTemplate *tpl);

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_addCellMathMLWithInt_withInt_withOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c, jint r, OrgGeogebraCommonKernelStringTemplate *tpl);

@interface OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum ()

+ (IOSObjectArray *)values;
FOUNDATION_EXPORT IOSObjectArray *OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values();

+ (OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *)valueOfWithNSString:(NSString *)name;
FOUNDATION_EXPORT OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_valueOfWithNSString_(NSString *name);

- (id)copyWithZone:(NSZone *)zone;

@end

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *self, NSString *__name, jint __ordinal);

__attribute__((unused)) static OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *new_OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) NS_RETURNS_RETAINED;

J2OBJC_INITIALIZED_DEFN(OrgGeogebraCommonKernelAlgosAlgoTableText)

@implementation OrgGeogebraCommonKernelAlgosAlgoTableText

- (OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *)getAlignment {
  return alignment_;
}

- (jboolean)isVerticalLines {
  return verticalLines_;
}

- (jboolean)isHorizontalLines {
  return horizontalLines_;
}

- (NSString *)getJustification {
  return JreStrcat("C", [((NSString *) nil_chk(justification_)) charAtWithInt:0]);
}

- (NSString *)getOpenSymbol {
  return openString_;
}

- (NSString *)getCloseSymbol {
  return closeString_;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                               withNSString:(NSString *)label
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoText:(OrgGeogebraCommonKernelGeosGeoText *)args {
  OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(self, cons, label, geoList, args);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                     withOrgGeogebraCommonKernelGeosGeoText:(OrgGeogebraCommonKernelGeosGeoText *)args {
  OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(self, cons, geoList, args);
  return self;
}

- (OrgGeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return OrgGeogebraCommonKernelCommandsCommandsEnum_get_TableText();
}

- (void)setInputOutput {
  if (args_ == nil) {
    OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
    IOSObjectArray_Set(input_, 0, geoList_);
  }
  else {
    OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:2 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
    IOSObjectArray_Set(input_, 0, geoList_);
    IOSObjectArray_Set(input_, 1, args_);
  }
  [super setOutputLengthWithInt:1];
  [super setOutputWithInt:0 withOrgGeogebraCommonKernelGeosGeoElement:text_];
  [self setDependencies];
}

- (OrgGeogebraCommonKernelGeosGeoText *)getResult {
  return text_;
}

- (void)parseArgs {
  OrgGeogebraCommonKernelAlgosAlgoTableText_parseArgs(self);
}

+ (jchar)charAtWithId:(id)o
              withInt:(jint)i {
  return OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(o, i);
}

- (void)compute {
  OrgGeogebraCommonKernelAlgosAlgoTableText_compute(self);
}

- (void)mathmlWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  OrgGeogebraCommonKernelAlgosAlgoTableText_mathmlWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
}

- (void)latexWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  OrgGeogebraCommonKernelAlgosAlgoTableText_latexWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
}

- (jchar)getJustificationWithInt:(jint)c {
  return OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(self, c);
}

- (void)latexMQWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  OrgGeogebraCommonKernelAlgosAlgoTableText_latexMQWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
}

- (void)addCellLaTeXWithInt:(jint)c
                    withInt:(jint)r
                withBoolean:(jboolean)finalCell
withOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, finalCell, tpl);
}

- (void)addCellMathMLWithInt:(jint)c
                     withInt:(jint)r
withOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  OrgGeogebraCommonKernelAlgosAlgoTableText_addCellMathMLWithInt_withInt_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, tpl);
}

- (jboolean)isLaTeXTextCommand {
  return YES;
}

- (void)dealloc {
  RELEASE_(geoList_);
  RELEASE_(text_);
  RELEASE_(args_);
  RELEASE_(geoLists_);
  RELEASE_(sb_);
  RELEASE_(alignment_);
  RELEASE_(verticalLinesArray_);
  RELEASE_(horizontalLinesArray_);
  RELEASE_(justification_);
  RELEASE_(openBracket_);
  RELEASE_(closeBracket_);
  RELEASE_(openString_);
  RELEASE_(closeString_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [OrgGeogebraCommonKernelAlgosAlgoTableText class]) {
    JreStrongAssign(&OrgGeogebraCommonKernelAlgosAlgoTableText_matchLRC_, nil, ComGoogleGwtRegexpSharedRegExp_compileWithNSString_(@"([^lrc]*)([lrc]*)([^lrc]*)"));
    J2OBJC_SET_INITIALIZED(OrgGeogebraCommonKernelAlgosAlgoTableText)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getAlignment", NULL, "Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;", 0x1, NULL, NULL },
    { "isVerticalLines", NULL, "Z", 0x1, NULL, NULL },
    { "isHorizontalLines", NULL, "Z", 0x1, NULL, NULL },
    { "getJustification", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getOpenSymbol", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getCloseSymbol", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSString:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoText:", "AlgoTableText", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelGeosGeoText:", "AlgoTableText", NULL, 0x0, NULL, NULL },
    { "getClassName", NULL, "Lorg.geogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "getResult", NULL, "Lorg.geogebra.common.kernel.geos.GeoText;", 0x1, NULL, NULL },
    { "parseArgs", NULL, "V", 0x2, NULL, NULL },
    { "charAtWithId:withInt:", "charAt", "C", 0xa, NULL, NULL },
    { "compute", NULL, "V", 0x11, NULL, NULL },
    { "mathmlWithOrgGeogebraCommonKernelStringTemplate:", "mathml", "V", 0x2, NULL, NULL },
    { "latexWithOrgGeogebraCommonKernelStringTemplate:", "latex", "V", 0x2, NULL, NULL },
    { "getJustificationWithInt:", "getJustification", "C", 0x2, NULL, NULL },
    { "latexMQWithOrgGeogebraCommonKernelStringTemplate:", "latexMQ", "V", 0x2, NULL, NULL },
    { "addCellLaTeXWithInt:withInt:withBoolean:withOrgGeogebraCommonKernelStringTemplate:", "addCellLaTeX", "V", 0x2, NULL, NULL },
    { "addCellMathMLWithInt:withInt:withOrgGeogebraCommonKernelStringTemplate:", "addCellMathML", "V", 0x2, NULL, NULL },
    { "isLaTeXTextCommand", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "geoList_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "text_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoText;", NULL, NULL,  },
    { "args_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoText;", NULL, NULL,  },
    { "geoLists_", NULL, 0x2, "[Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "sb_", NULL, 0x2, "Ljava.lang.StringBuffer;", NULL, NULL,  },
    { "alignment_", NULL, 0x2, "Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;", NULL, NULL,  },
    { "verticalLines_", NULL, 0x2, "Z", NULL, NULL,  },
    { "horizontalLines_", NULL, 0x2, "Z", NULL, NULL,  },
    { "verticalLinesArray_", NULL, 0x2, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "horizontalLinesArray_", NULL, 0x2, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "verticalLinesJustEdges_", NULL, 0x2, "Z", NULL, NULL,  },
    { "horizontalLinesJustEdges_", NULL, 0x2, "Z", NULL, NULL,  },
    { "justification_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "openBracket_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "closeBracket_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "openString_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "closeString_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "columns_", NULL, 0x2, "I", NULL, NULL,  },
    { "rows_", NULL, 0x2, "I", NULL, NULL,  },
    { "matchLRC_", NULL, 0x1a, "Lcom.google.gwt.regexp.shared.RegExp;", &OrgGeogebraCommonKernelAlgosAlgoTableText_matchLRC_, NULL,  },
  };
  static const char *inner_classes[] = {"Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAlgosAlgoTableText = { 2, "AlgoTableText", "org.geogebra.common.kernel.algos", NULL, 0x1, 21, methods, 20, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgGeogebraCommonKernelAlgosAlgoTableText;
}

@end

void OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoText *args) {
  OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(self, cons, geoList, args);
  [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) setLabelWithNSString:label];
}

OrgGeogebraCommonKernelAlgosAlgoTableText *new_OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(OrgGeogebraCommonKernelConstruction *cons, NSString *label, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoText *args) {
  OrgGeogebraCommonKernelAlgosAlgoTableText *self = [OrgGeogebraCommonKernelAlgosAlgoTableText alloc];
  OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withNSString_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(self, cons, label, geoList, args);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelConstruction *cons, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoText *args) {
  OrgGeogebraCommonKernelAlgosAlgoElement_initWithOrgGeogebraCommonKernelConstruction_(self, cons);
  OrgGeogebraCommonKernelAlgosAlgoTableText_setAndConsume_sb_(self, new_JavaLangStringBuffer_init());
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_verticalLinesArray_(self, nil);
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_horizontalLinesArray_(self, nil);
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_geoList_(self, geoList);
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_args_(self, args);
  OrgGeogebraCommonKernelAlgosAlgoTableText_setAndConsume_text_(self, new_OrgGeogebraCommonKernelGeosGeoText_initWithOrgGeogebraCommonKernelConstruction_(cons));
  [self->text_ setAbsoluteScreenLocWithInt:0 withInt:0];
  [self->text_ setAbsoluteScreenLocActiveWithBoolean:YES];
  [self->text_ setFormulaTypeWithOrgGeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum:OrgGeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum_get_LATEX()];
  [self->text_ setLaTeXWithBoolean:YES withBoolean:NO];
  [self->text_ setIsTextCommandWithBoolean:YES];
  [self setInputOutput];
  OrgGeogebraCommonKernelAlgosAlgoTableText_compute(self);
  [self->text_ setSerifFontWithBoolean:NO];
}

OrgGeogebraCommonKernelAlgosAlgoTableText *new_OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(OrgGeogebraCommonKernelConstruction *cons, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelGeosGeoText *args) {
  OrgGeogebraCommonKernelAlgosAlgoTableText *self = [OrgGeogebraCommonKernelAlgosAlgoTableText alloc];
  OrgGeogebraCommonKernelAlgosAlgoTableText_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelGeosGeoText_(self, cons, geoList, args);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_parseArgs(OrgGeogebraCommonKernelAlgosAlgoTableText *self) {
  jint tableColumns = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->geoList_)) size];
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_alignment_(self, OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_HORIZONTAL());
  self->verticalLines_ = NO;
  self->horizontalLines_ = NO;
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_justification_(self, @"l");
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left.");
  OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right.");
  if (self->args_ != nil) {
    NSString *optionsStr = [self->args_ getTextString];
    if ([((NSString *) nil_chk(optionsStr)) indexOfString:@"v"] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_alignment_(self, OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_VERTICAL());
    }
    jint pos;
    if ((pos = [optionsStr indexOfString:@"|"]) > -1 && [optionsStr indexOfString:@"||"] == -1) {
      self->verticalLines_ = YES;
      OrgGeogebraCommonKernelAlgosAlgoTableText_setAndConsume_verticalLinesArray_(self, new_JavaLangStringBuilder_init());
      for (jint i = pos + 1; i < ((jint) [optionsStr length]); i++) {
        jchar ch = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(optionsStr, i);
        if (ch == '0' || ch == '1') {
          [self->verticalLinesArray_ appendWithChar:ch];
        }
        else {
          break;
        }
      }
    }
    if ((pos = [optionsStr indexOfString:@"_"]) > -1) {
      self->horizontalLines_ = YES;
      OrgGeogebraCommonKernelAlgosAlgoTableText_setAndConsume_horizontalLinesArray_(self, new_JavaLangStringBuilder_init());
      for (jint i = pos + 1; i < ((jint) [optionsStr length]); i++) {
        jchar ch = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(optionsStr, i);
        if (ch == '0' || ch == '1') {
          [self->horizontalLinesArray_ appendWithChar:ch];
        }
        else {
          break;
        }
      }
    }
    self->verticalLinesJustEdges_ = ([optionsStr indexOfString:@"/"] > -1);
    self->horizontalLinesJustEdges_ = ([optionsStr indexOfString:@"-"] > -1);
    ComGoogleGwtRegexpSharedMatchResult *matcher = [((ComGoogleGwtRegexpSharedRegExp *) nil_chk(OrgGeogebraCommonKernelAlgosAlgoTableText_matchLRC_)) execWithNSString:optionsStr];
    OrgGeogebraCommonKernelAlgosAlgoTableText_set_justification_(self, [((ComGoogleGwtRegexpSharedMatchResult *) nil_chk(matcher)) getGroupWithInt:2]);
    if ([@"" isEqual:self->justification_]) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_justification_(self, @"l");
    }
    if ([optionsStr indexOfString:@"||||"] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left| \\left|");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right| \\right|");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openString_(self, @"||");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeString_(self, @"||");
    }
    else if ([optionsStr indexOfString:@"||"] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left|");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right|");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openString_(self, @"|");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeString_(self, @"|");
    }
    else if ([optionsStr indexOf:'('] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left(");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openString_(self, @"(");
    }
    else if ([optionsStr indexOf:'['] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left[");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openString_(self, @"[");
    }
    else if ([optionsStr indexOf:'{'] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"\\left\\{");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_openString_(self, @"{");
    }
    if ([optionsStr indexOf:')'] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right)");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeString_(self, @")");
    }
    else if ([optionsStr indexOf:']'] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right]");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeString_(self, @"]");
    }
    else if ([optionsStr indexOf:'}'] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"\\right\\}");
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeString_(self, @"}");
    }
  }
  else if ([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk([self->geoList_ getWithInt:tableColumns - 1])) isGeoText]) {
    OrgGeogebraCommonKernelGeosGeoText *options = (OrgGeogebraCommonKernelGeosGeoText *) check_class_cast([self->geoList_ getWithInt:tableColumns - 1], [OrgGeogebraCommonKernelGeosGeoText class]);
    NSString *optionsStr = [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(options)) getTextString];
    if ([((NSString *) nil_chk(optionsStr)) indexOfString:@"h"] > -1) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_alignment_(self, OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_HORIZONTAL());
    }
    ComGoogleGwtRegexpSharedMatchResult *matcher = [((ComGoogleGwtRegexpSharedRegExp *) nil_chk(OrgGeogebraCommonKernelAlgosAlgoTableText_matchLRC_)) execWithNSString:optionsStr];
    OrgGeogebraCommonKernelAlgosAlgoTableText_set_justification_(self, [((ComGoogleGwtRegexpSharedMatchResult *) nil_chk(matcher)) getGroupWithInt:2]);
    if ([@"" isEqual:self->justification_]) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_set_justification_(self, @"l");
    }
  }
  if ([self->openBracket_ isEqual:@"\\left."] && [self->closeBracket_ isEqual:@"\\right."]) {
    OrgGeogebraCommonKernelAlgosAlgoTableText_set_openBracket_(self, @"");
    OrgGeogebraCommonKernelAlgosAlgoTableText_set_closeBracket_(self, @"");
  }
}

jchar OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(id o, jint i) {
  OrgGeogebraCommonKernelAlgosAlgoTableText_initialize();
  if (o == nil) {
    return '1';
  }
  NSString *str = [nil_chk(o) description];
  if (i < 0 || i >= ((jint) [((NSString *) nil_chk(str)) length])) {
    return '1';
  }
  return [((NSString *) nil_chk(str)) charAtWithInt:i];
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_compute(OrgGeogebraCommonKernelAlgosAlgoTableText *self) {
  self->columns_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->geoList_)) size];
  if (![self->geoList_ isDefined] || self->columns_ == 0) {
    [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) setTextStringWithNSString:@""];
    return;
  }
  OrgGeogebraCommonKernelAlgosAlgoTableText_parseArgs(self);
  if ([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk([self->geoList_ getWithInt:self->columns_ - 1])) isGeoText]) {
    self->columns_--;
  }
  if (self->columns_ == 0) {
    [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) setTextStringWithNSString:@""];
    return;
  }
  if (self->geoLists_ == nil || self->geoLists_->size_ < self->columns_) {
    OrgGeogebraCommonKernelAlgosAlgoTableText_setAndConsume_geoLists_(self, [IOSObjectArray newArrayWithLength:self->columns_ type:OrgGeogebraCommonKernelGeosGeoList_class_()]);
  }
  self->rows_ = 0;
  for (jint c = 0; c < self->columns_; c++) {
    OrgGeogebraCommonKernelGeosGeoElement *geo = [self->geoList_ getWithInt:c];
    if (![((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoList]) {
      [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) setTextStringWithNSString:@""];
      return;
    }
    IOSObjectArray_Set(nil_chk(self->geoLists_), c, (OrgGeogebraCommonKernelGeosGeoList *) check_class_cast([self->geoList_ getWithInt:c], [OrgGeogebraCommonKernelGeosGeoList class]));
    if ([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(self->geoLists_, c))) size] > self->rows_) self->rows_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(self->geoLists_, c))) size];
  }
  if (self->rows_ == 0) {
    [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) setTextStringWithNSString:@""];
    return;
  }
  [((JavaLangStringBuffer *) nil_chk(self->sb_)) setLengthWithInt:0];
  OrgGeogebraCommonKernelStringTemplate *tpl = [((OrgGeogebraCommonKernelGeosGeoText *) nil_chk(self->text_)) getStringTemplate];
  if ([((OrgGeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum *) nil_chk([((OrgGeogebraCommonKernelStringTemplate *) nil_chk(tpl)) getStringType])) isEqual:OrgGeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum_get_MATHML()]) {
    OrgGeogebraCommonKernelAlgosAlgoTableText_mathmlWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
  }
  else {
    if ([((OrgGeogebraCommonMainApp *) nil_chk([((OrgGeogebraCommonKernelKernel *) nil_chk(self->kernel_)) getApplication])) isLatexMathQuillStyleWithOrgGeogebraCommonKernelStringTemplate:tpl]) {
      OrgGeogebraCommonKernelAlgosAlgoTableText_latexMQWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
    }
    else {
      OrgGeogebraCommonKernelAlgosAlgoTableText_latexWithOrgGeogebraCommonKernelStringTemplate_(self, tpl);
    }
  }
  [self->text_ setTextStringWithNSString:[self->sb_ description]];
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_mathmlWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl) {
  if (self->alignment_ == OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_VERTICAL()) {
    [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"<matrix>"];
    for (jint r = 0; r < self->rows_; r++) {
      [self->sb_ appendWithNSString:@"<matrixrow>"];
      for (jint c = 0; c < self->columns_; c++) {
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellMathMLWithInt_withInt_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, tpl);
      }
      [self->sb_ appendWithNSString:@"</matrixrow>"];
    }
    [self->sb_ appendWithNSString:@"</matrix>"];
  }
  else {
    [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"<matrix>"];
    for (jint c = 0; c < self->columns_; c++) {
      [self->sb_ appendWithNSString:@"<matrixrow>"];
      for (jint r = 0; r < self->rows_; r++) {
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellMathMLWithInt_withInt_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, tpl);
      }
      [self->sb_ appendWithNSString:@"</matrixrow>"];
    }
    [self->sb_ appendWithNSString:@"</matrix>"];
  }
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_latexWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl) {
  [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithChar:'{'];
  [self->sb_ appendWithNSString:self->openBracket_];
  [self->sb_ appendWithNSString:@"\\begin{array}{"];
  if (self->alignment_ == OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_VERTICAL()) {
    for (jint c = 0; c < self->columns_; c++) {
      if (self->verticalLines_ && (!self->verticalLinesJustEdges_ || c == 0) && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, c) == '1') {
        [self->sb_ appendWithNSString:@"|"];
      }
      [self->sb_ appendWithChar:OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(self, c)];
    }
    if (self->verticalLines_ && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, self->columns_) == '1') {
      [self->sb_ appendWithNSString:@"|"];
    }
    [self->sb_ appendWithNSString:@"}"];
    if (self->horizontalLines_ && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, 0) == '1') {
      [self->sb_ appendWithNSString:@"\\hline "];
    }
    for (jint r = 0; r < self->rows_; r++) {
      for (jint c = 0; c < self->columns_; c++) {
        jboolean finalCell = c == self->columns_ - 1;
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, finalCell, tpl);
      }
      [self->sb_ appendWithNSString:@" \\\\ "];
      if (self->horizontalLines_ && (!self->horizontalLinesJustEdges_ || r + 1 == self->rows_) && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, r + 1) == '1') {
        [self->sb_ appendWithNSString:@"\\hline "];
      }
    }
  }
  else {
    for (jint c = 0; c < self->rows_; c++) {
      if (self->verticalLines_ && (!self->verticalLinesJustEdges_ || c == 0) && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, c) == '1') {
        [self->sb_ appendWithNSString:@"|"];
      }
      [self->sb_ appendWithChar:OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(self, c)];
    }
    if (self->verticalLines_ && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, self->rows_) == '1') {
      [self->sb_ appendWithNSString:@"|"];
    }
    [self->sb_ appendWithNSString:@"}"];
    if (self->horizontalLines_ && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, 0) == '1') {
      [self->sb_ appendWithNSString:@"\\hline "];
    }
    for (jint c = 0; c < self->columns_; c++) {
      for (jint r = 0; r < self->rows_; r++) {
        jboolean finalCell = r == self->rows_ - 1;
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, finalCell, tpl);
      }
      [self->sb_ appendWithNSString:@" \\\\ "];
      if (self->horizontalLines_ && (!self->horizontalLinesJustEdges_ || c + 1 == self->columns_) && OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, c + 1) == '1') {
        [self->sb_ appendWithNSString:@"\\hline "];
      }
    }
  }
  [self->sb_ appendWithNSString:@"\\end{array}"];
  [self->sb_ appendWithNSString:self->closeBracket_];
  [self->sb_ appendWithChar:'}'];
}

jchar OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c) {
  if (c < 0 || c >= ((jint) [((NSString *) nil_chk(self->justification_)) length])) {
    return [((NSString *) nil_chk(self->justification_)) charAtWithInt:0];
  }
  return [((NSString *) nil_chk(self->justification_)) charAtWithInt:c];
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_latexMQWithOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, OrgGeogebraCommonKernelStringTemplate *tpl) {
  [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithChar:'{'];
  jint closingSignsNeeded = 0;
  if (![@"" isEqual:self->openBracket_]) {
    if (![@"\\left." isEqual:self->openBracket_]) {
      if ([@"||" isEqual:self->openString_]) {
        [self->sb_ appendWithNSString:@" \\opendoubleonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"|" isEqual:self->openString_]) {
        [self->sb_ appendWithNSString:@" \\openlineonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"(" isEqual:self->openString_]) {
        [self->sb_ appendWithNSString:@" \\openparenonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"[" isEqual:self->openString_]) {
        [self->sb_ appendWithNSString:@" \\openbracketonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"{" isEqual:self->openString_]) {
        [self->sb_ appendWithNSString:@" \\openbraceonly{ "];
        closingSignsNeeded++;
      }
    }
    if (![@"\\right." isEqual:self->closeBracket_]) {
      if ([@"||" isEqual:self->closeString_]) {
        [self->sb_ appendWithNSString:@" \\closedoubleonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"|" isEqual:self->closeString_]) {
        [self->sb_ appendWithNSString:@" \\closelineonly{ "];
        closingSignsNeeded++;
      }
      else if ([@")" isEqual:self->closeString_]) {
        [self->sb_ appendWithNSString:@" \\closeparenonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"]" isEqual:self->closeString_]) {
        [self->sb_ appendWithNSString:@" \\closebracketonly{ "];
        closingSignsNeeded++;
      }
      else if ([@"}" isEqual:self->closeString_]) {
        [self->sb_ appendWithNSString:@" \\closebraceonly{ "];
        closingSignsNeeded++;
      }
    }
  }
  [self->sb_ appendWithNSString:@" \\ggbtable{ "];
  if (self->alignment_ == OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_get_VERTICAL()) {
    for (jint r = 0; r < self->rows_; r++) {
      jchar c0 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, r);
      jchar c1 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, r + 1);
      if (!self->horizontalLines_) {
        [self->sb_ appendWithNSString:@"\\ggbtr{"];
      }
      else if (self->rows_ == 1 && (self->horizontalLinesJustEdges_ || c0 == '1' || c1 == '1')) {
        if (self->verticalLinesJustEdges_ || (c0 == '1' && c1 == '1')) {
          [self->sb_ appendWithNSString:@"\\ggbtrl{"];
        }
        else if (c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
        }
        else if (c1 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
      }
      else if (r == 0 && (self->horizontalLinesJustEdges_ || c0 == '1')) {
        [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
      }
      else if (r == self->rows_ - 1) {
        if (self->horizontalLinesJustEdges_) {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
        else if (c1 == '1' && c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrl{"];
        }
        else if (c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
        }
        else if (c1 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
        else {
          [self->sb_ appendWithNSString:@"\\ggbtr{"];
        }
      }
      else if (!self->horizontalLinesJustEdges_ && c0 == '1') {
        [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
      }
      else {
        [self->sb_ appendWithNSString:@"\\ggbtr{"];
      }
      for (jint c = 0; c < self->columns_; c++) {
        c0 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, c);
        c1 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, c + 1);
        NSString *jc = [((NSString *) nil_chk(NSString_valueOfChar_(OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(self, c)))) uppercaseString];
        if ([@"C" isEqual:jc]) {
          jc = @"";
        }
        if (!self->verticalLines_) {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
        }
        else if (self->columns_ == 1 && (self->verticalLinesJustEdges_ || c0 == '1' || c1 == '1')) {
          if (self->verticalLinesJustEdges_ || (c0 == '1' && c1 == '1')) {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdl", jc, '{')];
          }
          else if (c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
          }
          else if (c1 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
        }
        else if (c == 0 && (self->verticalLinesJustEdges_ || c0 == '1')) {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
        }
        else if (c == self->columns_ - 1) {
          if (self->verticalLinesJustEdges_) {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
          else if (c1 == '1' && c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdl", jc, '{')];
          }
          else if (c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
          }
          else if (c1 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
          else {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
          }
        }
        else if (!self->verticalLinesJustEdges_ && c0 == '1') {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
        }
        else {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
        }
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, YES, tpl);
        [self->sb_ appendWithNSString:@"}"];
      }
      [self->sb_ appendWithNSString:@"}"];
    }
  }
  else {
    for (jint c = 0; c < self->columns_; c++) {
      jchar c0 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, c);
      jchar c1 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->horizontalLinesArray_, c + 1);
      if (!self->horizontalLines_) {
        [self->sb_ appendWithNSString:@"\\ggbtr{"];
      }
      else if (self->columns_ == 1 && (self->horizontalLinesJustEdges_ || c0 == '1' || c1 == '1')) {
        if (self->horizontalLinesJustEdges_ || (c0 == '1' && c1 == '1')) {
          [self->sb_ appendWithNSString:@"\\ggbtrl{"];
        }
        else if (c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
        }
        else if (c1 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
      }
      else if (c == 0 && (self->horizontalLinesJustEdges_ || c0 == '1')) {
        [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
      }
      else if (c == self->columns_ - 1) {
        if (self->horizontalLinesJustEdges_) {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
        else if (c1 == '1' && c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrl{"];
        }
        else if (c0 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
        }
        else if (c1 == '1') {
          [self->sb_ appendWithNSString:@"\\ggbtrlb{"];
        }
        else {
          [self->sb_ appendWithNSString:@"\\ggbtr{"];
        }
      }
      else if (!self->horizontalLinesJustEdges_ && c0 == '1') {
        [self->sb_ appendWithNSString:@"\\ggbtrlt{"];
      }
      else {
        [self->sb_ appendWithNSString:@"\\ggbtr{"];
      }
      for (jint r = 0; r < self->rows_; r++) {
        c0 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, r);
        c1 = OrgGeogebraCommonKernelAlgosAlgoTableText_charAtWithId_withInt_(self->verticalLinesArray_, r + 1);
        NSString *jc = [((NSString *) nil_chk(NSString_valueOfChar_(OrgGeogebraCommonKernelAlgosAlgoTableText_getJustificationWithInt_(self, r)))) uppercaseString];
        if ([@"C" isEqual:jc]) {
          jc = @"";
        }
        if (!self->verticalLines_) {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
        }
        else if (self->rows_ == 1 && (self->verticalLinesJustEdges_ || c0 == '1' || c1 == '1')) {
          if (self->verticalLinesJustEdges_ || (c0 == '1' && c1 == '1')) {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdl", jc, '{')];
          }
          else if (c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
          }
          else if (c1 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
        }
        else if (r == 0 && (self->verticalLinesJustEdges_ || c0 == '1')) {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
        }
        else if (r == self->rows_ - 1) {
          if (self->verticalLinesJustEdges_) {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
          else if (c1 == '1' && c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdl", jc, '{')];
          }
          else if (c0 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
          }
          else if (c1 == '1') {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdlr", jc, '{')];
          }
          else {
            [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
          }
        }
        else if (!self->verticalLinesJustEdges_ && c0 == '1') {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtdll", jc, '{')];
        }
        else {
          [self->sb_ appendWithNSString:JreStrcat("$$C", @"\\ggbtd", jc, '{')];
        }
        OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(self, c, r, YES, tpl);
        [self->sb_ appendWithNSString:@"}"];
      }
      [self->sb_ appendWithNSString:@"}"];
    }
  }
  [self->sb_ appendWithNSString:@"} "];
  while (closingSignsNeeded > 0) {
    [self->sb_ appendWithNSString:@"} "];
    closingSignsNeeded--;
  }
  [self->sb_ appendWithChar:'}'];
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_addCellLaTeXWithInt_withInt_withBoolean_withOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c, jint r, jboolean finalCell, OrgGeogebraCommonKernelStringTemplate *tpl) {
  if ([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(nil_chk(self->geoLists_), c))) size] > r) {
    OrgGeogebraCommonKernelGeosGeoElement *geo1 = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(self->geoLists_, c))) getWithInt:r];
    OrgGeogebraCommonAwtGColor *col = [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo1)) getObjectColor];
    if ([((OrgGeogebraCommonAwtGColor *) nil_chk(OrgGeogebraCommonAwtGColor_get_BLACK_())) isEqual:col] || ![geo1 isLabelSet]) {
      col = nil;
    }
    if (col != nil) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"\\textcolor{#"];
      [self->sb_ appendWithNSString:OrgGeogebraCommonUtilStringUtil_toHexStringWithOrgGeogebraCommonAwtGColor_(col)];
      [self->sb_ appendWithNSString:@"}{"];
    }
    NSString *text1 = [geo1 toLaTeXStringWithBoolean:NO withOrgGeogebraCommonKernelStringTemplate:tpl];
    if ([@" " isEqual:text1] || [@"" isEqual:text1]) {
      text1 = @"\\;";
    }
    if ((([OrgGeogebraCommonKernelGeosTextProperties_class_() isInstance:geo1] && ![((id<OrgGeogebraCommonKernelGeosTextProperties>) check_protocol_cast(geo1, @protocol(OrgGeogebraCommonKernelGeosTextProperties))) isLaTeXTextCommand]) && (!([geo1 isKindOfClass:[OrgGeogebraCommonKernelGeosGeoText class]]) || ![((OrgGeogebraCommonKernelGeosGeoText *) check_class_cast(geo1, [OrgGeogebraCommonKernelGeosGeoText class])) isLaTeX])) && [((NSString *) nil_chk(text1)) indexOfString:@" "] > -1 && [text1 indexOfString:@"^"] == -1 && [text1 indexOfString:@"{"] == -1 && [text1 indexOfString:@"}"] == -1 && [text1 indexOfString:@"+"] == -1 && [text1 indexOfString:@"-"] == -1 && [text1 indexOfString:@"="] == -1 && [text1 indexOfString:@"\\"] == -1) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"\\text{"];
      [self->sb_ appendWithNSString:text1];
      [self->sb_ appendWithNSString:@"}"];
    }
    else {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:text1];
    }
    if (col != nil) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithChar:'}'];
    }
  }
  if (!finalCell) [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"&"];
}

void OrgGeogebraCommonKernelAlgosAlgoTableText_addCellMathMLWithInt_withInt_withOrgGeogebraCommonKernelStringTemplate_(OrgGeogebraCommonKernelAlgosAlgoTableText *self, jint c, jint r, OrgGeogebraCommonKernelStringTemplate *tpl) {
  if ([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(nil_chk(self->geoLists_), c))) size] > r) {
    OrgGeogebraCommonKernelGeosGeoElement *geo1 = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(IOSObjectArray_Get(self->geoLists_, c))) getWithInt:r];
    NSString *textGeo = [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo1)) toLaTeXStringWithBoolean:NO withOrgGeogebraCommonKernelStringTemplate:tpl];
    if ([((NSString *) nil_chk(textGeo)) hasPrefix:@"<apply>"]) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:textGeo];
    }
    else if (OrgGeogebraCommonUtilStringUtil_isNumberWithNSString_(textGeo)) {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"<cn>"];
      [self->sb_ appendWithNSString:textGeo];
      [self->sb_ appendWithNSString:@"</cn>"];
    }
    else {
      [((JavaLangStringBuffer *) nil_chk(self->sb_)) appendWithNSString:@"<ci>"];
      [self->sb_ appendWithNSString:textGeo];
      [self->sb_ appendWithNSString:@"</ci>"];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAlgosAlgoTableText)

J2OBJC_INITIALIZED_DEFN(OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum)

OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values_[2];

@implementation OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum

- (instancetype)initWithNSString:(NSString *)__name
                         withInt:(jint)__ordinal {
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

IOSObjectArray *OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values() {
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initialize();
  return [IOSObjectArray arrayWithObjects:OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values_ count:2 type:OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_class_()];
}

+ (IOSObjectArray *)values {
  return OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values();
}

+ (OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *)valueOfWithNSString:(NSString *)name {
  return OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_valueOfWithNSString_(name);
}

OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_valueOfWithNSString_(NSString *name) {
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initialize();
  for (int i = 0; i < 2; i++) {
    OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *e = OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[[JavaLangIllegalArgumentException alloc] initWithNSString:name] autorelease];
  return nil;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self retain];
}

+ (void)initialize {
  if (self == [OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum class]) {
    OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_VERTICAL = new_OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(@"VERTICAL", 0);
    OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_HORIZONTAL = new_OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(@"HORIZONTAL", 1);
    J2OBJC_SET_INITIALIZED(OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcFieldInfo fields[] = {
    { "VERTICAL", "VERTICAL", 0x4019, "Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;", &OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_VERTICAL, NULL,  },
    { "HORIZONTAL", "HORIZONTAL", 0x4019, "Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;", &OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_HORIZONTAL, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lorg.geogebra.common.kernel.algos.AlgoTableText$Alignment;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum = { 2, "Alignment", "org.geogebra.common.kernel.algos", "AlgoTableText", 0x401a, 0, NULL, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/lang/Enum<Lorg/geogebra/common/kernel/algos/AlgoTableText$Alignment;>;" };
  return &_OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum;
}

@end

void OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *new_OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) {
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum *self = [OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum alloc];
  OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAlgosAlgoTableText_AlignmentEnum)

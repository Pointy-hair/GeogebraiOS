//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/kernel/algos/AlgoPolygon.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Double.h"
#include "java/lang/StringBuilder.h"
#include "org/geogebra/common/euclidian/EuclidianConstants.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/LocusEquation.h"
#include "org/geogebra/common/kernel/Matrix/CoordSys.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/algos/AlgoPolygon.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/algos/EquationElementInterface.h"
#include "org/geogebra/common/kernel/algos/EquationScopeInterface.h"
#include "org/geogebra/common/kernel/commands/Commands.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoPoint.h"
#include "org/geogebra/common/kernel/geos/GeoPolygon.h"
#include "org/geogebra/common/kernel/kernelND/GeoDirectionND.h"
#include "org/geogebra/common/kernel/kernelND/GeoPointND.h"
#include "org/geogebra/common/kernel/kernelND/GeoSegmentND.h"
#include "org/geogebra/common/main/Localization.h"
#include "org/geogebra/common/plugin/GeoClass.h"

@interface OrgGeogebraCommonKernelAlgosAlgoPolygon () {
 @public
  IOSDoubleArray *tmp3_;
}

- (void)updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)pointList;

- (void)setOutput;

+ (jdouble)pointsClosedXWithInt:(jint)i
withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2;

+ (jdouble)pointsClosedYWithInt:(jint)i
withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2;

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelAlgosAlgoPolygon, tmp3_, IOSDoubleArray *)

__attribute__((unused)) static void OrgGeogebraCommonKernelAlgosAlgoPolygon_updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelGeosGeoList *pointList);

__attribute__((unused)) static jdouble OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(jint i, IOSObjectArray *points2);

__attribute__((unused)) static jdouble OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(jint i, IOSObjectArray *points2);

@implementation OrgGeogebraCommonKernelAlgosAlgoPolygon

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                          withNSStringArray:(IOSObjectArray *)labels
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, geoList);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                          withNSStringArray:(IOSObjectArray *)labels
         withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(self, cons, labels, points);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                          withNSStringArray:(IOSObjectArray *)labels
         withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, points, geoList);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
         withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                  withOrgGeogebraCommonKernelMatrixCoordSys:(OrgGeogebraCommonKernelMatrixCoordSys *)cs2D
                                                withBoolean:(jboolean)createSegments
                  withOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)polyhedron
          withOrgGeogebraCommonKernelKernelNDGeoDirectionND:(id<OrgGeogebraCommonKernelKernelNDGeoDirectionND>)direction {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, points, geoList, cs2D, createSegments, polyhedron, direction);
  return self;
}

- (instancetype)initWithOrgGeogebraCommonKernelConstruction:(OrgGeogebraCommonKernelConstruction *)cons
                                          withNSStringArray:(IOSObjectArray *)labels
         withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points
                     withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList
                  withOrgGeogebraCommonKernelMatrixCoordSys:(OrgGeogebraCommonKernelMatrixCoordSys *)cs2D
                                                withBoolean:(jboolean)createSegments
                  withOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)polyhedron
          withOrgGeogebraCommonKernelKernelNDGeoDirectionND:(id<OrgGeogebraCommonKernelKernelNDGeoDirectionND>)direction {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, geoList, cs2D, createSegments, polyhedron, direction);
  return self;
}

- (void)createPolygonWithBoolean:(jboolean)createSegments {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_poly_(self, new_OrgGeogebraCommonKernelGeosGeoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(self->cons_, self->points_));
}

- (OrgGeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return OrgGeogebraCommonKernelCommandsCommandsEnum_get_Polygon();
}

- (jint)getRelatedModeID {
  return OrgGeogebraCommonEuclidianEuclidianConstants_MODE_POLYGON;
}

- (void)updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)pointList {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList_(self, pointList);
}

- (IOSObjectArray *)createEfficientInput {
  IOSObjectArray *efficientInput;
  if (geoList_ != nil) {
    efficientInput = [IOSObjectArray arrayWithLength:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    IOSObjectArray_Set(efficientInput, 0, geoList_);
  }
  else {
    efficientInput = [IOSObjectArray arrayWithLength:((IOSObjectArray *) nil_chk(points_))->size_ type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
    for (jint i = 0; i < points_->size_; i++) IOSObjectArray_Set(efficientInput, i, (OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(IOSObjectArray_Get(points_, i), [OrgGeogebraCommonKernelGeosGeoElement class]));
  }
  return efficientInput;
}

- (void)modifyInputPointsWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)newPoints {
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(input_))->size_; i++) [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(IOSObjectArray_Get(input_, i))) removeAlgorithmWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_points_(self, newPoints);
  [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) setPointsWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:points_ withOrgGeogebraCommonKernelMatrixCoordSys:nil withBoolean:NO];
  [self setInputOutput];
  [self compute];
}

- (void)setInputOutput {
  IOSObjectArray *efficientInput = [self createEfficientInput];
  if (polyhedron_ == nil) {
    OrgGeogebraCommonKernelAlgosAlgoElement_set_input_(self, efficientInput);
  }
  else {
    OrgGeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:((IOSObjectArray *) nil_chk(efficientInput))->size_ + 1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()]);
    for (jint i = 0; i < efficientInput->size_; i++) IOSObjectArray_Set(input_, i, IOSObjectArray_Get(efficientInput, i));
    IOSObjectArray_Set(input_, efficientInput->size_, polyhedron_);
  }
  [self setEfficientDependenciesWithOrgGeogebraCommonKernelGeosGeoElementArray:input_ withOrgGeogebraCommonKernelGeosGeoElementArray:efficientInput];
  [self setOutput];
  [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) setParentAlgorithmWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
  [((OrgGeogebraCommonKernelConstruction *) nil_chk(cons_)) addToAlgorithmListWithOrgGeogebraCommonKernelAlgosAlgoElement:self];
}

- (void)setOutput {
  IOSObjectArray *segments = [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) getSegments];
  jint size = 1;
  if (segments != nil && polyhedron_ == nil && geoList_ == nil) {
    size += segments->size_;
  }
  [super setOutputLengthWithInt:size];
  [super setOutputWithInt:0 withOrgGeogebraCommonKernelGeosGeoElement:poly_];
  if (polyhedron_ == nil && geoList_ == nil) {
    for (jint i = 0; i < size - 1; i++) {
      [super setOutputWithInt:i + 1 withOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *) check_class_cast(IOSObjectArray_Get(nil_chk(segments), i), [OrgGeogebraCommonKernelGeosGeoElement class])];
    }
  }
}

- (void)removeOutput {
  if (polyhedron_ == nil) [super removeOutput];
}

- (void)update {
  [self compute];
  [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk([super getOutputWithInt:0])) update];
}

- (OrgGeogebraCommonKernelGeosGeoPolygon *)getPoly {
  return poly_;
}

- (IOSObjectArray *)getPoints {
  return points_;
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getPolyhedron {
  return polyhedron_;
}

- (void)remove {
  if (removed_) return;
  [super remove];
  if (polyhedron_ != nil) [polyhedron_ remove];
}

- (void)compute {
  if (geoList_ != nil) {
    OrgGeogebraCommonKernelAlgosAlgoPolygon_updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList_(self, geoList_);
  }
  [self calcArea];
  [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) updateRegionCS];
}

+ (jdouble)calcAreaWithSignWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2 {
  return OrgGeogebraCommonKernelAlgosAlgoPolygon_calcAreaWithSignWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(points2);
}

+ (void)calcCentroidWithDoubleArray:(IOSDoubleArray *)centroid
                         withDouble:(jdouble)signedArea
withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2 {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_calcCentroidWithDoubleArray_withDouble_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(centroid, signedArea, points2);
}

+ (jdouble)pointsClosedXWithInt:(jint)i
withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2 {
  return OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2);
}

+ (jdouble)pointsClosedYWithInt:(jint)i
withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:(IOSObjectArray *)points2 {
  return OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2);
}

- (void)createStringBuilderWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  if (sb_ == nil) {
    OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_sb_(self, new_JavaLangStringBuilder_init());
  }
  else {
    [sb_ setLengthWithInt:0];
  }
  NSString *label;
  if (geoList_ != nil) {
    label = [geoList_ getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl];
  }
  else {
    jint last = ((IOSObjectArray *) nil_chk(points_))->size_ - 1;
    for (jint i = 0; i < last; i++) {
      [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(points_, i))) getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl]];
      [sb_ appendWithNSString:@", "];
    }
    [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(points_, last))) getLabelWithOrgGeogebraCommonKernelStringTemplate:tpl]];
    label = [sb_ description];
    [sb_ setLengthWithInt:0];
  }
  [((JavaLangStringBuilder *) nil_chk(sb_)) appendWithNSString:[((OrgGeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"PolygonA" withNSString:label]];
}

- (NSString *)toStringWithOrgGeogebraCommonKernelStringTemplate:(OrgGeogebraCommonKernelStringTemplate *)tpl {
  [self createStringBuilderWithOrgGeogebraCommonKernelStringTemplate:tpl];
  return [((JavaLangStringBuilder *) nil_chk(sb_)) description];
}

- (jboolean)isLocusEquable {
  return YES;
}

- (id<OrgGeogebraCommonKernelAlgosEquationElementInterface>)buildEquationElementForGeoWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo
                                                                         withOrgGeogebraCommonKernelAlgosEquationScopeInterface:(id<OrgGeogebraCommonKernelAlgosEquationScopeInterface>)scope {
  return OrgGeogebraCommonKernelLocusEquation_eqnPolygonWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelAlgosAlgoElement_withOrgGeogebraCommonKernelAlgosEquationScopeInterface_(geo, self, scope);
}

- (void)calcArea {
  IOSObjectArray *points2d = [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) getPoints];
  [poly_ setAreaWithDouble:OrgGeogebraCommonKernelAlgosAlgoPolygon_calcAreaWithSignWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(points2d)];
}

- (void)calcCentroidWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)p {
  IOSObjectArray *points2d = [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(poly_)) getPoints];
  if (tmp3_ == nil) {
    OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_tmp3_(self, [IOSDoubleArray newArrayWithLength:3]);
  }
  OrgGeogebraCommonKernelAlgosAlgoPolygon_calcCentroidWithDoubleArray_withDouble_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(tmp3_, [poly_ getAreaWithSign], points2d);
  if (JavaLangDouble_isNaNWithDouble_(IOSDoubleArray_Get(nil_chk(tmp3_), 0))) {
    [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(p)) setUndefined];
  }
  else {
    [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(p)) setCoordsWithDouble:IOSDoubleArray_Get(tmp3_, 0) withDouble:IOSDoubleArray_Get(tmp3_, 1) withDouble:IOSDoubleArray_Get(tmp3_, 2)];
  }
}

- (void)dealloc {
  RELEASE_(points_);
  RELEASE_(geoList_);
  RELEASE_(poly_);
  RELEASE_(cs2D_);
  RELEASE_(polyhedron_);
  RELEASE_(direction_);
  RELEASE_(sb_);
  RELEASE_(tmp3_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelGeosGeoList:", "AlgoPolygon", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "AlgoPolygon", NULL, 0x1, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:withOrgGeogebraCommonKernelGeosGeoList:", "AlgoPolygon", NULL, 0x4, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelMatrixCoordSys:withBoolean:withOrgGeogebraCommonKernelGeosGeoElement:withOrgGeogebraCommonKernelKernelNDGeoDirectionND:", "AlgoPolygon", NULL, 0x4, NULL, NULL },
    { "initWithOrgGeogebraCommonKernelConstruction:withNSStringArray:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonKernelMatrixCoordSys:withBoolean:withOrgGeogebraCommonKernelGeosGeoElement:withOrgGeogebraCommonKernelKernelNDGeoDirectionND:", "AlgoPolygon", NULL, 0x4, NULL, NULL },
    { "createPolygonWithBoolean:", "createPolygon", "V", 0x4, NULL, NULL },
    { "getClassName", NULL, "Lorg.geogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "getRelatedModeID", NULL, "I", 0x1, NULL, NULL },
    { "updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList:", "updatePointArray", "V", 0x2, NULL, NULL },
    { "createEfficientInput", NULL, "[Lorg.geogebra.common.kernel.geos.GeoElement;", 0x4, NULL, NULL },
    { "modifyInputPointsWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "modifyInputPoints", "V", 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "setOutput", NULL, "V", 0x2, NULL, NULL },
    { "removeOutput", NULL, "V", 0x4, NULL, NULL },
    { "update", NULL, "V", 0x1, NULL, NULL },
    { "getPoly", NULL, "Lorg.geogebra.common.kernel.geos.GeoPolygon;", 0x1, NULL, NULL },
    { "getPoints", NULL, "[Lorg.geogebra.common.kernel.kernelND.GeoPointND;", 0x1, NULL, NULL },
    { "getPolyhedron", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "remove", NULL, "V", 0x1, NULL, NULL },
    { "compute", NULL, "V", 0x1, NULL, NULL },
    { "calcAreaWithSignWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "calcAreaWithSign", "D", 0x19, NULL, NULL },
    { "calcCentroidWithDoubleArray:withDouble:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "calcCentroid", "V", 0x9, NULL, NULL },
    { "pointsClosedXWithInt:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "pointsClosedX", "D", 0xa, NULL, NULL },
    { "pointsClosedYWithInt:withOrgGeogebraCommonKernelKernelNDGeoPointNDArray:", "pointsClosedY", "D", 0xa, NULL, NULL },
    { "createStringBuilderWithOrgGeogebraCommonKernelStringTemplate:", "createStringBuilder", "V", 0x4, NULL, NULL },
    { "toStringWithOrgGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x11, NULL, NULL },
    { "isLocusEquable", NULL, "Z", 0x1, NULL, NULL },
    { "buildEquationElementForGeoWithOrgGeogebraCommonKernelGeosGeoElement:withOrgGeogebraCommonKernelAlgosEquationScopeInterface:", "buildEquationElementForGeo", "Lorg.geogebra.common.kernel.algos.EquationElementInterface;", 0x1, NULL, NULL },
    { "calcArea", NULL, "V", 0x1, NULL, NULL },
    { "calcCentroidWithOrgGeogebraCommonKernelGeosGeoPoint:", "calcCentroid", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "points_", NULL, 0x4, "[Lorg.geogebra.common.kernel.kernelND.GeoPointND;", NULL, NULL,  },
    { "geoList_", NULL, 0x4, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
    { "poly_", NULL, 0x4, "Lorg.geogebra.common.kernel.geos.GeoPolygon;", NULL, NULL,  },
    { "cs2D_", NULL, 0x4, "Lorg.geogebra.common.kernel.Matrix.CoordSys;", NULL, NULL,  },
    { "polyhedron_", NULL, 0x4, "Lorg.geogebra.common.kernel.geos.GeoElement;", NULL, NULL,  },
    { "direction_", NULL, 0x4, "Lorg.geogebra.common.kernel.kernelND.GeoDirectionND;", NULL, NULL,  },
    { "sb_", NULL, 0x4, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "tmp3_", NULL, 0x2, "[D", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelAlgosAlgoPolygon = { 2, "AlgoPolygon", "org.geogebra.common.kernel.algos", NULL, 0x1, 30, methods, 8, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelAlgosAlgoPolygon;
}

@end

void OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, OrgGeogebraCommonKernelGeosGeoList *geoList) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, nil, geoList);
}

OrgGeogebraCommonKernelAlgosAlgoPolygon *new_OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, OrgGeogebraCommonKernelGeosGeoList *geoList) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon *self = [OrgGeogebraCommonKernelAlgosAlgoPolygon alloc];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, geoList);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, points, nil);
}

OrgGeogebraCommonKernelAlgosAlgoPolygon *new_OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon *self = [OrgGeogebraCommonKernelAlgosAlgoPolygon alloc];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(self, cons, labels, points);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, geoList, nil, YES, nil, nil);
}

OrgGeogebraCommonKernelAlgosAlgoPolygon *new_OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon *self = [OrgGeogebraCommonKernelAlgosAlgoPolygon alloc];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_(self, cons, labels, points, geoList);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelMatrixCoordSys *cs2D, jboolean createSegments, OrgGeogebraCommonKernelGeosGeoElement *polyhedron, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonKernelAlgosAlgoElement_initWithOrgGeogebraCommonKernelConstruction_(self, cons);
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_points_(self, points);
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_geoList_(self, geoList);
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_cs2D_(self, cs2D);
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_polyhedron_(self, polyhedron);
  OrgGeogebraCommonKernelAlgosAlgoPolygon_set_direction_(self, direction);
  if (polyhedron != nil) {
    [self setUpdateAfterAlgoWithOrgGeogebraCommonKernelAlgosAlgoElement:[polyhedron getParentAlgorithm]];
  }
  [self createPolygonWithBoolean:createSegments];
  [self compute];
  [self setInputOutput];
}

OrgGeogebraCommonKernelAlgosAlgoPolygon *new_OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelMatrixCoordSys *cs2D, jboolean createSegments, OrgGeogebraCommonKernelGeosGeoElement *polyhedron, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon *self = [OrgGeogebraCommonKernelAlgosAlgoPolygon alloc];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, points, geoList, cs2D, createSegments, polyhedron, direction);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelMatrixCoordSys *cs2D, jboolean createSegments, OrgGeogebraCommonKernelGeosGeoElement *polyhedron, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, points, geoList, cs2D, createSegments, polyhedron, direction);
  if (geoList == nil) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(self->poly_)) initLabelsWithNSStringArray:labels];
  }
  else {
    if (labels != nil) [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(self->poly_)) setLabelWithNSString:IOSObjectArray_Get(labels, 0)];
  }
}

OrgGeogebraCommonKernelAlgosAlgoPolygon *new_OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(OrgGeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, IOSObjectArray *points, OrgGeogebraCommonKernelGeosGeoList *geoList, OrgGeogebraCommonKernelMatrixCoordSys *cs2D, jboolean createSegments, OrgGeogebraCommonKernelGeosGeoElement *polyhedron, id<OrgGeogebraCommonKernelKernelNDGeoDirectionND> direction) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon *self = [OrgGeogebraCommonKernelAlgosAlgoPolygon alloc];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initWithOrgGeogebraCommonKernelConstruction_withNSStringArray_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonKernelMatrixCoordSys_withBoolean_withOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelKernelNDGeoDirectionND_(self, cons, labels, points, geoList, cs2D, createSegments, polyhedron, direction);
  return self;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_updatePointArrayWithOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelAlgosAlgoPolygon *self, OrgGeogebraCommonKernelGeosGeoList *pointList) {
  if (![((OrgGeogebraCommonPluginGeoClassEnum *) nil_chk([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(pointList)) getElementType])) isEqual:OrgGeogebraCommonPluginGeoClassEnum_get_POINT()]) {
    [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(self->poly_)) setUndefined];
    return;
  }
  jint oldPointsLength = self->points_ == nil ? 0 : self->points_->size_;
  jint size = [pointList size];
  OrgGeogebraCommonKernelAlgosAlgoPolygon_setAndConsume_points_(self, [IOSObjectArray newArrayWithLength:size type:OrgGeogebraCommonKernelGeosGeoPoint_class_()]);
  for (jint i = 0; i < size; i++) {
    IOSObjectArray_Set(self->points_, i, (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([pointList getWithInt:i], [OrgGeogebraCommonKernelGeosGeoPoint class]));
  }
  [((OrgGeogebraCommonKernelGeosGeoPolygon *) nil_chk(self->poly_)) setPointsAndSegmentsWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray:self->points_];
  if (oldPointsLength != self->points_->size_) [self setOutput];
}

jdouble OrgGeogebraCommonKernelAlgosAlgoPolygon_calcAreaWithSignWithOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(IOSObjectArray *points2) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initialize();
  if (points2 == nil || points2->size_ < 2) return JavaLangDouble_NaN;
  jint i = 0;
  for (; i < ((IOSObjectArray *) nil_chk(points2))->size_; i++) {
    if ([((id<OrgGeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(points2, i))) isInfinite]) {
      return JavaLangDouble_NaN;
    }
  }
  jint last = points2->size_ - 1;
  jdouble sum = 0;
  for (i = 0; i < last; i++) {
    sum += OrgGeogebraCommonKernelGeosGeoPoint_detWithOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, i), [OrgGeogebraCommonKernelGeosGeoPoint class]), (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, i + 1), [OrgGeogebraCommonKernelGeosGeoPoint class]));
  }
  sum += OrgGeogebraCommonKernelGeosGeoPoint_detWithOrgGeogebraCommonKernelGeosGeoPoint_withOrgGeogebraCommonKernelGeosGeoPoint_((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, last), [OrgGeogebraCommonKernelGeosGeoPoint class]), (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, 0), [OrgGeogebraCommonKernelGeosGeoPoint class]));
  return sum / 2.0;
}

void OrgGeogebraCommonKernelAlgosAlgoPolygon_calcCentroidWithDoubleArray_withDouble_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(IOSDoubleArray *centroid, jdouble signedArea, IOSObjectArray *points2) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initialize();
  if (JavaLangDouble_isNaNWithDouble_(signedArea) || JavaLangDouble_isInfiniteWithDouble_(signedArea)) {
    *IOSDoubleArray_GetRef(nil_chk(centroid), 0) = JavaLangDouble_NaN;
    return;
  }
  jdouble xsum = 0;
  jdouble ysum = 0;
  jdouble factor = 0;
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(points2))->size_; i++) {
    factor = OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2) * OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i + 1, points2) - OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i + 1, points2) * OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2);
    xsum += (OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2) + OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i + 1, points2)) * factor;
    ysum += (OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i, points2) + OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(i + 1, points2)) * factor;
  }
  *IOSDoubleArray_GetRef(nil_chk(centroid), 0) = xsum;
  *IOSDoubleArray_GetRef(centroid, 1) = ysum;
  *IOSDoubleArray_GetRef(centroid, 2) = 6.0 * signedArea;
}

jdouble OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedXWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(jint i, IOSObjectArray *points2) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initialize();
  if (i == ((IOSObjectArray *) nil_chk(points2))->size_) {
    return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, 0), [OrgGeogebraCommonKernelGeosGeoPoint class]))))->inhomX_;
  }
  return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, i), [OrgGeogebraCommonKernelGeosGeoPoint class]))))->inhomX_;
}

jdouble OrgGeogebraCommonKernelAlgosAlgoPolygon_pointsClosedYWithInt_withOrgGeogebraCommonKernelKernelNDGeoPointNDArray_(jint i, IOSObjectArray *points2) {
  OrgGeogebraCommonKernelAlgosAlgoPolygon_initialize();
  if (i == ((IOSObjectArray *) nil_chk(points2))->size_) {
    return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, 0), [OrgGeogebraCommonKernelGeosGeoPoint class]))))->inhomY_;
  }
  return ((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(((OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast(IOSObjectArray_Get(points2, i), [OrgGeogebraCommonKernelGeosGeoPoint class]))))->inhomY_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelAlgosAlgoPolygon)

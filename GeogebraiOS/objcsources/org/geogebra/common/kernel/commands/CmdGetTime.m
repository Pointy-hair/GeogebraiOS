//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/geogebra/common/kernel/commands/CmdGetTime.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/StringBuilder.h"
#include "java/util/Date.h"
#include "org/geogebra/common/kernel/Construction.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/arithmetic/Command.h"
#include "org/geogebra/common/kernel/arithmetic/ExpressionNode.h"
#include "org/geogebra/common/kernel/commands/CmdGetTime.h"
#include "org/geogebra/common/kernel/commands/CommandProcessor.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"
#include "org/geogebra/common/kernel/geos/GeoText.h"
#include "org/geogebra/common/main/App.h"
#include "org/geogebra/common/main/Localization.h"
#include "org/geogebra/common/main/MyError.h"

@interface OrgGeogebraCommonKernelCommandsCmdGetTime ()

+ (void)decodeWithJavaUtilDate:(JavaUtilDate *)cal
                      withChar:(jchar)c
     withJavaLangStringBuilder:(JavaLangStringBuilder *)sb
withOrgGeogebraCommonMainLocalization:(OrgGeogebraCommonMainLocalization *)loc;

@end

static IOSIntArray *OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_;
J2OBJC_STATIC_FIELD_GETTER(OrgGeogebraCommonKernelCommandsCmdGetTime, month_days_, IOSIntArray *)

__attribute__((unused)) static void OrgGeogebraCommonKernelCommandsCmdGetTime_decodeWithJavaUtilDate_withChar_withJavaLangStringBuilder_withOrgGeogebraCommonMainLocalization_(JavaUtilDate *cal, jchar c, JavaLangStringBuilder *sb, OrgGeogebraCommonMainLocalization *loc);

J2OBJC_INITIALIZED_DEFN(OrgGeogebraCommonKernelCommandsCmdGetTime)

@implementation OrgGeogebraCommonKernelCommandsCmdGetTime

- (instancetype)initWithOrgGeogebraCommonKernelKernel:(OrgGeogebraCommonKernelKernel *)kernel {
  OrgGeogebraCommonKernelCommandsCmdGetTime_initWithOrgGeogebraCommonKernelKernel_(self, kernel);
  return self;
}

- (IOSObjectArray *)processWithOrgGeogebraCommonKernelArithmeticCommand:(OrgGeogebraCommonKernelArithmeticCommand *)c {
  jint n = [((OrgGeogebraCommonKernelArithmeticCommand *) nil_chk(c)) getArgumentNumber];
  {
    OrgGeogebraCommonKernelGeosGeoText *monthStr1;
    OrgGeogebraCommonKernelGeosGeoText *dayStr1;
    JavaUtilDate *cal;
    OrgGeogebraCommonKernelGeosGeoNumeric *mins1;
    jint d;
    OrgGeogebraCommonKernelGeosGeoNumeric *day;
    jint m;
    OrgGeogebraCommonKernelGeosGeoNumeric *month1;
    OrgGeogebraCommonKernelGeosGeoNumeric *year1;
    OrgGeogebraCommonKernelGeosGeoNumeric *secs1;
    OrgGeogebraCommonKernelGeosGeoNumeric *hours1;
    OrgGeogebraCommonKernelGeosGeoNumeric *date1;
    OrgGeogebraCommonKernelGeosGeoNumeric *ms1;
    OrgGeogebraCommonKernelGeosGeoList *list;
    IOSObjectArray *ret;
    NSString *date;
    OrgGeogebraCommonKernelGeosGeoText *rettext;
    IOSObjectArray *ret1;
    switch (n) {
      case 0:
      monthStr1 = new_OrgGeogebraCommonKernelGeosGeoText_initWithOrgGeogebraCommonKernelConstruction_(cons_);
      dayStr1 = new_OrgGeogebraCommonKernelGeosGeoText_initWithOrgGeogebraCommonKernelConstruction_(cons_);
      cal = new_JavaUtilDate_init();
      mins1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getMinutes]);
      d = [cal getDay] + 1;
      day = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, d);
      m = [cal getMonth] + 1;
      month1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, m);
      year1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getYear] + 1900);
      secs1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getSeconds]);
      hours1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getHours]);
      date1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getDate]);
      ms1 = new_OrgGeogebraCommonKernelGeosGeoNumeric_initWithOrgGeogebraCommonKernelConstruction_withDouble_(cons_, [cal getTime] % 1000);
      [monthStr1 setTextStringWithNSString:[((OrgGeogebraCommonMainApp *) nil_chk(app_)) getPlainWithNSString:JreStrcat("$I", @"Month.", m)]];
      [dayStr1 setTextStringWithNSString:[app_ getPlainWithNSString:JreStrcat("$I", @"Day.", d)]];
      list = new_OrgGeogebraCommonKernelGeosGeoList_initWithOrgGeogebraCommonKernelConstruction_(cons_);
      [list setLabelWithNSString:[c getLabel]];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:ms1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:secs1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:mins1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:hours1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:date1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:month1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:year1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:monthStr1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:dayStr1];
      [list addWithOrgGeogebraCommonKernelGeosGeoElement:day];
      [list update];
      ret = [IOSObjectArray newArrayWithObjects:(id[]){ list } count:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
      return ret;
      case 1:
      date = OrgGeogebraCommonKernelCommandsCmdGetTime_buildLocalizedDateWithNSString_withJavaUtilDate_withOrgGeogebraCommonMainLocalization_([((OrgGeogebraCommonKernelArithmeticExpressionNode *) nil_chk([c getArgumentWithInt:0])) toValueStringWithOrgGeogebraCommonKernelStringTemplate:OrgGeogebraCommonKernelStringTemplate_get_defaultTemplate_()], new_JavaUtilDate_init(), loc_);
      rettext = new_OrgGeogebraCommonKernelGeosGeoText_initWithOrgGeogebraCommonKernelConstruction_withNSString_withNSString_(cons_, [c getLabel], date);
      ret1 = [IOSObjectArray newArrayWithObjects:(id[]){ rettext } count:1 type:OrgGeogebraCommonKernelGeosGeoElement_class_()];
      return ret1;
      default:
      @throw [self argNumErrWithOrgGeogebraCommonMainApp:app_ withNSString:[c getName] withInt:n];
    }
  }
}

+ (NSString *)buildLocalizedDateWithNSString:(NSString *)format
                            withJavaUtilDate:(JavaUtilDate *)cal
       withOrgGeogebraCommonMainLocalization:(OrgGeogebraCommonMainLocalization *)loc {
  return OrgGeogebraCommonKernelCommandsCmdGetTime_buildLocalizedDateWithNSString_withJavaUtilDate_withOrgGeogebraCommonMainLocalization_(format, cal, loc);
}

+ (void)decodeWithJavaUtilDate:(JavaUtilDate *)cal
                      withChar:(jchar)c
     withJavaLangStringBuilder:(JavaLangStringBuilder *)sb
withOrgGeogebraCommonMainLocalization:(OrgGeogebraCommonMainLocalization *)loc {
  OrgGeogebraCommonKernelCommandsCmdGetTime_decodeWithJavaUtilDate_withChar_withJavaLangStringBuilder_withOrgGeogebraCommonMainLocalization_(cal, c, sb, loc);
}

+ (void)initialize {
  if (self == [OrgGeogebraCommonKernelCommandsCmdGetTime class]) {
    OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_ = [IOSIntArray newArrayWithInts:(jint[]){ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 } count:12];
    J2OBJC_SET_INITIALIZED(OrgGeogebraCommonKernelCommandsCmdGetTime)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelKernel:", "CmdGetTime", NULL, 0x1, NULL, NULL },
    { "processWithOrgGeogebraCommonKernelArithmeticCommand:", "process", "[Lorg.geogebra.common.kernel.geos.GeoElement;", 0x11, "Lorg.geogebra.common.main.MyError;", NULL },
    { "buildLocalizedDateWithNSString:withJavaUtilDate:withOrgGeogebraCommonMainLocalization:", "buildLocalizedDate", "Ljava.lang.String;", 0x9, NULL, NULL },
    { "decodeWithJavaUtilDate:withChar:withJavaLangStringBuilder:withOrgGeogebraCommonMainLocalization:", "decode", "V", 0xa, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "month_days_", NULL, 0x1a, "[I", &OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelCommandsCmdGetTime = { 2, "CmdGetTime", "org.geogebra.common.kernel.commands", NULL, 0x1, 4, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelCommandsCmdGetTime;
}

@end

void OrgGeogebraCommonKernelCommandsCmdGetTime_initWithOrgGeogebraCommonKernelKernel_(OrgGeogebraCommonKernelCommandsCmdGetTime *self, OrgGeogebraCommonKernelKernel *kernel) {
  (void) OrgGeogebraCommonKernelCommandsCommandProcessor_initWithOrgGeogebraCommonKernelKernel_(self, kernel);
}

OrgGeogebraCommonKernelCommandsCmdGetTime *new_OrgGeogebraCommonKernelCommandsCmdGetTime_initWithOrgGeogebraCommonKernelKernel_(OrgGeogebraCommonKernelKernel *kernel) {
  OrgGeogebraCommonKernelCommandsCmdGetTime *self = [OrgGeogebraCommonKernelCommandsCmdGetTime alloc];
  OrgGeogebraCommonKernelCommandsCmdGetTime_initWithOrgGeogebraCommonKernelKernel_(self, kernel);
  return self;
}

NSString *OrgGeogebraCommonKernelCommandsCmdGetTime_buildLocalizedDateWithNSString_withJavaUtilDate_withOrgGeogebraCommonMainLocalization_(NSString *format, JavaUtilDate *cal, OrgGeogebraCommonMainLocalization *loc) {
  OrgGeogebraCommonKernelCommandsCmdGetTime_initialize();
  JavaLangStringBuilder *sb = new_JavaLangStringBuilder_initWithInt_(20);
  IOSCharArray *cArray = [((NSString *) nil_chk(format)) toCharArray];
  for (jint i = 0; i < ((IOSCharArray *) nil_chk(cArray))->size_; i++) {
    if (IOSCharArray_Get(cArray, i) == '\\' && i < cArray->size_ - 1) {
      OrgGeogebraCommonKernelCommandsCmdGetTime_decodeWithJavaUtilDate_withChar_withJavaLangStringBuilder_withOrgGeogebraCommonMainLocalization_(cal, IOSCharArray_Get(cArray, i + 1), sb, loc);
      i++;
    }
    else {
      (void) [sb appendWithChar:IOSCharArray_Get(cArray, i)];
    }
  }
  return [sb description];
}

void OrgGeogebraCommonKernelCommandsCmdGetTime_decodeWithJavaUtilDate_withChar_withJavaLangStringBuilder_withOrgGeogebraCommonMainLocalization_(JavaUtilDate *cal, jchar c, JavaLangStringBuilder *sb, OrgGeogebraCommonMainLocalization *loc) {
  OrgGeogebraCommonKernelCommandsCmdGetTime_initialize();
  jint d = [((JavaUtilDate *) nil_chk(cal)) getDay] + 1;
  jint m = [cal getMonth] + 1;
  jint date = [cal getDate];
  jint month = [cal getMonth];
  jint year = [cal getYear] + 1900;
  jint hours = [cal getHours];
  jint mins = [cal getMinutes];
  jint secs = [cal getSeconds];
  jint yearday = 0;
  NSString *dayStr = [((OrgGeogebraCommonMainLocalization *) nil_chk(loc)) getPlainWithNSString:JreStrcat("$I", @"Day.", d)];
  NSString *monthStr = [loc getPlainWithNSString:JreStrcat("$I", @"Month.", m)];
  {
    NSString *ordinal;
    JavaUtilDate *temp;
    jint d1;
    switch (c) {
      case 'd':
      if (date < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:date];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:date];
      }
      break;
      case 'D':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:[((NSString *) nil_chk(dayStr)) substring:0 endIndex:3]];
      break;
      case 'j':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:date];
      break;
      case 'l':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:dayStr];
      break;
      case 'N':
      if (d == 1) {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:7];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:d - 1];
      }
      break;
      case 'S':
      ordinal = [NSString stringWithString:[loc getOrdinalNumberWithInt:date]];
      ordinal = [ordinal replaceFirst:NSString_valueOfInt_(date) withReplacement:@""];
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:ordinal];
      break;
      case 'w':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:d - 1];
      break;
      case 'z':
      yearday = 0;
      if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) *IOSIntArray_GetRef(nil_chk(OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_), 1) = 29;
      for (jint j = 0; j < month; j++) {
        yearday += IOSIntArray_Get(nil_chk(OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_), j);
      }
      yearday += (date - 1);
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:yearday];
      break;
      case 'W':
      yearday = 0;
      if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) *IOSIntArray_GetRef(nil_chk(OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_), 1) = 29;
      for (jint j = 0; j < month; j++) {
        yearday += IOSIntArray_Get(nil_chk(OrgGeogebraCommonKernelCommandsCmdGetTime_month_days_), j);
      }
      yearday += (date - 1);
      temp = new_JavaUtilDate_initWithInt_withInt_withInt_([cal getYear], 0, 1);
      d1 = [temp getDay] + 1;
      yearday -= ((9 - d1) % 7);
      if (yearday < 0) yearday = -7;
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:(yearday / 7) + 1];
      break;
      case 'F':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:monthStr];
      break;
      case 'm':
      if (m < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:m];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:m];
      }
      break;
      case 'M':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:[((NSString *) nil_chk(monthStr)) substring:0 endIndex:3]];
      break;
      case 'n':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:m];
      break;
      case 't':
      switch (m) {
        case 1:
        case 3:
        case 5:
        case 7:
        case 8:
        case 10:
        case 12:
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:31];
        break;
        case 2:
        if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) {
          (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:29];
        }
        else {
          (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:28];
        }
        break;
        default:
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:30];
        break;
      }
      break;
      case 'L':
      if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0) {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:1];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0];
      }
      break;
      case 'Y':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:year];
      break;
      case 'y':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:year % 100];
      break;
      case 'a':
      if (hours >= 12) {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"pm"];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"am"];
      }
      break;
      case 'A':
      if (hours >= 12) {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"PM"];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"AM"];
      }
      break;
      case 'g':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:(hours % 12) + 1];
      break;
      case 'G':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:hours];
      break;
      case 'h':
      if (((hours % 12) + 1) < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:(hours % 12) + 1];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:(hours % 12) + 1];
      }
      break;
      case 'H':
      if (hours < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:hours];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:hours];
      }
      break;
      case 'i':
      if (mins < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:mins];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:mins];
      }
      break;
      case 's':
      if (secs < 10) {
        (void) [((JavaLangStringBuilder *) nil_chk([((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:0])) appendWithInt:secs];
      }
      else {
        (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithInt:secs];
      }
      break;
      case 'U':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithLong:[cal getTime] / 1000];
      break;
      case '\\':
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithChar:'\\'];
      break;
      default:
      (void) [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"?"];
      break;
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelCommandsCmdGetTime)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/geogebra/common/kernel/ConstructionElementCycle.java
//


#include "J2ObjC_source.h"
#include "java/lang/Long.h"
#include "java/lang/StringBuffer.h"
#include "java/util/ArrayList.h"
#include "org/geogebra/common/kernel/ConstructionElementCycle.h"
#include "org/geogebra/common/kernel/algos/ConstructionElement.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"

#define OrgGeogebraCommonKernelConstructionElementCycle_serialVersionUID -880160148856127100LL

@interface OrgGeogebraCommonKernelConstructionElementCycle () {
 @public
  jlong minID_;
  jint minIndex_;
  jint direction_;
  jint cycleIndex_;
}

- (void)setCycleFirst;

- (OrgGeogebraCommonKernelAlgosConstructionElement *)getCycleNext;

@end

J2OBJC_STATIC_FIELD_GETTER(OrgGeogebraCommonKernelConstructionElementCycle, serialVersionUID, jlong)

__attribute__((unused)) static void OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(OrgGeogebraCommonKernelConstructionElementCycle *self);

__attribute__((unused)) static OrgGeogebraCommonKernelAlgosConstructionElement *OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(OrgGeogebraCommonKernelConstructionElementCycle *self);

@implementation OrgGeogebraCommonKernelConstructionElementCycle

+ (OrgGeogebraCommonKernelConstructionElementCycle *)SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)P1
                                                                       withOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)P2 {
  return OrgGeogebraCommonKernelConstructionElementCycle_SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelGeosGeoElement_(P1, P2);
}

- (jboolean)addWithId:(OrgGeogebraCommonKernelAlgosConstructionElement *)ce {
  if (minID_ > [((OrgGeogebraCommonKernelAlgosConstructionElement *) nil_chk(ce)) getID]) {
    minID_ = [ce getID];
    minIndex_ = [self size];
  }
  return [super addWithId:ce];
}

- (void)setDirection {
  if ([self size] < 3) direction_ = 1;
  else {
    jint before = minIndex_ - 1;
    if (before == -1) before = [self size] - 1;
    jint after = minIndex_ + 1;
    if (after == [self size]) after = 0;
    if ([((OrgGeogebraCommonKernelAlgosConstructionElement *) nil_chk([self getWithInt:before])) getID] < [((OrgGeogebraCommonKernelAlgosConstructionElement *) nil_chk([self getWithInt:after])) getID]) direction_ = -1;
    else direction_ = 1;
  }
}

- (jint)compareToWithId:(OrgGeogebraCommonKernelConstructionElementCycle *)cycle {
  (void) check_class_cast(cycle, [OrgGeogebraCommonKernelConstructionElementCycle class]);
  if (self == cycle) return 0;
  if ([self size] < [((OrgGeogebraCommonKernelConstructionElementCycle *) nil_chk(cycle)) size]) return -1;
  if ([self size] > [cycle size]) return 1;
  OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(self);
  OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(cycle);
  jint diff = 0;
  for (jint i = 0; diff == 0 && i < [self size]; i++) diff = [((OrgGeogebraCommonKernelAlgosConstructionElement *) nil_chk(OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(self))) compareToWithId:OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(cycle)];
  return diff;
}

- (jboolean)isEqual:(id)obj {
  if (!([obj isKindOfClass:[OrgGeogebraCommonKernelConstructionElementCycle class]])) return NO;
  return [self compareToWithId:(OrgGeogebraCommonKernelConstructionElementCycle *) check_class_cast(obj, [OrgGeogebraCommonKernelConstructionElementCycle class])] == 0;
}

- (void)setCycleFirst {
  OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(self);
}

- (OrgGeogebraCommonKernelAlgosConstructionElement *)getCycleNext {
  return OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(self);
}

- (NSString *)description {
  JavaLangStringBuffer *sb = new_JavaLangStringBuffer_init();
  OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(self);
  for (jint i = 0; i < [self size]; i++) {
    (void) [sb appendWithNSString:[((OrgGeogebraCommonKernelAlgosConstructionElement *) nil_chk(OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(self))) description]];
    (void) [sb appendWithNSString:@" - "];
  }
  return [sb description];
}

- (instancetype)init {
  OrgGeogebraCommonKernelConstructionElementCycle_init(self);
  return self;
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement:withOrgGeogebraCommonKernelGeosGeoElement:", "SegmentDescription", "Lorg.geogebra.common.kernel.ConstructionElementCycle;", 0x19, NULL, NULL },
    { "addWithId:", "add", "Z", 0x1, NULL, NULL },
    { "setDirection", NULL, "V", 0x1, NULL, NULL },
    { "compareToWithId:", "compareTo", "I", 0x1, NULL, NULL },
    { "isEqual:", "equals", "Z", 0x1, NULL, NULL },
    { "setCycleFirst", NULL, "V", 0x2, NULL, NULL },
    { "getCycleNext", NULL, "Lorg.geogebra.common.kernel.algos.ConstructionElement;", 0x2, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = OrgGeogebraCommonKernelConstructionElementCycle_serialVersionUID },
    { "minID_", NULL, 0x2, "J", NULL, NULL,  },
    { "minIndex_", NULL, 0x2, "I", NULL, NULL,  },
    { "direction_", NULL, 0x2, "I", NULL, NULL,  },
    { "cycleIndex_", NULL, 0x2, "I", NULL, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lorg.geogebra.common.kernel.algos.ConstructionElement;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelConstructionElementCycle = { 2, "ConstructionElementCycle", "org.geogebra.common.kernel", NULL, 0x1, 9, methods, 5, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/util/ArrayList<Lorg/geogebra/common/kernel/algos/ConstructionElement;>;Ljava/lang/Comparable<Lorg/geogebra/common/kernel/ConstructionElementCycle;>;" };
  return &_OrgGeogebraCommonKernelConstructionElementCycle;
}

@end

OrgGeogebraCommonKernelConstructionElementCycle *OrgGeogebraCommonKernelConstructionElementCycle_SegmentDescriptionWithOrgGeogebraCommonKernelGeosGeoElement_withOrgGeogebraCommonKernelGeosGeoElement_(OrgGeogebraCommonKernelGeosGeoElement *P1, OrgGeogebraCommonKernelGeosGeoElement *P2) {
  OrgGeogebraCommonKernelConstructionElementCycle_initialize();
  OrgGeogebraCommonKernelConstructionElementCycle *cycle = new_OrgGeogebraCommonKernelConstructionElementCycle_init();
  [cycle addWithId:P1];
  [cycle addWithId:P2];
  return cycle;
}

void OrgGeogebraCommonKernelConstructionElementCycle_setCycleFirst(OrgGeogebraCommonKernelConstructionElementCycle *self) {
  self->cycleIndex_ = self->minIndex_;
}

OrgGeogebraCommonKernelAlgosConstructionElement *OrgGeogebraCommonKernelConstructionElementCycle_getCycleNext(OrgGeogebraCommonKernelConstructionElementCycle *self) {
  OrgGeogebraCommonKernelAlgosConstructionElement *ret = [self getWithInt:self->cycleIndex_];
  self->cycleIndex_ += self->direction_;
  if (self->cycleIndex_ == -1) self->cycleIndex_ = [self size] - 1;
  else if (self->cycleIndex_ == [self size]) self->cycleIndex_ = 0;
  return ret;
}

void OrgGeogebraCommonKernelConstructionElementCycle_init(OrgGeogebraCommonKernelConstructionElementCycle *self) {
  (void) JavaUtilArrayList_init(self);
  self->minID_ = JavaLangLong_MAX_VALUE;
  self->minIndex_ = 0;
  self->direction_ = 1;
}

OrgGeogebraCommonKernelConstructionElementCycle *new_OrgGeogebraCommonKernelConstructionElementCycle_init() {
  OrgGeogebraCommonKernelConstructionElementCycle *self = [OrgGeogebraCommonKernelConstructionElementCycle alloc];
  OrgGeogebraCommonKernelConstructionElementCycle_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelConstructionElementCycle)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/kernel/discrete/alds/al/graphs/PrimMinimumSpanningTree.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Integer.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "org/geogebra/common/kernel/discrete/alds/SortableObject.h"
#include "org/geogebra/common/kernel/discrete/alds/al/graphs/PrimMinimumSpanningTree.h"
#include "org/geogebra/common/kernel/discrete/alds/ds/graphs/Vertex.h"
#include "org/geogebra/common/kernel/discrete/alds/ds/graphs/WeightedGraph.h"
#include "org/geogebra/common/kernel/discrete/alds/ds/heaps/Heap.h"
#include "org/geogebra/common/kernel/discrete/alds/ds/heaps/HeapFactory.h"

@interface OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree () {
 @public
  id<JavaUtilMap> keyMap_;
  id<JavaUtilMap> predecessorMap_;
  OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph_;
  OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *root_;
}

- (id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap>)createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)graph
                                                                                                                         withJavaUtilSet:(id<JavaUtilSet>)removed;

- (void)initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)graph
                           withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *)root OBJC_METHOD_FAMILY_NONE;

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree, keyMap_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree, predecessorMap_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree, graph_, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree, root_, OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *)

__attribute__((unused)) static id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap> OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withJavaUtilSet_(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, id<JavaUtilSet> removed);

__attribute__((unused)) static void OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *root);

@implementation OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree

- (instancetype)initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)graph
                           withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *)root {
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(self, graph, root);
  return self;
}

- (OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *)compute {
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(self, graph_, root_);
  id<JavaUtilSet> removed = [new_JavaUtilHashSet_init() autorelease];
  id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap> queue = OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withJavaUtilSet_(self, graph_, removed);
  while ([((id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap>) nil_chk(queue)) size] > 0) {
    OrgGeogebraCommonKernelDiscreteAldsSortableObject *sortableObject = [queue extract];
    OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *u = [((OrgGeogebraCommonKernelDiscreteAldsSortableObject *) nil_chk(sortableObject)) getObject];
    [removed addWithId:u];
    {
      IOSObjectArray *a__ = [((OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *) nil_chk(graph_)) getAllAdjacentVerticesWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:u];
      OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex * const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
      OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex * const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *v = *b__++;
        if (![removed containsWithId:v] && [graph_ getEdgeWeightWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:u withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:v] < [((JavaLangInteger *) nil_chk([((id<JavaUtilMap>) nil_chk(keyMap_)) getWithId:v])) intValue]) {
          [((id<JavaUtilMap>) nil_chk(predecessorMap_)) putWithId:v withId:u];
          [keyMap_ putWithId:v withId:JavaLangInteger_valueOfWithInt_([graph_ getEdgeWeightWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:u withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:v])];
        }
      }
    }
    queue = OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withJavaUtilSet_(self, graph_, removed);
  }
  return self;
}

- (id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap>)createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)graph
                                                                                                                         withJavaUtilSet:(id<JavaUtilSet>)removed {
  return OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withJavaUtilSet_(self, graph, removed);
}

- (void)initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *)graph
                           withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:(OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *)root {
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(self, graph, root);
}

- (id<JavaUtilMap>)getKeyMap {
  return keyMap_;
}

- (id<JavaUtilMap>)getPredecessorMap {
  return predecessorMap_;
}

- (void)dealloc {
  RELEASE_(keyMap_);
  RELEASE_(predecessorMap_);
  RELEASE_(graph_);
  RELEASE_(root_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:", "PrimMinimumSpanningTree", NULL, 0x1, NULL, NULL },
    { "compute", NULL, "Lorg.geogebra.common.kernel.discrete.alds.al.graphs.PrimMinimumSpanningTree;", 0x1, NULL, NULL },
    { "createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:withJavaUtilSet:", "createMinPriorityQueue", "Lorg.geogebra.common.kernel.discrete.alds.ds.heaps.Heap;", 0x2, NULL, NULL },
    { "initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph:withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex:", "initialize", "V", 0x2, NULL, NULL },
    { "getKeyMap", NULL, "Ljava.util.Map;", 0x1, NULL, NULL },
    { "getPredecessorMap", NULL, "Ljava.util.Map;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "keyMap_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Lorg/geogebra/common/kernel/discrete/alds/ds/graphs/Vertex;Ljava/lang/Integer;>;",  },
    { "predecessorMap_", NULL, 0x12, "Ljava.util.Map;", NULL, "Ljava/util/Map<Lorg/geogebra/common/kernel/discrete/alds/ds/graphs/Vertex;Lorg/geogebra/common/kernel/discrete/alds/ds/graphs/Vertex;>;",  },
    { "graph_", NULL, 0x12, "Lorg.geogebra.common.kernel.discrete.alds.ds.graphs.WeightedGraph;", NULL, NULL,  },
    { "root_", NULL, 0x12, "Lorg.geogebra.common.kernel.discrete.alds.ds.graphs.Vertex;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree = { 2, "PrimMinimumSpanningTree", "org.geogebra.common.kernel.discrete.alds.al.graphs", NULL, 0x11, 6, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree;
}

@end

void OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *root) {
  NSObject_init(self);
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_set_graph_(self, graph);
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_set_root_(self, root);
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_setAndConsume_keyMap_(self, new_JavaUtilHashMap_initWithInt_([((OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *) nil_chk(graph)) numberOfVertices]));
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_setAndConsume_predecessorMap_(self, new_JavaUtilHashMap_initWithInt_([graph numberOfVertices]));
}

OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *new_OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *root) {
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self = [OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree alloc];
  OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(self, graph, root);
  return self;
}

id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap> OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_createMinPriorityQueueWithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withJavaUtilSet_(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, id<JavaUtilSet> removed) {
  id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap> heap = OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeapFactory_minHeap();
  for (OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex * __strong vertex in nil_chk([((OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *) nil_chk(graph)) getVertices])) {
    if (![((id<JavaUtilSet>) nil_chk(removed)) containsWithId:vertex]) {
      [((id<OrgGeogebraCommonKernelDiscreteAldsDsHeapsHeap>) nil_chk(heap)) insertWithOrgGeogebraCommonKernelDiscreteAldsSortableObject:[new_OrgGeogebraCommonKernelDiscreteAldsSortableObject_initWithId_withInt_(vertex, [((JavaLangInteger *) nil_chk([((id<JavaUtilMap>) nil_chk(self->keyMap_)) getWithId:vertex])) intValue]) autorelease]];
    }
  }
  return heap;
}

void OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree_initialize__WithOrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph_withOrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex_(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree *self, OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *graph, OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex *root) {
  for (OrgGeogebraCommonKernelDiscreteAldsDsGraphsVertex * __strong vertex in nil_chk([((OrgGeogebraCommonKernelDiscreteAldsDsGraphsWeightedGraph *) nil_chk(graph)) getVertices])) {
    [((id<JavaUtilMap>) nil_chk(self->keyMap_)) putWithId:vertex withId:JavaLangInteger_valueOfWithInt_(JavaLangInteger_MAX_VALUE)];
    [((id<JavaUtilMap>) nil_chk(self->predecessorMap_)) putWithId:vertex withId:nil];
  }
  [((id<JavaUtilMap>) nil_chk(self->keyMap_)) putWithId:root withId:JavaLangInteger_valueOfWithInt_(0)];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonKernelDiscreteAldsAlGraphsPrimMinimumSpanningTree)

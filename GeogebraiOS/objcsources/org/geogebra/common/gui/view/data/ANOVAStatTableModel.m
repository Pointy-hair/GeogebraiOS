//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/javasources/org/geogebra/common/gui/view/data/ANOVAStatTableModel.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/util/ArrayList.h"
#include "java/util/Collection.h"
#include "org/apache/commons/math/MathException.h"
#include "org/apache/commons/math/MathRuntimeException.h"
#include "org/apache/commons/math/distribution/FDistribution.h"
#include "org/apache/commons/math/distribution/FDistributionImpl.h"
#include "org/apache/commons/math/stat/descriptive/summary/Sum.h"
#include "org/apache/commons/math/stat/descriptive/summary/SumOfSquares.h"
#include "org/geogebra/common/gui/view/data/ANOVAStatTableModel.h"
#include "org/geogebra/common/gui/view/data/StatTableModel.h"
#include "org/geogebra/common/kernel/arithmetic/NumberValue.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/main/App.h"

@interface OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats () {
 @public
  jint dfbg_;
  jint dfwg_;
  jdouble F_;
  jdouble ssbg_, sswg_, sst_;
  jdouble msbg_, mswg_;
  jdouble P_;
}

@end

@implementation OrgGeogebraCommonGuiViewDataANOVAStatTableModel

+ (JavaUtilArrayList *)getCategoryDataWithOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)geoList {
  return OrgGeogebraCommonGuiViewDataANOVAStatTableModel_getCategoryDataWithOrgGeogebraCommonKernelGeosGeoList_(geoList);
}

+ (OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *)anovaStatsWithJavaUtilCollection:(id<JavaUtilCollection>)categoryData {
  return OrgGeogebraCommonGuiViewDataANOVAStatTableModel_anovaStatsWithJavaUtilCollection_(categoryData);
}

+ (OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *)getStatsWithOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)dataList {
  return OrgGeogebraCommonGuiViewDataANOVAStatTableModel_getStatsWithOrgGeogebraCommonKernelGeosGeoList_(dataList);
}

- (instancetype)initWithOrgGeogebraCommonMainApp:(OrgGeogebraCommonMainApp *)app
withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener:(id<OrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener>)listener {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initWithOrgGeogebraCommonMainApp_withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener_(self, app, listener);
  return self;
}

- (IOSObjectArray *)getRowNames {
  IOSObjectArray *names = [IOSObjectArray arrayWithObjects:(id[]){ [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"BetweenGroups"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"WithinGroups"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"Total"] } count:3 type:NSString_class_()];
  return names;
}

- (IOSObjectArray *)getColumnNames {
  IOSObjectArray *names = [IOSObjectArray arrayWithObjects:(id[]){ [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"DegreesOfFreedom.short"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"SumSquares.short"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"MeanSquare.short"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"FStatistic"], [((OrgGeogebraCommonMainApp *) nil_chk([self getApp])) getMenuWithNSString:@"PValue"] } count:5 type:NSString_class_()];
  return names;
}

- (jint)getRowCount {
  return ((IOSObjectArray *) nil_chk([self getRowNames]))->size_;
}

- (jint)getColumnCount {
  return ((IOSObjectArray *) nil_chk([self getColumnNames]))->size_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getCategoryDataWithOrgGeogebraCommonKernelGeosGeoList:", "getCategoryData", "Ljava.util.ArrayList;", 0x9, NULL, NULL },
    { "anovaStatsWithJavaUtilCollection:", "anovaStats", "Lorg.geogebra.common.gui.view.data.ANOVAStatTableModel$AnovaStats;", 0x9, "Ljava.lang.IllegalArgumentException;Lorg.apache.commons.math.MathException;", NULL },
    { "getStatsWithOrgGeogebraCommonKernelGeosGeoList:", "getStats", "Lorg.geogebra.common.gui.view.data.ANOVAStatTableModel$AnovaStats;", 0x9, "Ljava.lang.IllegalArgumentException;Lorg.apache.commons.math.MathException;", NULL },
    { "initWithOrgGeogebraCommonMainApp:withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener:", "ANOVAStatTableModel", NULL, 0x1, NULL, NULL },
    { "getRowNames", NULL, "[Ljava.lang.String;", 0x1, NULL, NULL },
    { "getColumnNames", NULL, "[Ljava.lang.String;", 0x1, NULL, NULL },
    { "getRowCount", NULL, "I", 0x1, NULL, NULL },
    { "getColumnCount", NULL, "I", 0x1, NULL, NULL },
  };
  static const char *inner_classes[] = {"Lorg.geogebra.common.gui.view.data.ANOVAStatTableModel$AnovaStats;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonGuiViewDataANOVAStatTableModel = { 2, "ANOVAStatTableModel", "org.geogebra.common.gui.view.data", NULL, 0x1, 8, methods, 0, NULL, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgGeogebraCommonGuiViewDataANOVAStatTableModel;
}

@end

JavaUtilArrayList *OrgGeogebraCommonGuiViewDataANOVAStatTableModel_getCategoryDataWithOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelGeosGeoList *geoList) {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initialize();
  JavaUtilArrayList *categoryData = [new_JavaUtilArrayList_init() autorelease];
  OrgGeogebraCommonKernelGeosGeoList *list;
  for (jint index = 0; index < [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(geoList)) size]; index++) {
    list = (OrgGeogebraCommonKernelGeosGeoList *) check_class_cast([geoList getWithInt:index], [OrgGeogebraCommonKernelGeosGeoList class]);
    IOSDoubleArray *valueArray = [IOSDoubleArray arrayWithLength:[((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(list)) size]];
    for (jint i = 0; i < [list size]; i++) {
      OrgGeogebraCommonKernelGeosGeoElement *geo = [list getWithInt:i];
      if ([OrgGeogebraCommonKernelArithmeticNumberValue_class_() isInstance:geo]) {
        id<OrgGeogebraCommonKernelArithmeticNumberValue> num = (id<OrgGeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo, @protocol(OrgGeogebraCommonKernelArithmeticNumberValue));
        *IOSDoubleArray_GetRef(valueArray, i) = [((id<OrgGeogebraCommonKernelArithmeticNumberValue>) nil_chk(num)) getDouble];
      }
    }
    [categoryData addWithId:valueArray];
  }
  return categoryData;
}

OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *OrgGeogebraCommonGuiViewDataANOVAStatTableModel_anovaStatsWithJavaUtilCollection_(id<JavaUtilCollection> categoryData) {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initialize();
  if ([((id<JavaUtilCollection>) nil_chk(categoryData)) size] < 2) {
    @throw OrgApacheCommonsMathMathRuntimeException_createIllegalArgumentExceptionWithNSString_withNSObjectArray_(@"two or more categories required, got {0}", [IOSObjectArray arrayWithObjects:(id[]){ JavaLangInteger_valueOfWithInt_([categoryData size]) } count:1 type:NSObject_class_()]);
  }
  for (IOSDoubleArray * __strong array in categoryData) {
    if (((IOSDoubleArray *) nil_chk(array))->size_ <= 1) {
      @throw OrgApacheCommonsMathMathRuntimeException_createIllegalArgumentExceptionWithNSString_withNSObjectArray_(@"two or more values required in each category, one has {0}", [IOSObjectArray arrayWithObjects:(id[]){ JavaLangInteger_valueOfWithInt_(array->size_) } count:1 type:NSObject_class_()]);
    }
  }
  jint dfwg = 0;
  jdouble sswg = 0;
  OrgApacheCommonsMathStatDescriptiveSummarySum *totsum = [new_OrgApacheCommonsMathStatDescriptiveSummarySum_init() autorelease];
  OrgApacheCommonsMathStatDescriptiveSummarySumOfSquares *totsumsq = [new_OrgApacheCommonsMathStatDescriptiveSummarySumOfSquares_init() autorelease];
  jint totnum = 0;
  for (IOSDoubleArray * __strong data in categoryData) {
    OrgApacheCommonsMathStatDescriptiveSummarySum *sum = [new_OrgApacheCommonsMathStatDescriptiveSummarySum_init() autorelease];
    OrgApacheCommonsMathStatDescriptiveSummarySumOfSquares *sumsq = [new_OrgApacheCommonsMathStatDescriptiveSummarySumOfSquares_init() autorelease];
    jint num = 0;
    for (jint i = 0; i < ((IOSDoubleArray *) nil_chk(data))->size_; i++) {
      jdouble val = IOSDoubleArray_Get(data, i);
      num++;
      [sum incrementWithDouble:val];
      [sumsq incrementWithDouble:val];
      totnum++;
      [totsum incrementWithDouble:val];
      [totsumsq incrementWithDouble:val];
    }
    dfwg += num - 1;
    jdouble ss = [sumsq getResult] - [sum getResult] * [sum getResult] / num;
    sswg += ss;
  }
  jdouble sst = [totsumsq getResult] - [totsum getResult] * [totsum getResult] / totnum;
  jdouble ssbg = sst - sswg;
  jint dfbg = [categoryData size] - 1;
  jdouble msbg = ssbg / dfbg;
  jdouble mswg = sswg / dfwg;
  jdouble F = msbg / mswg;
  id<OrgApacheCommonsMathDistributionFDistribution> fdist = [new_OrgApacheCommonsMathDistributionFDistributionImpl_initWithDouble_withDouble_(dfbg, dfwg) autorelease];
  jdouble P = 1.0 - [fdist cumulativeProbabilityWithDouble:F];
  return [new_OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats_initWithInt_withInt_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_(dfbg, dfwg, F, P, ssbg, sswg, sst, msbg, mswg) autorelease];
}

OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *OrgGeogebraCommonGuiViewDataANOVAStatTableModel_getStatsWithOrgGeogebraCommonKernelGeosGeoList_(OrgGeogebraCommonKernelGeosGeoList *dataList) {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initialize();
  return OrgGeogebraCommonGuiViewDataANOVAStatTableModel_anovaStatsWithJavaUtilCollection_(OrgGeogebraCommonGuiViewDataANOVAStatTableModel_getCategoryDataWithOrgGeogebraCommonKernelGeosGeoList_(dataList));
}

void OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initWithOrgGeogebraCommonMainApp_withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener_(OrgGeogebraCommonGuiViewDataANOVAStatTableModel *self, OrgGeogebraCommonMainApp *app, id<OrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener> listener) {
  OrgGeogebraCommonGuiViewDataStatTableModel_initWithOrgGeogebraCommonMainApp_withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener_(self, app, listener);
}

OrgGeogebraCommonGuiViewDataANOVAStatTableModel *new_OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initWithOrgGeogebraCommonMainApp_withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener_(OrgGeogebraCommonMainApp *app, id<OrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener> listener) {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel *self = [OrgGeogebraCommonGuiViewDataANOVAStatTableModel alloc];
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_initWithOrgGeogebraCommonMainApp_withOrgGeogebraCommonGuiViewDataStatTableModel_StatTableListener_(self, app, listener);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonGuiViewDataANOVAStatTableModel)

@implementation OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats

- (instancetype)initWithInt:(jint)dfbg
                    withInt:(jint)dfwg
                 withDouble:(jdouble)F
                 withDouble:(jdouble)P
                 withDouble:(jdouble)ssbg
                 withDouble:(jdouble)sswg
                 withDouble:(jdouble)sst
                 withDouble:(jdouble)msbg
                 withDouble:(jdouble)mswg {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats_initWithInt_withInt_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_(self, dfbg, dfwg, F, P, ssbg, sswg, sst, msbg, mswg);
  return self;
}

- (jint)getDfbg {
  return dfbg_;
}

- (void)setDfbgWithInt:(jint)dfbg {
  self->dfbg_ = dfbg;
}

- (jint)getDfwg {
  return dfwg_;
}

- (void)setDfwgWithInt:(jint)dfwg {
  self->dfwg_ = dfwg;
}

- (jdouble)getSsbg {
  return ssbg_;
}

- (void)setSsbgWithDouble:(jdouble)ssbg {
  self->ssbg_ = ssbg;
}

- (jdouble)getSswg {
  return sswg_;
}

- (void)setSswgWithDouble:(jdouble)sswg {
  self->sswg_ = sswg;
}

- (jdouble)getSst {
  return sst_;
}

- (void)setSstWithDouble:(jdouble)sst {
  self->sst_ = sst;
}

- (jdouble)getMsbg {
  return msbg_;
}

- (void)setMsbgWithDouble:(jdouble)msbg {
  self->msbg_ = msbg;
}

- (jdouble)getMswg {
  return mswg_;
}

- (void)setMswgWithDouble:(jdouble)mswg {
  self->mswg_ = mswg;
}

- (jdouble)getF {
  return F_;
}

- (void)setFWithDouble:(jdouble)f {
  F_ = f;
}

- (jdouble)getP {
  return P_;
}

- (void)setPWithDouble:(jdouble)p {
  P_ = p;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithInt:withInt:withDouble:withDouble:withDouble:withDouble:withDouble:withDouble:withDouble:", "AnovaStats", NULL, 0x1, NULL, NULL },
    { "getDfbg", NULL, "I", 0x1, NULL, NULL },
    { "setDfbgWithInt:", "setDfbg", "V", 0x1, NULL, NULL },
    { "getDfwg", NULL, "I", 0x1, NULL, NULL },
    { "setDfwgWithInt:", "setDfwg", "V", 0x1, NULL, NULL },
    { "getSsbg", NULL, "D", 0x1, NULL, NULL },
    { "setSsbgWithDouble:", "setSsbg", "V", 0x1, NULL, NULL },
    { "getSswg", NULL, "D", 0x1, NULL, NULL },
    { "setSswgWithDouble:", "setSswg", "V", 0x1, NULL, NULL },
    { "getSst", NULL, "D", 0x1, NULL, NULL },
    { "setSstWithDouble:", "setSst", "V", 0x1, NULL, NULL },
    { "getMsbg", NULL, "D", 0x1, NULL, NULL },
    { "setMsbgWithDouble:", "setMsbg", "V", 0x1, NULL, NULL },
    { "getMswg", NULL, "D", 0x1, NULL, NULL },
    { "setMswgWithDouble:", "setMswg", "V", 0x1, NULL, NULL },
    { "getF", NULL, "D", 0x1, NULL, NULL },
    { "setFWithDouble:", "setF", "V", 0x1, NULL, NULL },
    { "getP", NULL, "D", 0x1, NULL, NULL },
    { "setPWithDouble:", "setP", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "dfbg_", NULL, 0x2, "I", NULL, NULL,  },
    { "dfwg_", NULL, 0x2, "I", NULL, NULL,  },
    { "F_", NULL, 0x2, "D", NULL, NULL,  },
    { "ssbg_", NULL, 0x2, "D", NULL, NULL,  },
    { "sswg_", NULL, 0x2, "D", NULL, NULL,  },
    { "sst_", NULL, 0x2, "D", NULL, NULL,  },
    { "msbg_", NULL, 0x2, "D", NULL, NULL,  },
    { "mswg_", NULL, 0x2, "D", NULL, NULL,  },
    { "P_", NULL, 0x2, "D", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats = { 2, "AnovaStats", "org.geogebra.common.gui.view.data", "ANOVAStatTableModel", 0x9, 19, methods, 9, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats;
}

@end

void OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats_initWithInt_withInt_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_(OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *self, jint dfbg, jint dfwg, jdouble F, jdouble P, jdouble ssbg, jdouble sswg, jdouble sst, jdouble msbg, jdouble mswg) {
  NSObject_init(self);
  [self setDfbgWithInt:dfbg];
  [self setDfwgWithInt:dfwg];
  [self setFWithDouble:F];
  [self setPWithDouble:P];
  [self setSsbgWithDouble:ssbg];
  [self setSswgWithDouble:sswg];
  [self setSstWithDouble:sst];
  [self setMsbgWithDouble:msbg];
  [self setMswgWithDouble:mswg];
}

OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *new_OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats_initWithInt_withInt_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_(jint dfbg, jint dfwg, jdouble F, jdouble P, jdouble ssbg, jdouble sswg, jdouble sst, jdouble msbg, jdouble mswg) {
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats *self = [OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats alloc];
  OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats_initWithInt_withInt_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_withDouble_(self, dfbg, dfwg, F, P, ssbg, sswg, sst, msbg, mswg);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonGuiViewDataANOVAStatTableModel_AnovaStats)

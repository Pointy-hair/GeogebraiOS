//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeoGebraiOSARC/GeoGebraiOSARC/javasources/org/geogebra/common/euclidian/plot/GeneralPathClippedForCurvePlotter.java
//


#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "org/geogebra/common/awt/GPoint2D.h"
#include "org/geogebra/common/euclidian/EuclidianView.h"
#include "org/geogebra/common/euclidian/EuclidianViewInterfaceSlim.h"
#include "org/geogebra/common/euclidian/GeneralPathClipped.h"
#include "org/geogebra/common/euclidian/plot/CurvePlotter.h"
#include "org/geogebra/common/euclidian/plot/GeneralPathClippedForCurvePlotter.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/MyPoint.h"
#include "org/geogebra/common/util/Cloner.h"

@interface OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter ()

- (void)drawToWithDouble:(jdouble)x
              withDouble:(jdouble)y
             withBoolean:(jboolean)lineTo;

- (void)cornerWithDouble:(jdouble)x0
              withDouble:(jdouble)y0;

@end

__attribute__((unused)) static void OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self, jdouble x, jdouble y, jboolean lineTo);

__attribute__((unused)) static void OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_cornerWithDouble_withDouble_(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self, jdouble x0, jdouble y0);

@implementation OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter

- (instancetype)initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim:(id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim>)view {
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim_(self, view);
  return self;
}

- (void)lineToWithDoubleArray:(IOSDoubleArray *)pos {
  [self drawToWithDoubleArray:pos withBoolean:YES];
}

- (void)moveToWithDoubleArray:(IOSDoubleArray *)pos {
  [self drawToWithDoubleArray:pos withBoolean:NO];
}

- (void)drawToWithDoubleArray:(IOSDoubleArray *)pos
                  withBoolean:(jboolean)lineTo {
  IOSDoubleArray *p = OrgGeogebraCommonUtilCloner_cloneWithDoubleArray_(pos);
  [((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(((OrgGeogebraCommonEuclidianEuclidianView *) check_class_cast(view_, [OrgGeogebraCommonEuclidianEuclidianView class])))) toScreenCoordsWithDoubleArray:p];
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, IOSDoubleArray_Get(nil_chk(p), 0), IOSDoubleArray_Get(p, 1), lineTo);
}

- (void)drawToWithDouble:(jdouble)x
              withDouble:(jdouble)y
             withBoolean:(jboolean)lineTo {
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x, y, lineTo);
}

- (void)corner {
  OrgGeogebraCommonKernelMyPoint *fp = [self firstPoint];
  if (fp != nil) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_cornerWithDouble_withDouble_(self, fp->x_, fp->y_);
    [self closePath];
  }
}

- (void)cornerWithDoubleArray:(IOSDoubleArray *)pos {
  IOSDoubleArray *p = OrgGeogebraCommonUtilCloner_cloneWithDoubleArray_(pos);
  [((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(((OrgGeogebraCommonEuclidianEuclidianView *) check_class_cast(view_, [OrgGeogebraCommonEuclidianEuclidianView class])))) toScreenCoordsWithDoubleArray:p];
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_cornerWithDouble_withDouble_(self, IOSDoubleArray_Get(nil_chk(p), 0), IOSDoubleArray_Get(p, 1));
}

- (void)cornerWithDouble:(jdouble)x0
              withDouble:(jdouble)y0 {
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_cornerWithDouble_withDouble_(self, x0, y0);
}

- (void)firstPointWithDoubleArray:(IOSDoubleArray *)pos
withOrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum:(OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum *)moveToAllowed {
  IOSDoubleArray *p = OrgGeogebraCommonUtilCloner_cloneWithDoubleArray_(pos);
  [((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(((OrgGeogebraCommonEuclidianEuclidianView *) check_class_cast(view_, [OrgGeogebraCommonEuclidianEuclidianView class])))) toScreenCoordsWithDoubleArray:p];
  jdouble x0 = IOSDoubleArray_Get(nil_chk(p), 0);
  jdouble y0 = IOSDoubleArray_Get(p, 1);
  if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_MOVE_TO()) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, NO);
  }
  else if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_LINE_TO() || moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_CORNER()) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, YES);
  }
  else if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_RESET_XMIN()) {
    jdouble d = [((OrgGeogebraCommonAwtGPoint2D *) nil_chk([self getCurrentPoint])) getY];
    if (!OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_(d, y0)) {
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, -10, d, YES);
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, -10, y0, YES);
    }
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, YES);
  }
  else if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_RESET_XMAX()) {
    jdouble d = [((OrgGeogebraCommonAwtGPoint2D *) nil_chk([self getCurrentPoint])) getY];
    if (!OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_(d, y0)) {
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, [((id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(view_)) getWidth] + 10, d, YES);
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, [view_ getWidth] + 10, y0, YES);
    }
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, YES);
  }
  else if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_RESET_YMIN()) {
    jdouble d = [((OrgGeogebraCommonAwtGPoint2D *) nil_chk([self getCurrentPoint])) getX];
    if (!OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_(d, x0)) {
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, d, -10, YES);
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, -10, YES);
    }
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, YES);
  }
  else if (moveToAllowed == OrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum_get_RESET_YMAX()) {
    jdouble d = [((OrgGeogebraCommonAwtGPoint2D *) nil_chk([self getCurrentPoint])) getX];
    if (!OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_(d, x0)) {
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, [((OrgGeogebraCommonAwtGPoint2D *) nil_chk([self getCurrentPoint])) getX], [((id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(view_)) getHeight] + 10, YES);
      OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, [view_ getHeight] + 10, YES);
    }
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y0, YES);
  }
}

- (IOSDoubleArray *)newDoubleArray {
  return [IOSDoubleArray newArrayWithLength:2];
}

- (jboolean)copyCoordsWithOrgGeogebraCommonKernelMyPoint:(OrgGeogebraCommonKernelMyPoint *)point
                                         withDoubleArray:(IOSDoubleArray *)ret {
  if (!OrgGeogebraCommonKernelKernel_isZeroWithDouble_([((OrgGeogebraCommonKernelMyPoint *) nil_chk(point)) getZ])) {
    return NO;
  }
  *IOSDoubleArray_GetRef(nil_chk(ret), 0) = point->x_;
  *IOSDoubleArray_GetRef(ret, 1) = point->y_;
  return YES;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim:", "GeneralPathClippedForCurvePlotter", NULL, 0x1, NULL, NULL },
    { "lineToWithDoubleArray:", "lineTo", "V", 0x1, NULL, NULL },
    { "moveToWithDoubleArray:", "moveTo", "V", 0x1, NULL, NULL },
    { "drawToWithDoubleArray:withBoolean:", "drawTo", "V", 0x1, NULL, NULL },
    { "drawToWithDouble:withDouble:withBoolean:", "drawTo", "V", 0x2, NULL, NULL },
    { "corner", NULL, "V", 0x1, NULL, NULL },
    { "cornerWithDoubleArray:", "corner", "V", 0x1, NULL, NULL },
    { "cornerWithDouble:withDouble:", "corner", "V", 0x2, NULL, NULL },
    { "firstPointWithDoubleArray:withOrgGeogebraCommonEuclidianPlotCurvePlotter_GapEnum:", "firstPoint", "V", 0x1, NULL, NULL },
    { "newDoubleArray", NULL, "[D", 0x1, NULL, NULL },
    { "copyCoordsWithOrgGeogebraCommonKernelMyPoint:withDoubleArray:", "copyCoords", "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter = { 2, "GeneralPathClippedForCurvePlotter", "org.geogebra.common.euclidian.plot", NULL, 0x1, 11, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter;
}

@end

void OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim_(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self, id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim> view) {
  (void) OrgGeogebraCommonEuclidianGeneralPathClipped_initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim_(self, view);
}

OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *new_OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim_(id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim> view) {
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self = [OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter alloc];
  OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_initWithOrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim_(self, view);
  return self;
}

void OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self, jdouble x, jdouble y, jboolean lineTo) {
  OrgGeogebraCommonAwtGPoint2D *point = [self getCurrentPoint];
  if (point == nil) {
    [self moveToWithDouble:x withDouble:y];
  }
  else if (!OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_withDouble_(x, [point getX], [((id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(self->view_)) getMinPixelDistance]) || !OrgGeogebraCommonKernelKernel_isEqualWithDouble_withDouble_withDouble_(y, [point getY], [self->view_ getMinPixelDistance])) {
    if (lineTo) {
      [self lineToWithDouble:x withDouble:y];
    }
    else {
      [self moveToWithDouble:x withDouble:y];
    }
  }
}

void OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_cornerWithDouble_withDouble_(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter *self, jdouble x0, jdouble y0) {
  jint w = [((id<OrgGeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(self->view_)) getWidth];
  jint h = [self->view_ getHeight];
  OrgGeogebraCommonAwtGPoint2D *pt = [self getCurrentPoint];
  if (pt == nil) {
    return;
  }
  jdouble x = [((OrgGeogebraCommonAwtGPoint2D *) nil_chk(pt)) getX];
  jdouble y = [pt getY];
  if ((x < 0 && x0 > w) || (x > w && x0 < 0)) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x, -10, YES);
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, -10, YES);
    return;
  }
  if ((y < 0 && y0 > h) || (y > h && y0 < 0)) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, -10, y, YES);
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, -10, y0, YES);
    return;
  }
  if ((x > w || x < 0) && (y0 < 0 || y0 > h)) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x, y0, YES);
    return;
  }
  if ((x0 > w || x0 < 0) && (y < 0 || y > h)) {
    OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter_drawToWithDouble_withDouble_withBoolean_(self, x0, y, YES);
    return;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonEuclidianPlotGeneralPathClippedForCurvePlotter)

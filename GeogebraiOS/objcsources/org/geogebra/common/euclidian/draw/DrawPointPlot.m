//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/GeogebraiOS/GeogebraiOS/sources/org/geogebra/common/euclidian/draw/DrawPointPlot.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/Enum.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/util/ArrayList.h"
#include "org/geogebra/common/awt/GColor.h"
#include "org/geogebra/common/awt/GFont.h"
#include "org/geogebra/common/awt/GGraphics2D.h"
#include "org/geogebra/common/awt/GRectangle.h"
#include "org/geogebra/common/euclidian/Drawable.h"
#include "org/geogebra/common/euclidian/EuclidianView.h"
#include "org/geogebra/common/euclidian/draw/DrawPoint.h"
#include "org/geogebra/common/euclidian/draw/DrawPointPlot.h"
#include "org/geogebra/common/kernel/Kernel.h"
#include "org/geogebra/common/kernel/StringTemplate.h"
#include "org/geogebra/common/kernel/algos/AlgoElement.h"
#include "org/geogebra/common/kernel/geos/GeoElement.h"
#include "org/geogebra/common/kernel/geos/GeoList.h"
#include "org/geogebra/common/kernel/geos/GeoNumeric.h"
#include "org/geogebra/common/kernel/geos/GeoPoint.h"
#include "org/geogebra/common/kernel/statistics/AlgoDotPlot.h"

@interface OrgGeogebraCommonEuclidianDrawDrawPointPlot () {
 @public
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *drawType_;
  jboolean isVisible_, labelVisible_;
  IOSDoubleArray *coords_;
  OrgGeogebraCommonKernelAlgosAlgoElement *algo_;
  JavaUtilArrayList *drawPoints_;
  jint pointStyle_;
  jint pointSize_;
  jint oldPointSize_;
  jint oldPointStyle_;
  OrgGeogebraCommonAwtGColor *oldColor_;
  OrgGeogebraCommonAwtGColor *pointColor_;
  jdouble scaleFactor_;
  OrgGeogebraCommonKernelGeosGeoList *pointList_;
}

- (void)init__ OBJC_METHOD_FAMILY_NONE;

- (void)updatePointLists;

- (void)setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)pt
                                                    withInt:(jint)dotCount;

- (void)doDotDensity;

- (jdouble)getDotPlotXWithInt:(jint)index;

@end

J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, drawType_, OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, coords_, IOSDoubleArray *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, algo_, OrgGeogebraCommonKernelAlgosAlgoElement *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, drawPoints_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, oldColor_, OrgGeogebraCommonAwtGColor *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, pointColor_, OrgGeogebraCommonAwtGColor *)
J2OBJC_FIELD_SETTER(OrgGeogebraCommonEuclidianDrawDrawPointPlot, pointList_, OrgGeogebraCommonKernelGeosGeoList *)

__attribute__((unused)) static void OrgGeogebraCommonEuclidianDrawDrawPointPlot_init__(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self);

__attribute__((unused)) static void OrgGeogebraCommonEuclidianDrawDrawPointPlot_updatePointLists(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self);

__attribute__((unused)) static void OrgGeogebraCommonEuclidianDrawDrawPointPlot_setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint_withInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self, OrgGeogebraCommonKernelGeosGeoPoint *pt, jint dotCount);

__attribute__((unused)) static void OrgGeogebraCommonEuclidianDrawDrawPointPlot_doDotDensity(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self);

__attribute__((unused)) static jdouble OrgGeogebraCommonEuclidianDrawDrawPointPlot_getDotPlotXWithInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self, jint index);

__attribute__((unused)) static void OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *self, NSString *__name, jint __ordinal);

__attribute__((unused)) static OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *new_OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) NS_RETURNS_RETAINED;

@implementation OrgGeogebraCommonEuclidianDrawDrawPointPlot

- (instancetype)initWithOrgGeogebraCommonEuclidianEuclidianView:(OrgGeogebraCommonEuclidianEuclidianView *)view
                         withOrgGeogebraCommonKernelGeosGeoList:(OrgGeogebraCommonKernelGeosGeoList *)pointList
   withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum:(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *)drawType {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_initWithOrgGeogebraCommonEuclidianEuclidianView_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_(self, view, pointList, drawType);
  return self;
}

- (void)init__ {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_init__(self);
}

- (id<OrgGeogebraCommonAwtGRectangle>)getBounds {
  if (![((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) isDefined] || ![geo_ isEuclidianVisible]) {
    return nil;
  }
  id<OrgGeogebraCommonAwtGRectangle> rect = [((OrgGeogebraCommonEuclidianDrawDrawPoint *) nil_chk([((JavaUtilArrayList *) nil_chk(drawPoints_)) getWithInt:0])) getBounds];
  for (jint i = 1; i < [drawPoints_ size]; i++) {
    [((id<OrgGeogebraCommonAwtGRectangle>) nil_chk(rect)) addWithOrgGeogebraCommonAwtGRectangle:[((OrgGeogebraCommonEuclidianDrawDrawPoint *) nil_chk([drawPoints_ getWithInt:i])) getBounds]];
  }
  return rect;
}

- (void)drawWithOrgGeogebraCommonAwtGGraphics2D:(id<OrgGeogebraCommonAwtGGraphics2D>)g2 {
  if (isVisible_) {
    for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(drawPoints_)) size] && i < [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(pointList_)) size]; i++) {
      [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(pointList_)) getWithInt:i])) setHighlightedWithBoolean:[((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) doHighlighting]];
      [((OrgGeogebraCommonEuclidianDrawDrawPoint *) nil_chk([drawPoints_ getWithInt:i])) drawWithOrgGeogebraCommonAwtGGraphics2D:g2];
    }
    if (labelVisible_) {
      [((id<OrgGeogebraCommonAwtGGraphics2D>) nil_chk(g2)) setFontWithOrgGeogebraCommonAwtGFont:[((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(view_)) getFontConic]];
      [g2 setPaintWithOrgGeogebraCommonAwtGPaint:[((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getLabelColor]];
      [self drawLabelWithOrgGeogebraCommonAwtGGraphics2D:g2];
    }
  }
}

- (OrgGeogebraCommonKernelGeosGeoElement *)getGeoElement {
  return geo_;
}

- (jboolean)hitWithInt:(jint)x
               withInt:(jint)y
               withInt:(jint)hitThreshold {
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(drawPoints_)) size]; i++) {
    if ([((OrgGeogebraCommonEuclidianDrawDrawPoint *) nil_chk([drawPoints_ getWithInt:i])) hitWithInt:x withInt:y withInt:hitThreshold]) {
      [self setToolTipForPointWithInt:i];
      return YES;
    }
  }
  return NO;
}

- (jboolean)intersectsRectangleWithOrgGeogebraCommonAwtGRectangle:(id<OrgGeogebraCommonAwtGRectangle>)rect {
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(drawPoints_)) size]; i++) {
    OrgGeogebraCommonEuclidianDrawable *d = [drawPoints_ getWithInt:i];
    if ([((OrgGeogebraCommonEuclidianDrawable *) nil_chk(d)) intersectsRectangleWithOrgGeogebraCommonAwtGRectangle:rect]) return YES;
  }
  return NO;
}

- (jboolean)isInsideWithOrgGeogebraCommonAwtGRectangle:(id<OrgGeogebraCommonAwtGRectangle>)rect {
  jint size = [((JavaUtilArrayList *) nil_chk(drawPoints_)) size];
  for (jint i = 0; i < size; i++) {
    OrgGeogebraCommonEuclidianDrawable *d = [drawPoints_ getWithInt:i];
    if (![((OrgGeogebraCommonEuclidianDrawable *) nil_chk(d)) isInsideWithOrgGeogebraCommonAwtGRectangle:rect]) return NO;
  }
  return size > 0;
}

- (void)setGeoElementWithOrgGeogebraCommonKernelGeosGeoElement:(OrgGeogebraCommonKernelGeosGeoElement *)geo {
  OrgGeogebraCommonEuclidianDrawable_set_geo_(self, geo);
}

- (void)update {
  isVisible_ = [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) isEuclidianVisible];
  if (!isVisible_) return;
  if (![((OrgGeogebraCommonKernelAlgosAlgoElement *) nil_chk([geo_ getDrawAlgorithm])) isEqual:[geo_ getParentAlgorithm]]) OrgGeogebraCommonEuclidianDrawDrawPointPlot_init__(self);
  labelVisible_ = [geo_ isLabelVisible];
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_updatePointLists(self);
  if (drawType_ == OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_get_DOT_PLOT() && [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) stackAdjacentDots]) {
    OrgGeogebraCommonEuclidianDrawDrawPointPlot_doDotDensity(self);
  }
  pointStyle_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(pointList_)) getPointStyle];
  pointSize_ = [pointList_ getPointSize];
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_pointColor_(self, [geo_ getObjectColor]);
  jboolean doVisualStyleUpdate = (oldPointSize_ != pointSize_) || (oldPointStyle_ != pointStyle_) || !([((OrgGeogebraCommonAwtGColor *) nil_chk(oldColor_)) isEqual:pointColor_]);
  oldPointSize_ = pointSize_;
  oldPointStyle_ = pointStyle_;
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_oldColor_(self, [geo_ getObjectColor]);
  for (jint i = 0; i < [pointList_ size]; i++) {
    OrgGeogebraCommonKernelGeosGeoPoint *pt = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([pointList_ getWithInt:i], [OrgGeogebraCommonKernelGeosGeoPoint class]);
    if (doVisualStyleUpdate) {
      [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(pt)) setObjColorWithOrgGeogebraCommonAwtGColor:pointColor_];
      [pt setPointSizeWithInt:pointSize_];
      [pt setPointStyleWithInt:pointStyle_];
    }
    [((OrgGeogebraCommonEuclidianDrawDrawPoint *) nil_chk([((JavaUtilArrayList *) nil_chk(drawPoints_)) getWithInt:i])) update];
  }
  OrgGeogebraCommonKernelGeosGeoPoint *pt = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([pointList_ getWithInt:0], [OrgGeogebraCommonKernelGeosGeoPoint class]);
  *IOSDoubleArray_GetRef(nil_chk(coords_), 0) = [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(pt)) getX];
  *IOSDoubleArray_GetRef(coords_, 1) = [pt getY];
  [((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(view_)) toScreenCoordsWithDoubleArray:coords_];
  if (labelVisible_) {
    xLabel_ = J2ObjCFpToInt(IOSDoubleArray_Get(coords_, 0));
    yLabel_ = J2ObjCFpToInt(IOSDoubleArray_Get(coords_, 1)) + 2 * [view_ getFontSize];
    OrgGeogebraCommonEuclidianDrawable_set_labelDesc_(self, [geo_ getLabelDescription]);
    [self addLabelOffset];
  }
}

- (void)updatePointLists {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_updatePointLists(self);
}

- (void)setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint:(OrgGeogebraCommonKernelGeosGeoPoint *)pt
                                                    withInt:(jint)dotCount {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint_withInt_(self, pt, dotCount);
}

- (void)doDotDensity {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_doDotDensity(self);
}

- (void)setToolTipForPointWithInt:(jint)index {
  jdouble x = OrgGeogebraCommonEuclidianDrawDrawPointPlot_getDotPlotXWithInt_(self, index);
  NSString *text = [((OrgGeogebraCommonKernelKernel *) nil_chk([((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(view_)) getKernel])) formatWithDouble:x withOrgGeogebraCommonKernelStringTemplate:OrgGeogebraCommonKernelStringTemplate_get_defaultTemplate_()];
  [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getParentAlgorithm], [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) setToolTipPointTextWithNSString:text];
  [view_ setToolTipTextWithNSString:@" "];
}

- (jdouble)getDotPlotXWithInt:(jint)index {
  return OrgGeogebraCommonEuclidianDrawDrawPointPlot_getDotPlotXWithInt_(self, index);
}

- (void)dealloc {
  RELEASE_(drawType_);
  RELEASE_(coords_);
  RELEASE_(algo_);
  RELEASE_(drawPoints_);
  RELEASE_(oldColor_);
  RELEASE_(pointColor_);
  RELEASE_(pointList_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithOrgGeogebraCommonEuclidianEuclidianView:withOrgGeogebraCommonKernelGeosGeoList:withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum:", "DrawPointPlot", NULL, 0x1, NULL, NULL },
    { "init__", "init", "V", 0x2, NULL, NULL },
    { "getBounds", NULL, "Lorg.geogebra.common.awt.GRectangle;", 0x11, NULL, NULL },
    { "drawWithOrgGeogebraCommonAwtGGraphics2D:", "draw", "V", 0x1, NULL, NULL },
    { "getGeoElement", NULL, "Lorg.geogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "hitWithInt:withInt:withInt:", "hit", "Z", 0x1, NULL, NULL },
    { "intersectsRectangleWithOrgGeogebraCommonAwtGRectangle:", "intersectsRectangle", "Z", 0x1, NULL, NULL },
    { "isInsideWithOrgGeogebraCommonAwtGRectangle:", "isInside", "Z", 0x1, NULL, NULL },
    { "setGeoElementWithOrgGeogebraCommonKernelGeosGeoElement:", "setGeoElement", "V", 0x1, NULL, NULL },
    { "update", NULL, "V", 0x1, NULL, NULL },
    { "updatePointLists", NULL, "V", 0x2, NULL, NULL },
    { "setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint:withInt:", "setDotHeight", "V", 0x2, NULL, NULL },
    { "doDotDensity", NULL, "V", 0x2, NULL, NULL },
    { "setToolTipForPointWithInt:", "setToolTipForPoint", "V", 0x1, NULL, NULL },
    { "getDotPlotXWithInt:", "getDotPlotX", "D", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "drawType_", NULL, 0x2, "Lorg.geogebra.common.euclidian.draw.DrawPointPlot$DrawType;", NULL, NULL,  },
    { "isVisible_", NULL, 0x2, "Z", NULL, NULL,  },
    { "labelVisible_", NULL, 0x2, "Z", NULL, NULL,  },
    { "coords_", NULL, 0x2, "[D", NULL, NULL,  },
    { "algo_", NULL, 0x2, "Lorg.geogebra.common.kernel.algos.AlgoElement;", NULL, NULL,  },
    { "drawPoints_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lorg/geogebra/common/euclidian/draw/DrawPoint;>;",  },
    { "pointStyle_", NULL, 0x2, "I", NULL, NULL,  },
    { "pointSize_", NULL, 0x2, "I", NULL, NULL,  },
    { "oldPointSize_", NULL, 0x2, "I", NULL, NULL,  },
    { "oldPointStyle_", NULL, 0x2, "I", NULL, NULL,  },
    { "oldColor_", NULL, 0x2, "Lorg.geogebra.common.awt.GColor;", NULL, NULL,  },
    { "pointColor_", NULL, 0x2, "Lorg.geogebra.common.awt.GColor;", NULL, NULL,  },
    { "scaleFactor_", NULL, 0x2, "D", NULL, NULL,  },
    { "pointList_", NULL, 0x2, "Lorg.geogebra.common.kernel.geos.GeoList;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lorg.geogebra.common.euclidian.draw.DrawPointPlot$DrawType;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonEuclidianDrawDrawPointPlot = { 2, "DrawPointPlot", "org.geogebra.common.euclidian.draw", NULL, 0x1, 15, methods, 14, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_OrgGeogebraCommonEuclidianDrawDrawPointPlot;
}

@end

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_initWithOrgGeogebraCommonEuclidianEuclidianView_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self, OrgGeogebraCommonEuclidianEuclidianView *view, OrgGeogebraCommonKernelGeosGeoList *pointList, OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *drawType) {
  OrgGeogebraCommonEuclidianDrawable_init(self);
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_drawType_(self, OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_get_DOT_PLOT());
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_setAndConsume_coords_(self, [IOSDoubleArray newArrayWithLength:2]);
  self->oldPointSize_ = -1;
  self->oldPointStyle_ = -1;
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_oldColor_(self, nil);
  self->scaleFactor_ = 1;
  OrgGeogebraCommonEuclidianDrawable_set_view_(self, view);
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_drawType_(self, drawType);
  OrgGeogebraCommonEuclidianDrawable_set_geo_(self, pointList);
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_pointList_(self, pointList);
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_init__(self);
  [self update];
}

OrgGeogebraCommonEuclidianDrawDrawPointPlot *new_OrgGeogebraCommonEuclidianDrawDrawPointPlot_initWithOrgGeogebraCommonEuclidianEuclidianView_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_(OrgGeogebraCommonEuclidianEuclidianView *view, OrgGeogebraCommonKernelGeosGeoList *pointList, OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *drawType) {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot *self = [OrgGeogebraCommonEuclidianDrawDrawPointPlot alloc];
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_initWithOrgGeogebraCommonEuclidianEuclidianView_withOrgGeogebraCommonKernelGeosGeoList_withOrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_(self, view, pointList, drawType);
  return self;
}

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_init__(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self) {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_set_algo_(self, [((OrgGeogebraCommonKernelGeosGeoElement *) nil_chk(self->geo_)) getParentAlgorithm]);
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_setAndConsume_drawPoints_(self, new_JavaUtilArrayList_init());
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_updatePointLists(self);
}

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_updatePointLists(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self) {
  jint n = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->pointList_)) size];
  [((JavaUtilArrayList *) nil_chk(self->drawPoints_)) ensureCapacityWithInt:n];
  if (n > [self->drawPoints_ size]) {
    for (jint i = [self->drawPoints_ size]; i < n; i++) {
      OrgGeogebraCommonKernelGeosGeoPoint *pt = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([self->pointList_ getWithInt:i], [OrgGeogebraCommonKernelGeosGeoPoint class]);
      OrgGeogebraCommonEuclidianDrawDrawPoint *d = [new_OrgGeogebraCommonEuclidianDrawDrawPoint_initWithOrgGeogebraCommonEuclidianEuclidianView_withOrgGeogebraCommonKernelKernelNDGeoPointND_(self->view_, pt) autorelease];
      [d setGeoElementWithOrgGeogebraCommonKernelGeosGeoElement:pt];
      [self->drawPoints_ addWithId:d];
    }
  }
  else if (n < [self->drawPoints_ size]) {
    for (jint i = n; n < [self->drawPoints_ size]; ) {
      [self->drawPoints_ removeWithInt:i];
    }
  }
}

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint_withInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self, OrgGeogebraCommonKernelGeosGeoPoint *pt, jint dotCount) {
  jdouble y;
  self->pointSize_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->pointList_)) getPointSize];
  y = ([((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(self->view_)) getYZero] - self->pointSize_);
  y = y - 2 * (dotCount - 1) * self->pointSize_ * self->scaleFactor_;
  y = [self->view_ toRealWorldCoordYWithDouble:y];
  [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(pt)) setYWithDouble:y];
  [pt updateCoords];
}

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_doDotDensity(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self) {
  self->pointSize_ = [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(self->pointList_)) getPointSize];
  jdouble h = 2 * self->pointSize_ * [((OrgGeogebraCommonEuclidianEuclidianView *) nil_chk(self->view_)) getInvXscale];
  self->scaleFactor_ = [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(self->algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) getScaleFactor];
  OrgGeogebraCommonKernelGeosGeoPoint *pt = nil;
  OrgGeogebraCommonKernelGeosGeoList *xList = [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(self->algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) getUniqueXList];
  OrgGeogebraCommonKernelGeosGeoList *freqList = [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(self->algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) getFrequencyList];
  jint xIndex = 0;
  jint dotCount = 1;
  jdouble stackX = [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(xList)) getWithInt:xIndex], [OrgGeogebraCommonKernelGeosGeoNumeric class])))) getDouble];
  for (jint i = 0; i < [xList size]; i++) {
    jdouble x = [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast([xList getWithInt:i], [OrgGeogebraCommonKernelGeosGeoNumeric class])))) getDouble];
    jint freq = J2ObjCFpToInt([((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(freqList)) getWithInt:i], [OrgGeogebraCommonKernelGeosGeoNumeric class])))) getDouble]);
    if (x > stackX + h) {
      stackX = x;
      dotCount = 1;
    }
    for (jint k = 0; k < freq; k++) {
      pt = (OrgGeogebraCommonKernelGeosGeoPoint *) check_class_cast([self->pointList_ getWithInt:xIndex], [OrgGeogebraCommonKernelGeosGeoPoint class]);
      [((OrgGeogebraCommonKernelGeosGeoPoint *) nil_chk(pt)) setXWithDouble:stackX];
      [pt updateCoords];
      OrgGeogebraCommonEuclidianDrawDrawPointPlot_setDotHeightWithOrgGeogebraCommonKernelGeosGeoPoint_withInt_(self, pt, dotCount);
      dotCount++;
      xIndex++;
    }
  }
}

jdouble OrgGeogebraCommonEuclidianDrawDrawPointPlot_getDotPlotXWithInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot *self, jint index) {
  jdouble x = 0;
  jint xIndex = 0;
  OrgGeogebraCommonKernelGeosGeoList *list1 = [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(self->algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) getUniqueXList];
  OrgGeogebraCommonKernelGeosGeoList *list2 = [((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) nil_chk(((OrgGeogebraCommonKernelStatisticsAlgoDotPlot *) check_class_cast(self->algo_, [OrgGeogebraCommonKernelStatisticsAlgoDotPlot class])))) getFrequencyList];
  for (jint i = 0; i < [((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(list1)) size]; i++) {
    x = [((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast([list1 getWithInt:i], [OrgGeogebraCommonKernelGeosGeoNumeric class])))) getDouble];
    jint freq = J2ObjCFpToInt([((OrgGeogebraCommonKernelGeosGeoNumeric *) nil_chk(((OrgGeogebraCommonKernelGeosGeoNumeric *) check_class_cast([((OrgGeogebraCommonKernelGeosGeoList *) nil_chk(list2)) getWithInt:i], [OrgGeogebraCommonKernelGeosGeoNumeric class])))) getDouble]);
    for (jint k = 0; k < freq; k++) {
      if (index == xIndex) {
        return x;
      }
      xIndex++;
    }
  }
  return x;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonEuclidianDrawDrawPointPlot)

J2OBJC_INITIALIZED_DEFN(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum)

OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_values_[2];

@implementation OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum

- (instancetype)initWithNSString:(NSString *)__name
                         withInt:(jint)__ordinal {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

IOSObjectArray *OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_values() {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initialize();
  return [IOSObjectArray arrayWithObjects:OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_values_ count:2 type:OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_class_()];
}

+ (IOSObjectArray *)values {
  return OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_values();
}

+ (OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *)valueOfWithNSString:(NSString *)name {
  return OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_valueOfWithNSString_(name);
}

OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_valueOfWithNSString_(NSString *name) {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initialize();
  for (int i = 0; i < 2; i++) {
    OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *e = OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[[JavaLangIllegalArgumentException alloc] initWithNSString:name] autorelease];
  return nil;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self retain];
}

+ (void)initialize {
  if (self == [OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum class]) {
    OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_DOT_PLOT = new_OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(@"DOT_PLOT", 0);
    OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_POINT_PLOT = new_OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(@"POINT_PLOT", 1);
    J2OBJC_SET_INITIALIZED(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcFieldInfo fields[] = {
    { "DOT_PLOT", "DOT_PLOT", 0x4019, "Lorg.geogebra.common.euclidian.draw.DrawPointPlot$DrawType;", &OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_DOT_PLOT, NULL,  },
    { "POINT_PLOT", "POINT_PLOT", 0x4019, "Lorg.geogebra.common.euclidian.draw.DrawPointPlot$DrawType;", &OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_POINT_PLOT, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lorg.geogebra.common.euclidian.draw.DrawPointPlot$DrawType;"};
  static const J2ObjcClassInfo _OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum = { 2, "DrawType", "org.geogebra.common.euclidian.draw", "DrawPointPlot", 0x4019, 0, NULL, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/lang/Enum<Lorg/geogebra/common/euclidian/draw/DrawPointPlot$DrawType;>;" };
  return &_OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum;
}

@end

void OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *new_OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) {
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum *self = [OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum alloc];
  OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgGeogebraCommonEuclidianDrawDrawPointPlot_DrawTypeEnum)

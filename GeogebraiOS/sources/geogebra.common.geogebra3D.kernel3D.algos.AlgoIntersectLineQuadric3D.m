//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/kernel3D/algos/AlgoIntersectLineQuadric3D.java
//


#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/euclidian/EuclidianConstants.h"
#include "geogebra/common/geogebra3D/kernel3D/algos/AlgoIntersect3D.h"
#include "geogebra/common/geogebra3D/kernel3D/algos/AlgoIntersectLineQuadric3D.h"
#include "geogebra/common/geogebra3D/kernel3D/geos/GeoPoint3D.h"
#include "geogebra/common/geogebra3D/kernel3D/geos/GeoQuadric3D.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/Matrix/Coords.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/algos/ConstructionElement.h"
#include "geogebra/common/kernel/commands/Commands.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/kernelND/AlgoIntersectND.h"
#include "geogebra/common/kernel/kernelND/GeoLineND.h"
#include "geogebra/common/kernel/kernelND/GeoQuadricND.h"
#include "geogebra/common/main/Localization.h"
#include "java/lang/Math.h"

#define GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_serialVersionUID 1LL

@interface GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D () {
 @public
  id<GeogebraCommonKernelKernelNDGeoLineND> g_;
  GeogebraCommonKernelKernelNDGeoQuadricND *q_;
  IOSObjectArray *D_;
  jint intersectionType_;
}

- (void)checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D:(GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *)p;

- (void)setPointsUndefined;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D, g_, id<GeogebraCommonKernelKernelNDGeoLineND>)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D, q_, GeogebraCommonKernelKernelNDGeoQuadricND *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D, D_, IOSObjectArray *)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D, serialVersionUID, jlong)

__attribute__((unused)) static void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self, GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *p);

__attribute__((unused)) static void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initForNearToRelationship(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self);

@implementation GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                            withNSString:(NSString *)label
               withGeogebraCommonKernelKernelNDGeoLineND:(id<GeogebraCommonKernelKernelNDGeoLineND>)g
    withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D:(GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *)q {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(self, cons, label, g, q);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                       withNSStringArray:(IOSObjectArray *)labels
               withGeogebraCommonKernelKernelNDGeoLineND:(id<GeogebraCommonKernelKernelNDGeoLineND>)g
    withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D:(GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *)q {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(self, cons, labels, g, q);
  return self;
}

- (GeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return GeogebraCommonKernelCommandsCommandsEnum_get_Intersect();
}

- (jint)getRelatedModeID {
  return GeogebraCommonEuclidianEuclidianConstants_MODE_INTERSECT;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
               withGeogebraCommonKernelKernelNDGeoLineND:(id<GeogebraCommonKernelKernelNDGeoLineND>)g
            withGeogebraCommonKernelKernelNDGeoQuadricND:(GeogebraCommonKernelKernelNDGeoQuadricND *)q {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(self, cons, g, q);
  return self;
}

- (void)setInputOutput {
  GeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonKernelGeosGeoElement_class_()]);
  IOSObjectArray_Set(input_, 0, (GeogebraCommonKernelGeosGeoElement *) check_class_cast(g_, [GeogebraCommonKernelGeosGeoElement class]));
  IOSObjectArray_Set(input_, 1, q_);
  [self setOutputWithGeogebraCommonKernelGeosGeoElementArray:Q_];
  [self noUndefinedPointsInAlgebraView];
  [self setDependencies];
}

- (IOSObjectArray *)getIntersectionPoints {
  return Q_;
}

- (IOSObjectArray *)getLastDefinedIntersectionPoints {
  return D_;
}

- (id<GeogebraCommonKernelKernelNDGeoLineND>)getLine {
  return g_;
}

- (GeogebraCommonKernelKernelNDGeoQuadricND *)getQuadric {
  return q_;
}

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return [((GeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"IntersectionPointOfAB" withNSString:[((GeogebraCommonKernelKernelNDGeoQuadricND *) nil_chk(q_)) getLabelWithGeogebraCommonKernelStringTemplate:tpl] withNSString:[((GeogebraCommonKernelGeosGeoElement *) nil_chk(((GeogebraCommonKernelGeosGeoElement *) check_class_cast(g_, [GeogebraCommonKernelGeosGeoElement class])))) getLabelWithGeogebraCommonKernelStringTemplate:tpl]];
}

- (void)compute {
  GeogebraCommonKernelMatrixCoords *o = [((id<GeogebraCommonKernelKernelNDGeoLineND>) nil_chk(g_)) getStartInhomCoords];
  GeogebraCommonKernelMatrixCoords *d = [g_ getDirectionInD3];
  IOSDoubleArray *m = [((GeogebraCommonKernelKernelNDGeoQuadricND *) nil_chk(q_)) getFlatMatrix];
  jdouble v1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getDirectionInD3])) getX];
  jdouble v2 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getDirectionInD3])) getY];
  jdouble v3 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getDirectionInD3])) getZ];
  jdouble Sv1 = IOSDoubleArray_Get(nil_chk(m), 0) * v1 + IOSDoubleArray_Get(m, 4) * v2 + IOSDoubleArray_Get(m, 5) * v3;
  jdouble Sv2 = IOSDoubleArray_Get(m, 4) * v1 + IOSDoubleArray_Get(m, 1) * v2 + IOSDoubleArray_Get(m, 6) * v3;
  jdouble Sv3 = IOSDoubleArray_Get(m, 5) * v1 + IOSDoubleArray_Get(m, 6) * v2 + IOSDoubleArray_Get(m, 2) * v3;
  jdouble p1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getX];
  jdouble p2 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getY];
  jdouble p3 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getZ];
  jdouble u = v1 * Sv1 + v2 * Sv2 + v3 * Sv3;
  jdouble b = [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getX] * Sv1 + [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getY] * Sv2 + [((GeogebraCommonKernelMatrixCoords *) nil_chk([g_ getStartInhomCoords])) getZ] * Sv3 + IOSDoubleArray_Get(m, 7) * v1 + IOSDoubleArray_Get(m, 8) * v2 + IOSDoubleArray_Get(m, 9) * v3;
  jdouble w = p1 * (IOSDoubleArray_Get(m, 0) * p1 + IOSDoubleArray_Get(m, 4) * p2 + IOSDoubleArray_Get(m, 5) * p3 + IOSDoubleArray_Get(m, 7)) + p2 * (IOSDoubleArray_Get(m, 4) * p1 + IOSDoubleArray_Get(m, 1) * p2 + IOSDoubleArray_Get(m, 6) * p3 + IOSDoubleArray_Get(m, 8)) + p3 * (IOSDoubleArray_Get(m, 5) * p1 + IOSDoubleArray_Get(m, 6) * p2 + IOSDoubleArray_Get(m, 2) * p3 + IOSDoubleArray_Get(m, 9)) + IOSDoubleArray_Get(m, 7) * p1 + IOSDoubleArray_Get(m, 8) * p2 + IOSDoubleArray_Get(m, 9) * p3 + IOSDoubleArray_Get(m, 3);
  GeogebraCommonKernelKernel *kernel = [q_ getKernel];
  if (GeogebraCommonKernelKernel_isZeroWithDouble_(u)) {
    if (GeogebraCommonKernelKernel_isZeroWithDouble_(b)) {
      if (GeogebraCommonKernelKernel_isZeroWithDouble_(w)) {
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setUndefined];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setUndefined];
        intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_PRODUCING_LINE;
      }
      else {
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setUndefined];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setUndefined];
        intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_ASYMPTOTIC_LINE;
      }
    }
    else {
      jdouble t0 = -w / (2.0 * b);
      if (b < 0) {
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setCoordsWithGeogebraCommonKernelMatrixCoords:[g_ getPointInDWithInt:3 withDouble:t0]];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setUndefined];
      }
      else {
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setUndefined];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setCoordsWithGeogebraCommonKernelMatrixCoords:[g_ getPointInDWithInt:3 withDouble:t0]];
      }
      intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_MEETING_LINE;
    }
  }
  else {
    jdouble dis = b * b - u * w;
    if (GeogebraCommonKernelKernel_isZeroWithDouble_(dis)) {
      jdouble t1 = -b / u;
      [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setCoordsWithGeogebraCommonKernelMatrixCoords:[g_ getPointInDWithInt:3 withDouble:t1]];
      [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setCoordsWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 0))) getCoords]];
      intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_TANGENT_LINE;
    }
    else {
      if (dis > 0) {
        dis = JavaLangMath_sqrtWithDouble_(dis);
        jboolean swap = b < 0.0;
        if (swap) {
          dis = -dis;
        }
        jdouble n = -(b + dis);
        jdouble t1 = swap ? w / n : n / u;
        jdouble t2 = swap ? n / u : w / n;
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setCoordsWithGeogebraCommonKernelMatrixCoords:[g_ getPointInDWithInt:3 withDouble:t1]];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setCoordsWithGeogebraCommonKernelMatrixCoords:[g_ getPointInDWithInt:3 withDouble:t2]];
        intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_SECANT_LINE;
      }
      else {
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), 0))) setUndefined];
        [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(Q_, 1))) setUndefined];
        intersectionType_ = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_PASSING_LINE;
      }
    }
  }
  for (jint i = 0; i < 2; i++) GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_(self, IOSObjectArray_Get(nil_chk(Q_), i));
}

- (void)checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D:(GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *)p {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_(self, p);
}

- (void)setPointsUndefined {
  for (jint i = 0; i < 2; i++) [((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(IOSObjectArray_Get(nil_chk(Q_), i))) setUndefined];
}

- (void)initForNearToRelationship {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initForNearToRelationship(self);
}

- (void)dealloc {
  RELEASE_(g_);
  RELEASE_(q_);
  RELEASE_(D_);
  RELEASE_(P_);
  RELEASE_(Q_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelConstruction:withNSString:withGeogebraCommonKernelKernelNDGeoLineND:withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D:", "AlgoIntersectLineQuadric3D", NULL, 0x0, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withNSStringArray:withGeogebraCommonKernelKernelNDGeoLineND:withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D:", "AlgoIntersectLineQuadric3D", NULL, 0x0, NULL, NULL },
    { "getClassName", NULL, "Lgeogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "getRelatedModeID", NULL, "I", 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withGeogebraCommonKernelKernelNDGeoLineND:withGeogebraCommonKernelKernelNDGeoQuadricND:", "AlgoIntersectLineQuadric3D", NULL, 0x0, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x1, NULL, NULL },
    { "getIntersectionPoints", NULL, "[Lgeogebra.common.geogebra3D.kernel3D.geos.GeoPoint3D;", 0x11, NULL, NULL },
    { "getLastDefinedIntersectionPoints", NULL, "[Lgeogebra.common.geogebra3D.kernel3D.geos.GeoPoint3D;", 0x4, NULL, NULL },
    { "getLine", NULL, "Lgeogebra.common.kernel.kernelND.GeoLineND;", 0x0, NULL, NULL },
    { "getQuadric", NULL, "Lgeogebra.common.kernel.kernelND.GeoQuadricND;", 0x0, NULL, NULL },
    { "toStringWithGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x11, NULL, NULL },
    { "compute", NULL, "V", 0x1, NULL, NULL },
    { "checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D:", "checkIsOnLine", "V", 0x2, NULL, NULL },
    { "setPointsUndefined", NULL, "V", 0x2, NULL, NULL },
    { "initForNearToRelationship", NULL, "V", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_serialVersionUID },
    { "g_", NULL, 0x2, "Lgeogebra.common.kernel.kernelND.GeoLineND;", NULL, NULL,  },
    { "q_", NULL, 0x2, "Lgeogebra.common.kernel.kernelND.GeoQuadricND;", NULL, NULL,  },
    { "D_", NULL, 0x2, "[Lgeogebra.common.geogebra3D.kernel3D.geos.GeoPoint3D;", NULL, NULL,  },
    { "P_", NULL, 0x4, "[Lgeogebra.common.geogebra3D.kernel3D.geos.GeoPoint3D;", NULL, NULL,  },
    { "Q_", NULL, 0x4, "[Lgeogebra.common.geogebra3D.kernel3D.geos.GeoPoint3D;", NULL, NULL,  },
    { "intersectionType_", NULL, 0x2, "I", NULL, NULL,  },
    { "INTERSECTION_PRODUCING_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_PRODUCING_LINE },
    { "INTERSECTION_ASYMPTOTIC_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_ASYMPTOTIC_LINE },
    { "INTERSECTION_MEETING_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_MEETING_LINE },
    { "INTERSECTION_TANGENT_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_TANGENT_LINE },
    { "INTERSECTION_SECANT_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_SECANT_LINE },
    { "INTERSECTION_PASSING_LINE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_INTERSECTION_PASSING_LINE },
  };
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D = { 2, "AlgoIntersectLineQuadric3D", "geogebra.common.geogebra3D.kernel3D.algos", NULL, 0x1, 15, methods, 13, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D;
}

@end

void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self, GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(self, cons, g, q);
  GeogebraCommonKernelGeosGeoElement_setLabelsWithNSString_withGeogebraCommonKernelGeosGeoElementArray_(label, self->Q_);
}

GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *new_GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self = [GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D alloc];
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(self, cons, label, g, q);
  return self;
}

void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self, GeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(self, cons, g, q);
  GeogebraCommonKernelGeosGeoElement_setLabelsWithNSStringArray_withGeogebraCommonKernelGeosGeoElementArray_(labels, self->Q_);
}

GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *new_GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(GeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self = [GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D alloc];
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D_(self, cons, labels, g, q);
  return self;
}

void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self, GeogebraCommonKernelConstruction *cons, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonKernelKernelNDGeoQuadricND *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersect3D_initWithGeogebraCommonKernelConstruction_(self, cons);
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_set_g_(self, g);
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_set_q_(self, q);
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_setAndConsume_P_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_class_()]);
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_setAndConsume_Q_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_class_()]);
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_setAndConsume_D_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_class_()]);
  for (jint i = 0; i < 2; i++) {
    IOSObjectArray_SetAndConsume(self->P_, i, new_GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_initWithGeogebraCommonKernelConstruction_(cons));
    IOSObjectArray_SetAndConsume(self->Q_, i, new_GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_initWithGeogebraCommonKernelConstruction_(cons));
    IOSObjectArray_SetAndConsume(self->D_, i, new_GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_initWithGeogebraCommonKernelConstruction_(cons));
  }
  [self setInputOutput];
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initForNearToRelationship(self);
  [self compute];
}

GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *new_GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(GeogebraCommonKernelConstruction *cons, id<GeogebraCommonKernelKernelNDGeoLineND> g, GeogebraCommonKernelKernelNDGeoQuadricND *q) {
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self = [GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D alloc];
  GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoLineND_withGeogebraCommonKernelKernelNDGeoQuadricND_(self, cons, g, q);
  return self;
}

void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_checkIsOnLineWithGeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D_(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self, GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *p) {
  if (![((GeogebraCommonGeogebra3DKernel3DGeosGeoPoint3D *) nil_chk(p)) isDefined]) return;
  if (![((id<GeogebraCommonKernelKernelNDGeoLineND>) nil_chk(self->g_)) respectLimitedPathWithGeogebraCommonKernelMatrixCoords:[p getCoords] withDouble:GeogebraCommonKernelKernel_MIN_PRECISION]) [p setUndefined];
}

void GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D_initForNearToRelationship(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D *self) {
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DKernel3DAlgosAlgoIntersectLineQuadric3D)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/arithmetic/MyVecNode.java
//


#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/arithmetic/ExpressionNode.h"
#include "geogebra/common/kernel/arithmetic/ExpressionNodeConstants.h"
#include "geogebra/common/kernel/arithmetic/ExpressionValue.h"
#include "geogebra/common/kernel/arithmetic/Inspecting.h"
#include "geogebra/common/kernel/arithmetic/MyVecNode.h"
#include "geogebra/common/kernel/arithmetic/NumberValue.h"
#include "geogebra/common/kernel/arithmetic/Traversing.h"
#include "geogebra/common/kernel/arithmetic/ValidExpression.h"
#include "geogebra/common/kernel/geos/GeoVec2D.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/main/Localization.h"
#include "geogebra/common/main/MyParseError.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/util/HashSet.h"

@interface GeogebraCommonKernelArithmeticMyVecNode () {
 @public
  jint mode_;
  GeogebraCommonKernelKernel *kernel_;
  jboolean isCASVector__;
}

- (void)setCoordsWithGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)x
                 withGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)y;

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl
                                                 withBoolean:(jboolean)values;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelArithmeticMyVecNode, kernel_, GeogebraCommonKernelKernel *)

__attribute__((unused)) static void GeogebraCommonKernelArithmeticMyVecNode_setCoordsWithGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(GeogebraCommonKernelArithmeticMyVecNode *self, id<GeogebraCommonKernelArithmeticExpressionValue> x, id<GeogebraCommonKernelArithmeticExpressionValue> y);

__attribute__((unused)) static IOSDoubleArray *GeogebraCommonKernelArithmeticMyVecNode_getCoords(GeogebraCommonKernelArithmeticMyVecNode *self);

__attribute__((unused)) static NSString *GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(GeogebraCommonKernelArithmeticMyVecNode *self, GeogebraCommonKernelStringTemplate *tpl, jboolean values);

@implementation GeogebraCommonKernelArithmeticMyVecNode

- (instancetype)initWithGeogebraCommonKernelKernel:(GeogebraCommonKernelKernel *)kernel {
  GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_(self, kernel);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelKernel:(GeogebraCommonKernelKernel *)kernel
 withGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)x
 withGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)y {
  GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(self, kernel, x, y);
  return self;
}

- (id<GeogebraCommonKernelArithmeticExpressionValue>)deepCopyWithGeogebraCommonKernelKernel:(GeogebraCommonKernelKernel *)kernel1 {
  GeogebraCommonKernelArithmeticMyVecNode *ret = [new_GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(kernel1, [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) deepCopyWithGeogebraCommonKernelKernel:kernel1], [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) deepCopyWithGeogebraCommonKernelKernel:kernel1]) autorelease];
  ret->mode_ = mode_;
  if ([self isCASVector]) {
    [ret setCASVector];
  }
  return ret;
}

- (void)resolveVariables {
  [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) resolveVariables];
  [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) resolveVariables];
}

- (id<GeogebraCommonKernelArithmeticExpressionValue>)getX {
  return x_;
}

- (id<GeogebraCommonKernelArithmeticExpressionValue>)getY {
  return y_;
}

- (void)setPolarCoordsWithGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)r
                      withGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)phi {
  GeogebraCommonKernelArithmeticMyVecNode_setCoordsWithGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(self, r, phi);
  mode_ = GeogebraCommonKernelKernel_COORD_POLAR;
}

- (jboolean)hasPolarCoords {
  return mode_ == GeogebraCommonKernelKernel_COORD_POLAR;
}

- (void)setCoordsWithGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)x
                 withGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)y {
  GeogebraCommonKernelArithmeticMyVecNode_setCoordsWithGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(self, x, y);
}

- (IOSDoubleArray *)getCoords {
  return GeogebraCommonKernelArithmeticMyVecNode_getCoords(self);
}

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(self, tpl, NO);
}

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl
                                                 withBoolean:(jboolean)values {
  return GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(self, tpl, values);
}

- (NSString *)toValueStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(self, tpl, YES);
}

- (NSString *)toLaTeXStringWithBoolean:(jboolean)symbolic
withGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(self, tpl, !symbolic);
}

- (GeogebraCommonKernelGeosGeoVec2D *)getVector {
  GeogebraCommonKernelGeosGeoVec2D *ret = [new_GeogebraCommonKernelGeosGeoVec2D_initWithGeogebraCommonKernelKernel_withDoubleArray_(kernel_, GeogebraCommonKernelArithmeticMyVecNode_getCoords(self)) autorelease];
  [ret setModeWithInt:mode_];
  return ret;
}

- (jboolean)isConstant {
  return [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) isConstant] && [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) isConstant];
}

- (jboolean)isLeaf {
  return YES;
}

- (jint)getMode {
  return mode_;
}

- (JavaUtilHashSet *)getVariables {
  JavaUtilHashSet *temp, *varset = [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) getVariables];
  if (varset == nil) {
    varset = [new_JavaUtilHashSet_init() autorelease];
  }
  temp = [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) getVariables];
  if (temp != nil) [((JavaUtilHashSet *) nil_chk(varset)) addAllWithJavaUtilCollection:temp];
  return varset;
}

- (void)setModeWithInt:(jint)mode {
  self->mode_ = mode;
}

- (jboolean)evaluatesToNonComplex2DVector {
  return self->mode_ != GeogebraCommonKernelKernel_COORD_COMPLEX;
}

- (jboolean)evaluatesToVectorNotPoint {
  return isCASVector__;
}

- (jboolean)isNumberValue {
  return NO;
}

- (jboolean)containsWithGeogebraCommonKernelArithmeticExpressionValue:(id<GeogebraCommonKernelArithmeticExpressionValue>)ev {
  return ev == self;
}

- (NSString *)toOutputValueStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return [self toValueStringWithGeogebraCommonKernelStringTemplate:tpl];
}

- (GeogebraCommonKernelKernel *)getKernel {
  return kernel_;
}

- (id<GeogebraCommonKernelArithmeticExpressionValue>)traverseWithGeogebraCommonKernelArithmeticTraversing:(id<GeogebraCommonKernelArithmeticTraversing>)t {
  id<GeogebraCommonKernelArithmeticExpressionValue> v = [((id<GeogebraCommonKernelArithmeticTraversing>) nil_chk(t)) processWithGeogebraCommonKernelArithmeticExpressionValue:self];
  if (v != self) return v;
  GeogebraCommonKernelArithmeticMyVecNode_set_x_(self, [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) traverseWithGeogebraCommonKernelArithmeticTraversing:t]);
  GeogebraCommonKernelArithmeticMyVecNode_set_y_(self, [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) traverseWithGeogebraCommonKernelArithmeticTraversing:t]);
  return self;
}

- (jboolean)inspectWithGeogebraCommonKernelArithmeticInspecting:(id<GeogebraCommonKernelArithmeticInspecting>)t {
  return [((id<GeogebraCommonKernelArithmeticInspecting>) nil_chk(t)) checkWithGeogebraCommonKernelArithmeticExpressionValue:self] || [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(x_)) inspectWithGeogebraCommonKernelArithmeticInspecting:t] || [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(y_)) inspectWithGeogebraCommonKernelArithmeticInspecting:t];
}

- (jboolean)hasCoords {
  return YES;
}

- (void)setCASVector {
  isCASVector__ = YES;
}

- (GeogebraCommonKernelArithmeticExpressionNode *)wrap {
  return [new_GeogebraCommonKernelArithmeticExpressionNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_(kernel_, self) autorelease];
}

- (jboolean)isCASVector {
  return isCASVector__;
}

- (jint)getDimension {
  return 2;
}

- (void)dealloc {
  RELEASE_(x_);
  RELEASE_(y_);
  RELEASE_(kernel_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelKernel:", "MyVecNode", NULL, 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelKernel:withGeogebraCommonKernelArithmeticExpressionValue:withGeogebraCommonKernelArithmeticExpressionValue:", "MyVecNode", NULL, 0x1, NULL, NULL },
    { "deepCopyWithGeogebraCommonKernelKernel:", "deepCopy", "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", 0x1, NULL, NULL },
    { "resolveVariables", NULL, "V", 0x1, NULL, NULL },
    { "getX", NULL, "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", 0x1, NULL, NULL },
    { "getY", NULL, "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", 0x1, NULL, NULL },
    { "setPolarCoordsWithGeogebraCommonKernelArithmeticExpressionValue:withGeogebraCommonKernelArithmeticExpressionValue:", "setPolarCoords", "V", 0x1, NULL, NULL },
    { "hasPolarCoords", NULL, "Z", 0x1, NULL, NULL },
    { "setCoordsWithGeogebraCommonKernelArithmeticExpressionValue:withGeogebraCommonKernelArithmeticExpressionValue:", "setCoords", "V", 0x2, NULL, NULL },
    { "getCoords", NULL, "[D", 0x11, NULL, NULL },
    { "toStringWithGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toStringWithGeogebraCommonKernelStringTemplate:withBoolean:", "toString", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "toValueStringWithGeogebraCommonKernelStringTemplate:", "toValueString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toLaTeXStringWithBoolean:withGeogebraCommonKernelStringTemplate:", "toLaTeXString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getVector", NULL, "Lgeogebra.common.kernel.geos.GeoVec2D;", 0x1, NULL, NULL },
    { "isConstant", NULL, "Z", 0x1, NULL, NULL },
    { "isLeaf", NULL, "Z", 0x1, NULL, NULL },
    { "getMode", NULL, "I", 0x1, NULL, NULL },
    { "getVariables", NULL, "Ljava.util.HashSet;", 0x1, NULL, NULL },
    { "setModeWithInt:", "setMode", "V", 0x1, NULL, NULL },
    { "evaluatesToNonComplex2DVector", NULL, "Z", 0x1, NULL, NULL },
    { "evaluatesToVectorNotPoint", NULL, "Z", 0x1, NULL, NULL },
    { "isNumberValue", NULL, "Z", 0x1, NULL, NULL },
    { "containsWithGeogebraCommonKernelArithmeticExpressionValue:", "contains", "Z", 0x11, NULL, NULL },
    { "toOutputValueStringWithGeogebraCommonKernelStringTemplate:", "toOutputValueString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getKernel", NULL, "Lgeogebra.common.kernel.Kernel;", 0x1, NULL, NULL },
    { "traverseWithGeogebraCommonKernelArithmeticTraversing:", "traverse", "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", 0x1, NULL, NULL },
    { "inspectWithGeogebraCommonKernelArithmeticInspecting:", "inspect", "Z", 0x1, NULL, NULL },
    { "hasCoords", NULL, "Z", 0x1, NULL, NULL },
    { "setCASVector", NULL, "V", 0x1, NULL, NULL },
    { "wrap", NULL, "Lgeogebra.common.kernel.arithmetic.ExpressionNode;", 0x1, NULL, NULL },
    { "isCASVector", NULL, "Z", 0x1, NULL, NULL },
    { "getDimension", NULL, "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "x_", NULL, 0x4, "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", NULL, NULL,  },
    { "y_", NULL, 0x4, "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", NULL, NULL,  },
    { "mode_", NULL, 0x2, "I", NULL, NULL,  },
    { "kernel_", NULL, 0x2, "Lgeogebra.common.kernel.Kernel;", NULL, NULL,  },
    { "isCASVector__", "isCASVector", 0x2, "Z", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelArithmeticMyVecNode = { 2, "MyVecNode", "geogebra.common.kernel.arithmetic", NULL, 0x1, 33, methods, 5, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelArithmeticMyVecNode;
}

@end

void GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_(GeogebraCommonKernelArithmeticMyVecNode *self, GeogebraCommonKernelKernel *kernel) {
  GeogebraCommonKernelArithmeticValidExpression_init(self);
  self->mode_ = GeogebraCommonKernelKernel_COORD_CARTESIAN;
  self->isCASVector__ = NO;
  GeogebraCommonKernelArithmeticMyVecNode_set_kernel_(self, kernel);
}

GeogebraCommonKernelArithmeticMyVecNode *new_GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_(GeogebraCommonKernelKernel *kernel) {
  GeogebraCommonKernelArithmeticMyVecNode *self = [GeogebraCommonKernelArithmeticMyVecNode alloc];
  GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_(self, kernel);
  return self;
}

void GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(GeogebraCommonKernelArithmeticMyVecNode *self, GeogebraCommonKernelKernel *kernel, id<GeogebraCommonKernelArithmeticExpressionValue> x, id<GeogebraCommonKernelArithmeticExpressionValue> y) {
  GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_(self, kernel);
  GeogebraCommonKernelArithmeticMyVecNode_setCoordsWithGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(self, x, y);
}

GeogebraCommonKernelArithmeticMyVecNode *new_GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(GeogebraCommonKernelKernel *kernel, id<GeogebraCommonKernelArithmeticExpressionValue> x, id<GeogebraCommonKernelArithmeticExpressionValue> y) {
  GeogebraCommonKernelArithmeticMyVecNode *self = [GeogebraCommonKernelArithmeticMyVecNode alloc];
  GeogebraCommonKernelArithmeticMyVecNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(self, kernel, x, y);
  return self;
}

void GeogebraCommonKernelArithmeticMyVecNode_setCoordsWithGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonKernelArithmeticExpressionValue_(GeogebraCommonKernelArithmeticMyVecNode *self, id<GeogebraCommonKernelArithmeticExpressionValue> x, id<GeogebraCommonKernelArithmeticExpressionValue> y) {
  GeogebraCommonKernelArithmeticMyVecNode_set_x_(self, x);
  GeogebraCommonKernelArithmeticMyVecNode_set_y_(self, y);
}

IOSDoubleArray *GeogebraCommonKernelArithmeticMyVecNode_getCoords(GeogebraCommonKernelArithmeticMyVecNode *self) {
  GeogebraCommonKernelStringTemplate *tpl = GeogebraCommonKernelStringTemplate_get_defaultTemplate_();
  id<GeogebraCommonKernelArithmeticExpressionValue> evx = [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(self->x_)) evaluateWithGeogebraCommonKernelStringTemplate:tpl];
  if (!([GeogebraCommonKernelArithmeticNumberValue_class_() isInstance:evx])) {
    IOSObjectArray *str = [IOSObjectArray arrayWithObjects:(id[]){ @"NumberExpected", [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(evx)) toStringWithGeogebraCommonKernelStringTemplate:tpl] } count:2 type:NSString_class_()];
    @throw [new_GeogebraCommonMainMyParseError_initWithGeogebraCommonMainLocalization_withNSStringArray_([((GeogebraCommonMainApp *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(self->kernel_)) getApplication])) getLocalization], str) autorelease];
  }
  id<GeogebraCommonKernelArithmeticExpressionValue> evy = [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(self->y_)) evaluateWithGeogebraCommonKernelStringTemplate:tpl];
  if (!([GeogebraCommonKernelArithmeticNumberValue_class_() isInstance:evy])) {
    IOSObjectArray *str = [IOSObjectArray arrayWithObjects:(id[]){ @"NumberExpected", [((id<GeogebraCommonKernelArithmeticExpressionValue>) nil_chk(evy)) toStringWithGeogebraCommonKernelStringTemplate:tpl] } count:2 type:NSString_class_()];
    @throw [new_GeogebraCommonMainMyParseError_initWithGeogebraCommonMainLocalization_withNSStringArray_([((GeogebraCommonMainApp *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(self->kernel_)) getApplication])) getLocalization], str) autorelease];
  }
  if (self->mode_ == GeogebraCommonKernelKernel_COORD_POLAR) {
    jdouble r = [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<GeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(evx, @protocol(GeogebraCommonKernelArithmeticNumberValue))))) getDouble];
    jdouble phi = [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<GeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(evy, @protocol(GeogebraCommonKernelArithmeticNumberValue))))) getDouble];
    IOSDoubleArray *ret = [IOSDoubleArray arrayWithDoubles:(jdouble[]){ r * JavaLangMath_cosWithDouble_(phi), r * JavaLangMath_sinWithDouble_(phi) } count:2];
    return ret;
  }
  IOSDoubleArray *ret = [IOSDoubleArray arrayWithDoubles:(jdouble[]){ [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<GeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(evx, @protocol(GeogebraCommonKernelArithmeticNumberValue))))) getDouble], [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(((id<GeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(evy, @protocol(GeogebraCommonKernelArithmeticNumberValue))))) getDouble] } count:2];
  return ret;
}

NSString *GeogebraCommonKernelArithmeticMyVecNode_toStringWithGeogebraCommonKernelStringTemplate_withBoolean_(GeogebraCommonKernelArithmeticMyVecNode *self, GeogebraCommonKernelStringTemplate *tpl, jboolean values) {
  JavaLangStringBuilder *sb = [new_JavaLangStringBuilder_init() autorelease];
  switch ([[((GeogebraCommonKernelStringTemplate *) nil_chk(tpl)) getStringType] ordinal]) {
    case GeogebraCommonKernelArithmeticExpressionNodeConstants_StringType_GIAC:
    if (self->mode_ == GeogebraCommonKernelKernel_COORD_POLAR) {
      [sb appendWithNSString:@"point(("];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->x_, values, tpl)];
      [sb appendWithNSString:@")*cos("];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->y_, values, tpl)];
      [sb appendWithNSString:@"),("];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->x_, values, tpl)];
      [sb appendWithNSString:@")*sin("];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->y_, values, tpl)];
      [sb appendWithNSString:@"))"];
    }
    else {
      [sb appendWithNSString:[self isCASVector] ? @"ggbvect[" : @"point("];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->x_, values, tpl)];
      [sb appendWithChar:','];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->y_, values, tpl)];
      [sb appendWithNSString:[self isCASVector] ? @"]" : @")"];
    }
    break;
    default:
    if (self->isCASVector__ && [((GeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum *) nil_chk([tpl getStringType])) isEqual:GeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum_get_LATEX()]) {
      [sb appendWithNSString:@" \\binom{"];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->x_, values, tpl)];
      [sb appendWithNSString:@"}{"];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->y_, values, tpl)];
      [sb appendWithNSString:@"}"];
    }
    else {
      [sb appendWithNSString:[tpl leftBracket]];
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->x_, values, tpl)];
      if (self->mode_ == GeogebraCommonKernelKernel_COORD_CARTESIAN) {
        [sb appendWithNSString:@", "];
      }
      else {
        [sb appendWithNSString:@"; "];
      }
      [sb appendWithNSString:GeogebraCommonKernelArithmeticValidExpression_printWithGeogebraCommonKernelArithmeticExpressionValue_withBoolean_withGeogebraCommonKernelStringTemplate_(self->y_, values, tpl)];
      [sb appendWithNSString:[tpl rightBracket]];
    }
    break;
  }
  return [sb description];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelArithmeticMyVecNode)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/discrete/signalprocessor/voronoi/VoronoiShared.java
//


#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/VoronoiShared.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VCircleEvent.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VSiteEvent.h"
#include "java/lang/Math.h"
#include "java/lang/RuntimeException.h"

@implementation GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared

+ (IOSDoubleArray *)solveQuadraticWithDouble:(jdouble)a
                                  withDouble:(jdouble)b
                                  withDouble:(jdouble)c {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_solveQuadraticWithDouble_withDouble_withDouble_(a, b, c);
}

+ (GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *)calculateCenterWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)u
                                                                                             withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)v
                                                                                             withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)w {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_calculateCenterWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(u, v, w);
}

- (instancetype)init {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "solveQuadraticWithDouble:withDouble:withDouble:", "solveQuadratic", "[D", 0x9, NULL, NULL },
    { "calculateCenterWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:", "calculateCenter", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.eventqueue.VCircleEvent;", 0x9, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared = { 2, "VoronoiShared", "geogebra.common.kernel.discrete.signalprocessor.voronoi", NULL, 0x1, 3, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared;
}

@end

IOSDoubleArray *GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_solveQuadraticWithDouble_withDouble_withDouble_(jdouble a, jdouble b, jdouble c) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_initialize();
  if (a == 0.0) {
    if (b != 0.0) {
      IOSDoubleArray *answers = [IOSDoubleArray arrayWithLength:1];
      *IOSDoubleArray_GetRef(answers, 0) = -1 * c / b;
      return answers;
    }
    else {
      @throw [new_JavaLangRuntimeException_initWithNSString_(@"Only given a non-zero c value") autorelease];
    }
  }
  else {
    IOSDoubleArray *answers = [IOSDoubleArray arrayWithLength:2];
    jdouble bsqrdplus4ac = JavaLangMath_sqrtWithDouble_(b * b - 4.0 * a * c);
    *IOSDoubleArray_GetRef(answers, 0) = (-b + bsqrdplus4ac) / (2.0 * a);
    *IOSDoubleArray_GetRef(answers, 1) = (-b - bsqrdplus4ac) / (2.0 * a);
    return answers;
  }
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_calculateCenterWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *u, GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v, GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *w) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_initialize();
  jdouble a = ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(u)) getX] - [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v)) getX]) * ([v getY] - [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(w)) getY]) - ([u getY] - [v getY]) * ([v getX] - [w getX]);
  if (a > 0) {
    jdouble b1 = ([u getX] - [v getX]) * ([u getX] + [v getX]) + ([u getY] - [v getY]) * ([u getY] + [v getY]);
    jdouble b2 = ([v getX] - [w getX]) * ([v getX] + [w getX]) + ([v getY] - [w getY]) * ([v getY] + [w getY]);
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *centerpoint = [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_init() autorelease];
    jdouble x = (b1 * ([v getY] - [w getY]) - b2 * ([u getY] - [v getY])) / (2.0 * a);
    jdouble center_y = (b2 * ([u getX] - [v getX]) - b1 * ([v getX] - [w getX])) / (2.0 * a);
    [centerpoint setXWithInt:J2ObjCFpToInt(x)];
    [centerpoint setYWithInt:J2ObjCFpToInt((center_y + JavaLangMath_sqrtWithDouble_((x - [u getX]) * (x - [u getX]) + (center_y - [u getY]) * (center_y - [u getY]))))];
    [centerpoint setCenterYWithInt:J2ObjCFpToInt(center_y)];
    return centerpoint;
  }
  else {
    return nil;
  }
}

void GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_init(GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared *self) {
  NSObject_init(self);
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared *new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_init() {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared *self = [GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared alloc];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared)

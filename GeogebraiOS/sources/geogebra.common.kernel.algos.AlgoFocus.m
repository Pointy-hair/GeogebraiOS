//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/algos/AlgoFocus.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/algos/AlgoFocus.h"
#include "geogebra/common/kernel/algos/ConstructionElement.h"
#include "geogebra/common/kernel/commands/Commands.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoPoint.h"
#include "geogebra/common/kernel/geos/GeoVec2D.h"
#include "geogebra/common/kernel/kernelND/GeoConicND.h"
#include "geogebra/common/kernel/kernelND/GeoConicNDConstants.h"
#include "geogebra/common/kernel/kernelND/GeoPointND.h"
#include "geogebra/common/main/Localization.h"

@interface GeogebraCommonKernelAlgosAlgoFocus () {
 @public
  jdouble temp1_, temp2_;
}

@end

__attribute__((unused)) static void GeogebraCommonKernelAlgosAlgoFocus_compute(GeogebraCommonKernelAlgosAlgoFocus *self);

@implementation GeogebraCommonKernelAlgosAlgoFocus

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                            withNSString:(NSString *)label
              withGeogebraCommonKernelKernelNDGeoConicND:(GeogebraCommonKernelKernelNDGeoConicND *)c {
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, label, c);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                       withNSStringArray:(IOSObjectArray *)labels
              withGeogebraCommonKernelKernelNDGeoConicND:(GeogebraCommonKernelKernelNDGeoConicND *)c {
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, labels, c);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
              withGeogebraCommonKernelKernelNDGeoConicND:(GeogebraCommonKernelKernelNDGeoConicND *)c {
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, c);
  return self;
}

- (void)createFocusWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons {
  GeogebraCommonKernelAlgosAlgoFocus_setAndConsume_focus_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonKernelGeosGeoPoint_class_()]);
  for (jint i = 0; i < focus_->size_; i++) {
    IOSObjectArray_SetAndConsume(focus_, i, new_GeogebraCommonKernelGeosGeoPoint_initWithGeogebraCommonKernelConstruction_(cons));
  }
}

- (GeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return GeogebraCommonKernelCommandsCommandsEnum_get_Focus();
}

- (void)setInputOutput {
  GeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:1 type:GeogebraCommonKernelGeosGeoElement_class_()]);
  IOSObjectArray_Set(input_, 0, c_);
  [super setOutputWithGeogebraCommonKernelGeosGeoElementArray:(IOSObjectArray *) check_class_cast(focus_, [IOSObjectArray class])];
  [self setDependencies];
}

- (GeogebraCommonKernelKernelNDGeoConicND *)getConic {
  return c_;
}

- (IOSObjectArray *)getFocus {
  return focus_;
}

- (void)compute {
  GeogebraCommonKernelAlgosAlgoFocus_compute(self);
}

- (void)setCoordsWithInt:(jint)i
              withDouble:(jdouble)x
              withDouble:(jdouble)y {
  [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(nil_chk(focus_), i))) setCoordsWithDouble:x withDouble:y withDouble:1.0];
}

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  return [((GeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"FocusOfA" withNSString:[((GeogebraCommonKernelKernelNDGeoConicND *) nil_chk(c_)) getLabelWithGeogebraCommonKernelStringTemplate:tpl]];
}

- (void)dealloc {
  RELEASE_(c_);
  RELEASE_(focus_);
  RELEASE_(b_);
  RELEASE_(eigenvec_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelConstruction:withNSString:withGeogebraCommonKernelKernelNDGeoConicND:", "AlgoFocus", NULL, 0x0, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withNSStringArray:withGeogebraCommonKernelKernelNDGeoConicND:", "AlgoFocus", NULL, 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withGeogebraCommonKernelKernelNDGeoConicND:", "AlgoFocus", NULL, 0x0, NULL, NULL },
    { "createFocusWithGeogebraCommonKernelConstruction:", "createFocus", "V", 0x4, NULL, NULL },
    { "getClassName", NULL, "Lgeogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "getConic", NULL, "Lgeogebra.common.kernel.kernelND.GeoConicND;", 0x0, NULL, NULL },
    { "getFocus", NULL, "[Lgeogebra.common.kernel.kernelND.GeoPointND;", 0x1, NULL, NULL },
    { "compute", NULL, "V", 0x11, NULL, NULL },
    { "setCoordsWithInt:withDouble:withDouble:", "setCoords", "V", 0x4, NULL, NULL },
    { "toStringWithGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "c_", NULL, 0x4, "Lgeogebra.common.kernel.kernelND.GeoConicND;", NULL, NULL,  },
    { "focus_", NULL, 0x4, "[Lgeogebra.common.kernel.kernelND.GeoPointND;", NULL, NULL,  },
    { "temp1_", NULL, 0x82, "D", NULL, NULL,  },
    { "temp2_", NULL, 0x82, "D", NULL, NULL,  },
    { "b_", NULL, 0x0, "Lgeogebra.common.kernel.geos.GeoVec2D;", NULL, NULL,  },
    { "eigenvec_", NULL, 0x0, "[Lgeogebra.common.kernel.geos.GeoVec2D;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelAlgosAlgoFocus = { 2, "AlgoFocus", "geogebra.common.kernel.algos", NULL, 0x1, 11, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelAlgosAlgoFocus;
}

@end

void GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelAlgosAlgoFocus *self, GeogebraCommonKernelConstruction *cons, NSString *label, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, c);
  GeogebraCommonKernelGeosGeoElement_setLabelsWithNSString_withGeogebraCommonKernelGeosGeoElementArray_(label, (IOSObjectArray *) check_class_cast(self->focus_, [IOSObjectArray class]));
}

GeogebraCommonKernelAlgosAlgoFocus *new_GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelConstruction *cons, NSString *label, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoFocus *self = [GeogebraCommonKernelAlgosAlgoFocus alloc];
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, label, c);
  return self;
}

void GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelAlgosAlgoFocus *self, GeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, c);
  GeogebraCommonKernelGeosGeoElement_setLabelsWithNSStringArray_withGeogebraCommonKernelGeosGeoElementArray_(labels, (IOSObjectArray *) check_class_cast(self->focus_, [IOSObjectArray class]));
}

GeogebraCommonKernelAlgosAlgoFocus *new_GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelConstruction *cons, IOSObjectArray *labels, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoFocus *self = [GeogebraCommonKernelAlgosAlgoFocus alloc];
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withNSStringArray_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, labels, c);
  return self;
}

void GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelAlgosAlgoFocus *self, GeogebraCommonKernelConstruction *cons, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoElement_initWithGeogebraCommonKernelConstruction_(self, cons);
  GeogebraCommonKernelAlgosAlgoFocus_set_c_(self, c);
  [self createFocusWithGeogebraCommonKernelConstruction:cons];
  [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(nil_chk(self->focus_), 1))) showUndefinedInAlgebraViewWithBoolean:NO];
  [self setInputOutput];
  GeogebraCommonKernelAlgosAlgoFocus_set_b_(self, ((GeogebraCommonKernelKernelNDGeoConicND *) nil_chk(c))->b_);
  GeogebraCommonKernelAlgosAlgoFocus_set_eigenvec_(self, c->eigenvec_);
  GeogebraCommonKernelAlgosAlgoFocus_compute(self);
}

GeogebraCommonKernelAlgosAlgoFocus *new_GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelConstruction *cons, GeogebraCommonKernelKernelNDGeoConicND *c) {
  GeogebraCommonKernelAlgosAlgoFocus *self = [GeogebraCommonKernelAlgosAlgoFocus alloc];
  GeogebraCommonKernelAlgosAlgoFocus_initWithGeogebraCommonKernelConstruction_withGeogebraCommonKernelKernelNDGeoConicND_(self, cons, c);
  return self;
}

void GeogebraCommonKernelAlgosAlgoFocus_compute(GeogebraCommonKernelAlgosAlgoFocus *self) {
  switch (((GeogebraCommonKernelKernelNDGeoConicND *) nil_chk(self->c_))->type_) {
    case GeogebraCommonKernelKernelNDGeoConicNDConstants_CONIC_CIRCLE:
    [self setCoordsWithInt:0 withDouble:[((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(self->b_)) getX] withDouble:[self->b_ getY]];
    [self setCoordsWithInt:1 withDouble:[self->b_ getX] withDouble:[self->b_ getY]];
    break;
    case GeogebraCommonKernelKernelNDGeoConicNDConstants_CONIC_ELLIPSE:
    case GeogebraCommonKernelKernelNDGeoConicNDConstants_CONIC_HYPERBOLA:
    self->temp1_ = self->c_->linearEccentricity_ * [((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(IOSObjectArray_Get(nil_chk(self->eigenvec_), 0))) getX];
    self->temp2_ = self->c_->linearEccentricity_ * [((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(IOSObjectArray_Get(self->eigenvec_, 0))) getY];
    [self setCoordsWithInt:0 withDouble:[((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(self->b_)) getX] - self->temp1_ withDouble:[self->b_ getY] - self->temp2_];
    [self setCoordsWithInt:1 withDouble:[self->b_ getX] + self->temp1_ withDouble:[self->b_ getY] + self->temp2_];
    break;
    case GeogebraCommonKernelKernelNDGeoConicNDConstants_CONIC_PARABOLA:
    self->temp1_ = self->c_->p_ / 2;
    [self setCoordsWithInt:0 withDouble:[((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(self->b_)) getX] + self->temp1_ * [((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(IOSObjectArray_Get(nil_chk(self->eigenvec_), 0))) getX] withDouble:[self->b_ getY] + self->temp1_ * [((GeogebraCommonKernelGeosGeoVec2D *) nil_chk(IOSObjectArray_Get(self->eigenvec_, 0))) getY]];
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(nil_chk(self->focus_), 1))) setUndefined];
    break;
    default:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(nil_chk(self->focus_), 0))) setUndefined];
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(IOSObjectArray_Get(self->focus_, 1))) setUndefined];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelAlgosAlgoFocus)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/org/apache/commons/math/transform/FastCosineTransformer.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "org/apache/commons/math/FunctionEvaluationException.h"
#include "org/apache/commons/math/MathRuntimeException.h"
#include "org/apache/commons/math/analysis/UnivariateRealFunction.h"
#include "org/apache/commons/math/complex/Complex.h"
#include "org/apache/commons/math/exception/util/LocalizedFormats.h"
#include "org/apache/commons/math/transform/FastCosineTransformer.h"
#include "org/apache/commons/math/transform/FastFourierTransformer.h"
#include "org/apache/commons/math/util/FastMath.h"

@implementation OrgApacheCommonsMathTransformFastCosineTransformer

- (instancetype)init {
  OrgApacheCommonsMathTransformFastCosineTransformer_init(self);
  return self;
}

- (IOSDoubleArray *)transformWithDoubleArray:(IOSDoubleArray *)f {
  return [self fctWithDoubleArray:f];
}

- (IOSDoubleArray *)transformWithOrgApacheCommonsMathAnalysisUnivariateRealFunction:(id<OrgApacheCommonsMathAnalysisUnivariateRealFunction>)f
                                                                         withDouble:(jdouble)min
                                                                         withDouble:(jdouble)max
                                                                            withInt:(jint)n {
  IOSDoubleArray *data = OrgApacheCommonsMathTransformFastFourierTransformer_sampleWithOrgApacheCommonsMathAnalysisUnivariateRealFunction_withDouble_withDouble_withInt_(f, min, max, n);
  return [self fctWithDoubleArray:data];
}

- (IOSDoubleArray *)transform2WithDoubleArray:(IOSDoubleArray *)f {
  jdouble scaling_coefficient = OrgApacheCommonsMathUtilFastMath_sqrtWithDouble_(2.0 / (((IOSDoubleArray *) nil_chk(f))->size_ - 1));
  return OrgApacheCommonsMathTransformFastFourierTransformer_scaleArrayWithDoubleArray_withDouble_([self fctWithDoubleArray:f], scaling_coefficient);
}

- (IOSDoubleArray *)transform2WithOrgApacheCommonsMathAnalysisUnivariateRealFunction:(id<OrgApacheCommonsMathAnalysisUnivariateRealFunction>)f
                                                                          withDouble:(jdouble)min
                                                                          withDouble:(jdouble)max
                                                                             withInt:(jint)n {
  IOSDoubleArray *data = OrgApacheCommonsMathTransformFastFourierTransformer_sampleWithOrgApacheCommonsMathAnalysisUnivariateRealFunction_withDouble_withDouble_withInt_(f, min, max, n);
  jdouble scaling_coefficient = OrgApacheCommonsMathUtilFastMath_sqrtWithDouble_(2.0 / (n - 1));
  return OrgApacheCommonsMathTransformFastFourierTransformer_scaleArrayWithDoubleArray_withDouble_([self fctWithDoubleArray:data], scaling_coefficient);
}

- (IOSDoubleArray *)inversetransformWithDoubleArray:(IOSDoubleArray *)f {
  jdouble scaling_coefficient = 2.0 / (((IOSDoubleArray *) nil_chk(f))->size_ - 1);
  return OrgApacheCommonsMathTransformFastFourierTransformer_scaleArrayWithDoubleArray_withDouble_([self fctWithDoubleArray:f], scaling_coefficient);
}

- (IOSDoubleArray *)inversetransformWithOrgApacheCommonsMathAnalysisUnivariateRealFunction:(id<OrgApacheCommonsMathAnalysisUnivariateRealFunction>)f
                                                                                withDouble:(jdouble)min
                                                                                withDouble:(jdouble)max
                                                                                   withInt:(jint)n {
  IOSDoubleArray *data = OrgApacheCommonsMathTransformFastFourierTransformer_sampleWithOrgApacheCommonsMathAnalysisUnivariateRealFunction_withDouble_withDouble_withInt_(f, min, max, n);
  jdouble scaling_coefficient = 2.0 / (n - 1);
  return OrgApacheCommonsMathTransformFastFourierTransformer_scaleArrayWithDoubleArray_withDouble_([self fctWithDoubleArray:data], scaling_coefficient);
}

- (IOSDoubleArray *)inversetransform2WithDoubleArray:(IOSDoubleArray *)f {
  return [self transform2WithDoubleArray:f];
}

- (IOSDoubleArray *)inversetransform2WithOrgApacheCommonsMathAnalysisUnivariateRealFunction:(id<OrgApacheCommonsMathAnalysisUnivariateRealFunction>)f
                                                                                 withDouble:(jdouble)min
                                                                                 withDouble:(jdouble)max
                                                                                    withInt:(jint)n {
  return [self transform2WithOrgApacheCommonsMathAnalysisUnivariateRealFunction:f withDouble:min withDouble:max withInt:n];
}

- (IOSDoubleArray *)fctWithDoubleArray:(IOSDoubleArray *)f {
  IOSDoubleArray *transformed = [IOSDoubleArray arrayWithLength:((IOSDoubleArray *) nil_chk(f))->size_];
  jint n = f->size_ - 1;
  if (!OrgApacheCommonsMathTransformFastFourierTransformer_isPowerOf2WithLong_(n)) {
    @throw OrgApacheCommonsMathMathRuntimeException_createIllegalArgumentExceptionWithOrgApacheCommonsMathExceptionUtilLocalizable_withNSObjectArray_(OrgApacheCommonsMathExceptionUtilLocalizedFormatsEnum_get_NOT_POWER_OF_TWO_PLUS_ONE(), [IOSObjectArray arrayWithObjects:(id[]){ JavaLangInteger_valueOfWithInt_(f->size_) } count:1 type:NSObject_class_()]);
  }
  if (n == 1) {
    *IOSDoubleArray_GetRef(transformed, 0) = 0.5 * (IOSDoubleArray_Get(f, 0) + IOSDoubleArray_Get(f, 1));
    *IOSDoubleArray_GetRef(transformed, 1) = 0.5 * (IOSDoubleArray_Get(f, 0) - IOSDoubleArray_Get(f, 1));
    return transformed;
  }
  IOSDoubleArray *x = [IOSDoubleArray arrayWithLength:n];
  *IOSDoubleArray_GetRef(x, 0) = 0.5 * (IOSDoubleArray_Get(f, 0) + IOSDoubleArray_Get(f, n));
  *IOSDoubleArray_GetRef(x, RShift32(n, 1)) = IOSDoubleArray_Get(f, RShift32(n, 1));
  jdouble t1 = 0.5 * (IOSDoubleArray_Get(f, 0) - IOSDoubleArray_Get(f, n));
  for (jint i = 1; i < (RShift32(n, 1)); i++) {
    jdouble a = 0.5 * (IOSDoubleArray_Get(f, i) + IOSDoubleArray_Get(f, n - i));
    jdouble b = OrgApacheCommonsMathUtilFastMath_sinWithDouble_(i * OrgApacheCommonsMathUtilFastMath_PI / n) * (IOSDoubleArray_Get(f, i) - IOSDoubleArray_Get(f, n - i));
    jdouble c = OrgApacheCommonsMathUtilFastMath_cosWithDouble_(i * OrgApacheCommonsMathUtilFastMath_PI / n) * (IOSDoubleArray_Get(f, i) - IOSDoubleArray_Get(f, n - i));
    *IOSDoubleArray_GetRef(x, i) = a - b;
    *IOSDoubleArray_GetRef(x, n - i) = a + b;
    t1 += c;
  }
  OrgApacheCommonsMathTransformFastFourierTransformer *transformer = [new_OrgApacheCommonsMathTransformFastFourierTransformer_init() autorelease];
  IOSObjectArray *y = [transformer transformWithDoubleArray:x];
  *IOSDoubleArray_GetRef(transformed, 0) = [((OrgApacheCommonsMathComplexComplex *) nil_chk(IOSObjectArray_Get(nil_chk(y), 0))) getReal];
  *IOSDoubleArray_GetRef(transformed, 1) = t1;
  for (jint i = 1; i < (RShift32(n, 1)); i++) {
    *IOSDoubleArray_GetRef(transformed, 2 * i) = [((OrgApacheCommonsMathComplexComplex *) nil_chk(IOSObjectArray_Get(y, i))) getReal];
    *IOSDoubleArray_GetRef(transformed, 2 * i + 1) = IOSDoubleArray_Get(transformed, 2 * i - 1) - [((OrgApacheCommonsMathComplexComplex *) nil_chk(IOSObjectArray_Get(y, i))) getImaginary];
  }
  *IOSDoubleArray_GetRef(transformed, n) = [((OrgApacheCommonsMathComplexComplex *) nil_chk(IOSObjectArray_Get(y, RShift32(n, 1)))) getReal];
  return transformed;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "FastCosineTransformer", NULL, 0x1, NULL, NULL },
    { "transformWithDoubleArray:", "transform", "[D", 0x1, "Ljava.lang.IllegalArgumentException;", NULL },
    { "transformWithOrgApacheCommonsMathAnalysisUnivariateRealFunction:withDouble:withDouble:withInt:", "transform", "[D", 0x1, "Lorg.apache.commons.math.FunctionEvaluationException;Ljava.lang.IllegalArgumentException;", NULL },
    { "transform2WithDoubleArray:", "transform2", "[D", 0x1, "Ljava.lang.IllegalArgumentException;", NULL },
    { "transform2WithOrgApacheCommonsMathAnalysisUnivariateRealFunction:withDouble:withDouble:withInt:", "transform2", "[D", 0x1, "Lorg.apache.commons.math.FunctionEvaluationException;Ljava.lang.IllegalArgumentException;", NULL },
    { "inversetransformWithDoubleArray:", "inversetransform", "[D", 0x1, "Ljava.lang.IllegalArgumentException;", NULL },
    { "inversetransformWithOrgApacheCommonsMathAnalysisUnivariateRealFunction:withDouble:withDouble:withInt:", "inversetransform", "[D", 0x1, "Lorg.apache.commons.math.FunctionEvaluationException;Ljava.lang.IllegalArgumentException;", NULL },
    { "inversetransform2WithDoubleArray:", "inversetransform2", "[D", 0x1, "Ljava.lang.IllegalArgumentException;", NULL },
    { "inversetransform2WithOrgApacheCommonsMathAnalysisUnivariateRealFunction:withDouble:withDouble:withInt:", "inversetransform2", "[D", 0x1, "Lorg.apache.commons.math.FunctionEvaluationException;Ljava.lang.IllegalArgumentException;", NULL },
    { "fctWithDoubleArray:", "fct", "[D", 0x4, "Ljava.lang.IllegalArgumentException;", NULL },
  };
  static const J2ObjcClassInfo _OrgApacheCommonsMathTransformFastCosineTransformer = { 2, "FastCosineTransformer", "org.apache.commons.math.transform", NULL, 0x1, 10, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_OrgApacheCommonsMathTransformFastCosineTransformer;
}

@end

void OrgApacheCommonsMathTransformFastCosineTransformer_init(OrgApacheCommonsMathTransformFastCosineTransformer *self) {
  NSObject_init(self);
}

OrgApacheCommonsMathTransformFastCosineTransformer *new_OrgApacheCommonsMathTransformFastCosineTransformer_init() {
  OrgApacheCommonsMathTransformFastCosineTransformer *self = [OrgApacheCommonsMathTransformFastCosineTransformer alloc];
  OrgApacheCommonsMathTransformFastCosineTransformer_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(OrgApacheCommonsMathTransformFastCosineTransformer)

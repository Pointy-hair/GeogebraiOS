//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/euclidian/MyButton.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "geogebra/common/awt/GBasicStroke.h"
#include "geogebra/common/awt/GBufferedImage.h"
#include "geogebra/common/awt/GColor.h"
#include "geogebra/common/awt/GFont.h"
#include "geogebra/common/awt/GFontRenderContext.h"
#include "geogebra/common/awt/GGradientPaint.h"
#include "geogebra/common/awt/GGraphics2D.h"
#include "geogebra/common/awt/GPaint.h"
#include "geogebra/common/awt/GRectangle.h"
#include "geogebra/common/awt/MyImage.h"
#include "geogebra/common/awt/font/GTextLayout.h"
#include "geogebra/common/euclidian/EuclidianStatic.h"
#include "geogebra/common/euclidian/EuclidianView.h"
#include "geogebra/common/euclidian/MyButton.h"
#include "geogebra/common/factories/AwtFactory.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/geos/GeoButton.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoText.h"
#include "geogebra/common/kernel/geos/TextProperties.h"
#include "java/lang/Math.h"

#define GeogebraCommonEuclidianMyButton_margin 10
#define GeogebraCommonEuclidianMyButton_minSize 24
#define GeogebraCommonEuclidianMyButton_arcSize 10

@interface GeogebraCommonEuclidianMyButton () {
 @public
  GeogebraCommonKernelGeosGeoButton *geoButton_;
  GeogebraCommonEuclidianEuclidianView *view_;
  jint x_, y_;
  jboolean selected_;
  NSString *text_;
  GeogebraCommonAwtGFont *font_;
  jboolean pressed_, draggedOrContext_;
  jfloat textHeight_;
  jfloat textWidth_;
}

- (NSString *)getCaption;

- (void)resizeWithGeogebraCommonAwtGGraphics2D:(id<GeogebraCommonAwtGGraphics2D>)g
                                       withInt:(jint)imgGap;

- (void)setForegroundWithGeogebraCommonAwtGColor:(GeogebraCommonAwtGColor *)white;

- (jboolean)isSelected;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonEuclidianMyButton, geoButton_, GeogebraCommonKernelGeosGeoButton *)
J2OBJC_FIELD_SETTER(GeogebraCommonEuclidianMyButton, view_, GeogebraCommonEuclidianEuclidianView *)
J2OBJC_FIELD_SETTER(GeogebraCommonEuclidianMyButton, text_, NSString *)
J2OBJC_FIELD_SETTER(GeogebraCommonEuclidianMyButton, font_, GeogebraCommonAwtGFont *)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, margin, jint)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, minSize, jint)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, arcSize, jint)

static jfloat GeogebraCommonEuclidianMyButton_marginTopMultiplier_ = 0.6f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, marginTopMultiplier_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonEuclidianMyButton, marginTopMultiplier_, jfloat)

static jfloat GeogebraCommonEuclidianMyButton_marginBottomMultiplier_ = 0.5f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, marginBottomMultiplier_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonEuclidianMyButton, marginBottomMultiplier_, jfloat)

static jfloat GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ = 1.0f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, marginLeftMultiplier_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonEuclidianMyButton, marginLeftMultiplier_, jfloat)

static jfloat GeogebraCommonEuclidianMyButton_marginRightMultiplier_ = 1.0f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonEuclidianMyButton, marginRightMultiplier_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonEuclidianMyButton, marginRightMultiplier_, jfloat)

__attribute__((unused)) static NSString *GeogebraCommonEuclidianMyButton_getCaption(GeogebraCommonEuclidianMyButton *self);

__attribute__((unused)) static void GeogebraCommonEuclidianMyButton_resizeWithGeogebraCommonAwtGGraphics2D_withInt_(GeogebraCommonEuclidianMyButton *self, id<GeogebraCommonAwtGGraphics2D> g, jint imgGap);

__attribute__((unused)) static void GeogebraCommonEuclidianMyButton_setForegroundWithGeogebraCommonAwtGColor_(GeogebraCommonEuclidianMyButton *self, GeogebraCommonAwtGColor *white);

__attribute__((unused)) static jboolean GeogebraCommonEuclidianMyButton_isSelected(GeogebraCommonEuclidianMyButton *self);

@implementation GeogebraCommonEuclidianMyButton

- (instancetype)initWithGeogebraCommonKernelGeosGeoButton:(GeogebraCommonKernelGeosGeoButton *)button
                 withGeogebraCommonEuclidianEuclidianView:(GeogebraCommonEuclidianEuclidianView *)view {
  GeogebraCommonEuclidianMyButton_initWithGeogebraCommonKernelGeosGeoButton_withGeogebraCommonEuclidianEuclidianView_(self, button, view);
  return self;
}

- (NSString *)getCaption {
  return GeogebraCommonEuclidianMyButton_getCaption(self);
}

- (void)paintComponentWithGeogebraCommonAwtGGraphics2D:(id<GeogebraCommonAwtGGraphics2D>)g {
  [((GeogebraCommonEuclidianEuclidianView *) nil_chk(view_)) setAntialiasingWithGeogebraCommonAwtGGraphics2D:g];
  GeogebraCommonEuclidianMyButton_set_font_(self, [((GeogebraCommonAwtGFont *) nil_chk(font_)) deriveFontWithInt:[((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getFontStyle] withInt:J2ObjCFpToInt(([geoButton_ getFontSizeMultiplier] * 12))]);
  [((id<GeogebraCommonAwtGGraphics2D>) nil_chk(g)) setFontWithGeogebraCommonAwtGFont:font_];
  jboolean hasText = ((jint) [((NSString *) nil_chk(GeogebraCommonEuclidianMyButton_getCaption(self))) length]) > 0;
  jint imgHeight = 0;
  jint imgWidth = 0;
  jint imgGap = 0;
  textHeight_ = 0;
  textWidth_ = 0;
  if ([geoButton_ getFillImage] != nil) {
    imgHeight = [((id<GeogebraCommonAwtMyImage>) nil_chk([geoButton_ getFillImage])) getHeight];
    imgWidth = [((id<GeogebraCommonAwtMyImage>) nil_chk([geoButton_ getFillImage])) getWidth];
    if (hasText) imgGap = 4;
  }
  id<GeogebraCommonAwtFontGTextLayout> t = nil;
  if (hasText) {
    t = [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newTextLayoutWithNSString:GeogebraCommonEuclidianMyButton_getCaption(self) withGeogebraCommonAwtGFont:font_ withGeogebraCommonAwtGFontRenderContext:[g getFontRenderContext]];
    textHeight_ = [((id<GeogebraCommonAwtFontGTextLayout>) nil_chk(t)) getAscent] + [t getDescent];
    textWidth_ = [t getAdvance];
  }
  if ([geoButton_ isFixedSize] && (J2ObjCFpToInt(textHeight_) + imgGap + (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin > [geoButton_ getHeight] || J2ObjCFpToInt(textWidth_) + (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin > [geoButton_ getWidth])) {
    GeogebraCommonEuclidianMyButton_resizeWithGeogebraCommonAwtGGraphics2D_withInt_(self, g, imgGap);
    return;
  }
  jint currentWidth = JavaLangMath_maxWithInt_withInt_(J2ObjCFpToInt((textWidth_ + (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin)), GeogebraCommonEuclidianMyButton_minSize);
  currentWidth = JavaLangMath_maxWithInt_withInt_(currentWidth, J2ObjCFpToInt((imgWidth + (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin)));
  jint currentHeight = JavaLangMath_maxWithInt_withInt_(J2ObjCFpToInt((textHeight_ + imgHeight + imgGap + (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin)), GeogebraCommonEuclidianMyButton_minSize);
  jint imgStart = 0;
  jint startX = 0;
  jint startY = 0;
  jdouble add = 0;
  if (![geoButton_ isFixedSize]) {
    if ([geoButton_ getFontStyle] >= 2) {
      add = JavaLangMath_sinWithDouble_(0.50) * [((id<GeogebraCommonAwtFontGTextLayout>) nil_chk(t)) getDescent];
      currentWidth += J2ObjCFpToInt(add);
    }
    if ([geoButton_ isSerifFont]) {
      currentWidth += currentWidth / 10;
    }
    if ([geoButton_ isSerifFont] && [geoButton_ getFontStyle] >= 2) {
      add = -add;
      currentWidth += currentWidth / 4;
    }
    [geoButton_ setWidthWithInt:currentWidth];
    [geoButton_ setHeightWithInt:currentHeight];
  }
  else {
    if (imgHeight > [geoButton_ getHeight] - textHeight_ - imgGap - (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin) {
      startY = imgHeight - J2ObjCFpToInt(([geoButton_ getHeight] - textHeight_ - imgGap - (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin));
      imgHeight = J2ObjCFpToInt(([geoButton_ getHeight] - textHeight_ - imgGap - (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin));
      if (imgHeight <= 0) {
        [geoButton_ setFillImageWithNSString:@""];
      }
      else {
        startY /= 2;
      }
    }
    if (imgWidth > [geoButton_ getWidth] - (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin) {
      startX = J2ObjCFpToInt((imgWidth - ([geoButton_ getWidth] - (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin)));
      imgWidth = J2ObjCFpToInt(([geoButton_ getWidth] - (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin));
      startX /= 2;
    }
    imgStart = J2ObjCFpToInt(([geoButton_ getHeight] - imgHeight - (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin - textHeight_ - imgGap)) / 2;
  }
  [g setColorWithGeogebraCommonAwtGColor:[view_ getBackgroundCommon]];
  id<GeogebraCommonAwtGPaint> p;
  GeogebraCommonAwtGColor *bg = [geoButton_ getBackgroundColor], *bg2;
  if (bg == nil) bg = GeogebraCommonAwtGColor_get_lightGray_();
  if (GeogebraCommonEuclidianMyButton_isSelected(self)) {
    bg2 = bg;
  }
  else {
    bg2 = [((GeogebraCommonAwtGColor *) nil_chk(bg)) brighter];
  }
  if (!pressed_) {
    p = [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newGradientPaintWithInt:x_ withInt:y_ withGeogebraCommonAwtGColor:bg2 withInt:x_ withInt:y_ + ([self getHeight] / 2) withGeogebraCommonAwtGColor:bg];
  }
  else {
    p = [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newGradientPaintWithInt:x_ withInt:y_ withGeogebraCommonAwtGColor:[((GeogebraCommonAwtGColor *) nil_chk(bg)) darker] withInt:x_ withInt:y_ + [self getHeight] withGeogebraCommonAwtGColor:bg];
  }
  [g setPaintWithGeogebraCommonAwtGPaint:p];
  [g fillRoundRectWithInt:x_ withInt:y_ withInt:[geoButton_ getWidth] + J2ObjCFpToInt(add) withInt:[geoButton_ getHeight] withInt:GeogebraCommonEuclidianMyButton_arcSize withInt:GeogebraCommonEuclidianMyButton_arcSize];
  [g setColorWithGeogebraCommonAwtGColor:GeogebraCommonAwtGColor_get_DARK_GRAY_()];
  [g setStrokeWithGeogebraCommonAwtGBasicStroke:GeogebraCommonEuclidianEuclidianStatic_getDefaultStroke()];
  [g drawRoundRectWithInt:x_ withInt:y_ withInt:[self getWidth] + J2ObjCFpToInt(add) - 1 withInt:[self getHeight] - 1 withInt:GeogebraCommonEuclidianMyButton_arcSize withInt:GeogebraCommonEuclidianMyButton_arcSize];
  [g setColorWithGeogebraCommonAwtGColor:[geoButton_ getObjectColor]];
  GeogebraCommonEuclidianMyButton_setForegroundWithGeogebraCommonAwtGColor_(self, GeogebraCommonAwtGColor_get_white_());
  if ([geoButton_ getFillImage] != nil) {
    [g drawImageWithGeogebraCommonAwtGBufferedImage:[((id<GeogebraCommonAwtMyImage>) nil_chk([geoButton_ getFillImage])) getSubimageWithInt:startX withInt:startY withInt:imgWidth withInt:imgHeight] withGeogebraCommonAwtGBufferedImageOp:nil withInt:x_ + ([geoButton_ getWidth] - imgWidth) / 2 withInt:J2ObjCFpToInt((y_ + GeogebraCommonEuclidianMyButton_marginTopMultiplier_ * GeogebraCommonEuclidianMyButton_margin + imgStart))];
  }
  if (hasText) {
    jint xPos = J2ObjCFpToInt((x_ + ([geoButton_ getWidth] - [((id<GeogebraCommonAwtFontGTextLayout>) nil_chk(t)) getAdvance] + add) / 2));
    if ([geoButton_ getFillImage] == nil) {
      imgStart = J2ObjCFpToInt(([geoButton_ getHeight] - (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin - textHeight_)) / 2;
    }
    jint yPos = J2ObjCFpToInt((y_ + GeogebraCommonEuclidianMyButton_marginTopMultiplier_ * GeogebraCommonEuclidianMyButton_margin + imgHeight + imgGap + [t getAscent] + imgStart));
    if ([geoButton_ getFillImage] != nil) {
      yPos = J2ObjCFpToInt((y_ + GeogebraCommonEuclidianMyButton_marginTopMultiplier_ * GeogebraCommonEuclidianMyButton_margin + imgHeight + imgGap + [t getAscent] + imgStart));
    }
    [g drawStringWithNSString:[geoButton_ getCaptionWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()] withInt:xPos withInt:yPos];
  }
}

- (void)resizeWithGeogebraCommonAwtGGraphics2D:(id<GeogebraCommonAwtGGraphics2D>)g
                                       withInt:(jint)imgGap {
  GeogebraCommonEuclidianMyButton_resizeWithGeogebraCommonAwtGGraphics2D_withInt_(self, g, imgGap);
}

- (void)setForegroundWithGeogebraCommonAwtGColor:(GeogebraCommonAwtGColor *)white {
  GeogebraCommonEuclidianMyButton_setForegroundWithGeogebraCommonAwtGColor_(self, white);
}

- (jboolean)isSelected {
  return GeogebraCommonEuclidianMyButton_isSelected(self);
}

- (jint)getWidth {
  return [((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getWidth];
}

- (jint)getHeight {
  return [((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getHeight];
}

- (void)setBoundsWithGeogebraCommonAwtGRectangle:(id<GeogebraCommonAwtGRectangle>)labelRectangle {
  x_ = J2ObjCFpToInt([((id<GeogebraCommonAwtGRectangle>) nil_chk(labelRectangle)) getMinX]);
  y_ = J2ObjCFpToInt([labelRectangle getMinY]);
  [((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) setWidthWithInt:J2ObjCFpToInt([labelRectangle getWidth])];
  [geoButton_ setHeightWithInt:J2ObjCFpToInt([labelRectangle getHeight])];
}

- (id<GeogebraCommonAwtGRectangle>)getBounds {
  return [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newRectangleWithInt:x_ withInt:y_ withInt:[((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getWidth] withInt:[geoButton_ getHeight]];
}

- (void)setSelectedWithBoolean:(jboolean)selected {
  self->selected_ = selected;
}

- (jint)getX {
  return x_;
}

- (jint)getY {
  return y_;
}

- (void)setTextWithNSString:(NSString *)labelDesc {
  GeogebraCommonEuclidianMyButton_set_text_(self, labelDesc);
}

- (NSString *)getText {
  return text_;
}

- (void)setFontWithGeogebraCommonAwtGFont:(GeogebraCommonAwtGFont *)font {
  GeogebraCommonEuclidianMyButton_set_font_(self, font);
  [((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getKernel])) notifyRepaint];
}

- (void)setPressedWithBoolean:(jboolean)b {
  if (b) {
    draggedOrContext_ = NO;
  }
  else if (!draggedOrContext_) {
  }
  pressed_ = b;
}

- (void)setDraggedOrContextWithBoolean:(jboolean)b {
  draggedOrContext_ = b;
}

- (jboolean)getDraggedOrContext {
  return draggedOrContext_;
}

- (jboolean)isFixedSize {
  return [((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) isFixedSize];
}

- (void)setFixedSizeWithBoolean:(jboolean)fixedSize {
  [((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) setFixedSizeWithBoolean:fixedSize];
}

- (void)notifySizeChanged {
  [((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonKernelGeosGeoButton *) nil_chk(geoButton_)) getKernel])) notifyRepaint];
}

- (GeogebraCommonKernelGeosGeoElement *)getButton {
  return geoButton_;
}

- (void)dealloc {
  RELEASE_(geoButton_);
  RELEASE_(view_);
  RELEASE_(text_);
  RELEASE_(font_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelGeosGeoButton:withGeogebraCommonEuclidianEuclidianView:", "MyButton", NULL, 0x1, NULL, NULL },
    { "getCaption", NULL, "Ljava.lang.String;", 0x2, NULL, NULL },
    { "paintComponentWithGeogebraCommonAwtGGraphics2D:", "paintComponent", "V", 0x1, NULL, NULL },
    { "resizeWithGeogebraCommonAwtGGraphics2D:withInt:", "resize", "V", 0x2, NULL, NULL },
    { "setForegroundWithGeogebraCommonAwtGColor:", "setForeground", "V", 0x2, NULL, NULL },
    { "isSelected", NULL, "Z", 0x2, NULL, NULL },
    { "getWidth", NULL, "I", 0x1, NULL, NULL },
    { "getHeight", NULL, "I", 0x1, NULL, NULL },
    { "setBoundsWithGeogebraCommonAwtGRectangle:", "setBounds", "V", 0x1, NULL, NULL },
    { "getBounds", NULL, "Lgeogebra.common.awt.GRectangle;", 0x1, NULL, NULL },
    { "setSelectedWithBoolean:", "setSelected", "V", 0x1, NULL, NULL },
    { "getX", NULL, "I", 0x1, NULL, NULL },
    { "getY", NULL, "I", 0x1, NULL, NULL },
    { "setTextWithNSString:", "setText", "V", 0x1, NULL, NULL },
    { "getText", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "setFontWithGeogebraCommonAwtGFont:", "setFont", "V", 0x1, NULL, NULL },
    { "setPressedWithBoolean:", "setPressed", "V", 0x1, NULL, NULL },
    { "setDraggedOrContextWithBoolean:", "setDraggedOrContext", "V", 0x1, NULL, NULL },
    { "getDraggedOrContext", NULL, "Z", 0x1, NULL, NULL },
    { "isFixedSize", NULL, "Z", 0x1, NULL, NULL },
    { "setFixedSizeWithBoolean:", "setFixedSize", "V", 0x1, NULL, NULL },
    { "notifySizeChanged", NULL, "V", 0x1, NULL, NULL },
    { "getButton", NULL, "Lgeogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "geoButton_", NULL, 0x2, "Lgeogebra.common.kernel.geos.GeoButton;", NULL, NULL,  },
    { "view_", NULL, 0x2, "Lgeogebra.common.euclidian.EuclidianView;", NULL, NULL,  },
    { "x_", NULL, 0x2, "I", NULL, NULL,  },
    { "y_", NULL, 0x2, "I", NULL, NULL,  },
    { "selected_", NULL, 0x2, "Z", NULL, NULL,  },
    { "text_", NULL, 0x2, "Ljava.lang.String;", NULL, NULL,  },
    { "margin_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonEuclidianMyButton_margin },
    { "minSize_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonEuclidianMyButton_minSize },
    { "arcSize_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonEuclidianMyButton_arcSize },
    { "font_", NULL, 0x2, "Lgeogebra.common.awt.GFont;", NULL, NULL,  },
    { "pressed_", NULL, 0x2, "Z", NULL, NULL,  },
    { "draggedOrContext_", NULL, 0x2, "Z", NULL, NULL,  },
    { "textHeight_", NULL, 0x2, "F", NULL, NULL,  },
    { "textWidth_", NULL, 0x2, "F", NULL, NULL,  },
    { "marginTopMultiplier_", NULL, 0xa, "F", &GeogebraCommonEuclidianMyButton_marginTopMultiplier_, NULL,  },
    { "marginBottomMultiplier_", NULL, 0xa, "F", &GeogebraCommonEuclidianMyButton_marginBottomMultiplier_, NULL,  },
    { "marginLeftMultiplier_", NULL, 0xa, "F", &GeogebraCommonEuclidianMyButton_marginLeftMultiplier_, NULL,  },
    { "marginRightMultiplier_", NULL, 0xa, "F", &GeogebraCommonEuclidianMyButton_marginRightMultiplier_, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonEuclidianMyButton = { 2, "MyButton", "geogebra.common.euclidian", NULL, 0x1, 23, methods, 18, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonEuclidianMyButton;
}

@end

void GeogebraCommonEuclidianMyButton_initWithGeogebraCommonKernelGeosGeoButton_withGeogebraCommonEuclidianEuclidianView_(GeogebraCommonEuclidianMyButton *self, GeogebraCommonKernelGeosGeoButton *button, GeogebraCommonEuclidianEuclidianView *view) {
  NSObject_init(self);
  GeogebraCommonEuclidianMyButton_set_geoButton_(self, button);
  GeogebraCommonEuclidianMyButton_set_view_(self, view);
  self->x_ = 20;
  self->y_ = 20;
  [((GeogebraCommonKernelGeosGeoButton *) nil_chk(self->geoButton_)) setObserverWithGeogebraCommonKernelGeosGeoButton_Observer:self];
}

GeogebraCommonEuclidianMyButton *new_GeogebraCommonEuclidianMyButton_initWithGeogebraCommonKernelGeosGeoButton_withGeogebraCommonEuclidianEuclidianView_(GeogebraCommonKernelGeosGeoButton *button, GeogebraCommonEuclidianEuclidianView *view) {
  GeogebraCommonEuclidianMyButton *self = [GeogebraCommonEuclidianMyButton alloc];
  GeogebraCommonEuclidianMyButton_initWithGeogebraCommonKernelGeosGeoButton_withGeogebraCommonEuclidianEuclidianView_(self, button, view);
  return self;
}

NSString *GeogebraCommonEuclidianMyButton_getCaption(GeogebraCommonEuclidianMyButton *self) {
  if ([((GeogebraCommonKernelGeosGeoButton *) nil_chk(self->geoButton_)) getFillImage] == nil) {
    return [self->geoButton_ getCaptionWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()];
  }
  return [self->geoButton_ getCaptionDescriptionWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()];
}

void GeogebraCommonEuclidianMyButton_resizeWithGeogebraCommonAwtGGraphics2D_withInt_(GeogebraCommonEuclidianMyButton *self, id<GeogebraCommonAwtGGraphics2D> g, jint imgGap) {
  id<GeogebraCommonAwtFontGTextLayout> t = nil;
  jint i = GeogebraCommonKernelGeosGeoText_getFontSizeIndexWithDouble_([((id<GeogebraCommonKernelGeosTextProperties>) nil_chk((self->geoButton_))) getFontSizeMultiplier]);
  while (i > 0 && J2ObjCFpToInt(self->textHeight_) + imgGap + (GeogebraCommonEuclidianMyButton_marginTopMultiplier_ + GeogebraCommonEuclidianMyButton_marginBottomMultiplier_) * GeogebraCommonEuclidianMyButton_margin > [((GeogebraCommonKernelGeosGeoButton *) nil_chk(self->geoButton_)) getHeight]) {
    i--;
    GeogebraCommonEuclidianMyButton_set_font_(self, [self->font_ deriveFontWithInt:[((GeogebraCommonAwtGFont *) nil_chk(self->font_)) getStyle] withInt:J2ObjCFpToInt((GeogebraCommonKernelGeosGeoText_getRelativeFontSizeWithInt_(i) * 12))]);
    t = [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newTextLayoutWithNSString:GeogebraCommonEuclidianMyButton_getCaption(self) withGeogebraCommonAwtGFont:self->font_ withGeogebraCommonAwtGFontRenderContext:[((id<GeogebraCommonAwtGGraphics2D>) nil_chk(g)) getFontRenderContext]];
    self->textHeight_ = [((id<GeogebraCommonAwtFontGTextLayout>) nil_chk(t)) getAscent] + [t getDescent];
    self->textWidth_ = [t getAdvance];
  }
  while (i > 0 && J2ObjCFpToInt(self->textWidth_) + (GeogebraCommonEuclidianMyButton_marginLeftMultiplier_ + GeogebraCommonEuclidianMyButton_marginRightMultiplier_) * GeogebraCommonEuclidianMyButton_margin > [((GeogebraCommonKernelGeosGeoButton *) nil_chk(self->geoButton_)) getWidth]) {
    i--;
    GeogebraCommonEuclidianMyButton_set_font_(self, [self->font_ deriveFontWithInt:[((GeogebraCommonAwtGFont *) nil_chk(self->font_)) getStyle] withInt:J2ObjCFpToInt((GeogebraCommonKernelGeosGeoText_getRelativeFontSizeWithInt_(i) * 12))]);
    t = [((GeogebraCommonFactoriesAwtFactory *) nil_chk(GeogebraCommonFactoriesAwtFactory_get_prototype_())) newTextLayoutWithNSString:GeogebraCommonEuclidianMyButton_getCaption(self) withGeogebraCommonAwtGFont:self->font_ withGeogebraCommonAwtGFontRenderContext:[((id<GeogebraCommonAwtGGraphics2D>) nil_chk(g)) getFontRenderContext]];
    self->textHeight_ = [((id<GeogebraCommonAwtFontGTextLayout>) nil_chk(t)) getAscent] + [t getDescent];
    self->textWidth_ = [t getAdvance];
  }
  [((GeogebraCommonKernelGeosGeoButton *) nil_chk(self->geoButton_)) setFontSizeMultiplierWithDouble:GeogebraCommonKernelGeosGeoText_getRelativeFontSizeWithInt_(i)];
  [self setFontWithGeogebraCommonAwtGFont:self->font_];
}

void GeogebraCommonEuclidianMyButton_setForegroundWithGeogebraCommonAwtGColor_(GeogebraCommonEuclidianMyButton *self, GeogebraCommonAwtGColor *white) {
}

jboolean GeogebraCommonEuclidianMyButton_isSelected(GeogebraCommonEuclidianMyButton *self) {
  return self->selected_;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonEuclidianMyButton)

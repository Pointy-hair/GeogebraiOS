//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/algos/AlgoDrawingPadCorner.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/euclidian/EuclidianView.h"
#include "geogebra/common/euclidian/EuclidianViewInterfaceSlim.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/algos/AlgoDrawingPadCorner.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/arithmetic/NumberValue.h"
#include "geogebra/common/kernel/commands/Commands.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoPoint.h"
#include "geogebra/common/kernel/kernelND/GeoPointND.h"
#include "geogebra/common/main/App.h"

@implementation GeogebraCommonKernelAlgosAlgoDrawingPadCorner

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                            withNSString:(NSString *)label
           withGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)number
           withGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)evNum
                                              withDouble:(jdouble)absCorner {
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_withDouble_(self, cons, label, number, evNum, absCorner);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons
                                            withNSString:(NSString *)label
           withGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)number
           withGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)evNum {
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_(self, cons, label, number, evNum);
  return self;
}

- (id<GeogebraCommonKernelKernelNDGeoPointND>)newGeoPointWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)cons {
  return [new_GeogebraCommonKernelGeosGeoPoint_initWithGeogebraCommonKernelConstruction_(cons) autorelease];
}

- (GeogebraCommonKernelCommandsCommandsEnum *)getClassName {
  return GeogebraCommonKernelCommandsCommandsEnum_get_Corner();
}

- (void)setInputOutput {
  if (evNum_ == nil) {
    GeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:1 type:GeogebraCommonKernelGeosGeoElement_class_()]);
    IOSObjectArray_Set(input_, 0, [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(number_)) toGeoElement]);
  }
  else {
    GeogebraCommonKernelAlgosAlgoElement_setAndConsume_input_(self, [IOSObjectArray newArrayWithLength:2 type:GeogebraCommonKernelGeosGeoElement_class_()]);
    IOSObjectArray_Set(input_, 0, [evNum_ toGeoElement]);
    IOSObjectArray_Set(input_, 1, [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(number_)) toGeoElement]);
  }
  [super setOutputLengthWithInt:1];
  [super setOutputWithInt:0 withGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *) check_class_cast(corner_, [GeogebraCommonKernelGeosGeoElement class])];
  [self setDependencies];
}

- (id<GeogebraCommonKernelKernelNDGeoPointND>)getCorner {
  return corner_;
}

- (void)compute {
  id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim> ev;
  GeogebraCommonMainApp *app = [((GeogebraCommonKernelConstruction *) nil_chk(cons_)) getApplication];
  if (evNum_ == nil || [evNum_ getDouble] == 1.0) ev = [((GeogebraCommonMainApp *) nil_chk(app)) getEuclidianView1];
  else {
    if (![((GeogebraCommonMainApp *) nil_chk(app)) hasEuclidianView2WithInt:1]) {
      [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setUndefined];
      return;
    }
    ev = [app getEuclidianView2WithInt:1];
  }
  jdouble xmax = [ev toRealWorldCoordXWithDouble:(jdouble) ([((id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(ev)) getWidth]) + 1];
  jdouble ymin = [ev toRealWorldCoordYWithDouble:(jdouble) ([ev getHeight]) + 1];
  jdouble zeroX = [ev toRealWorldCoordXWithDouble:-1];
  jdouble zeroY = [ev toRealWorldCoordYWithDouble:0 - 1];
  switch (J2ObjCFpToInt([((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(number_)) getDouble])) {
    case 1:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:zeroX withDouble:ymin withDouble:1.0];
    break;
    case 2:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:xmax withDouble:ymin withDouble:1.0];
    break;
    case 3:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:xmax withDouble:zeroY withDouble:1.0];
    break;
    case 4:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:zeroX withDouble:zeroY withDouble:1.0];
    break;
    case 5:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:[ev getWidth] withDouble:[ev getHeight] withDouble:1.0];
    break;
    case 6:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setCoordsWithDouble:[((GeogebraCommonMainApp *) nil_chk(app)) getWidth] withDouble:[app getHeight] withDouble:1.0];
    break;
    default:
    [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) setUndefined];
    break;
  }
}

- (jboolean)euclidianViewUpdate {
  [self compute];
  [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(corner_)) updateCascade];
  return NO;
}

- (void)dealloc {
  RELEASE_(corner_);
  RELEASE_(number_);
  RELEASE_(evNum_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelConstruction:withNSString:withGeogebraCommonKernelArithmeticNumberValue:withGeogebraCommonKernelArithmeticNumberValue:withDouble:", "AlgoDrawingPadCorner", NULL, 0x4, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withNSString:withGeogebraCommonKernelArithmeticNumberValue:withGeogebraCommonKernelArithmeticNumberValue:", "AlgoDrawingPadCorner", NULL, 0x1, NULL, NULL },
    { "newGeoPointWithGeogebraCommonKernelConstruction:", "newGeoPoint", "Lgeogebra.common.kernel.kernelND.GeoPointND;", 0x4, NULL, NULL },
    { "getClassName", NULL, "Lgeogebra.common.kernel.commands.Commands;", 0x1, NULL, NULL },
    { "setInputOutput", NULL, "V", 0x4, NULL, NULL },
    { "getCorner", NULL, "Lgeogebra.common.kernel.kernelND.GeoPointND;", 0x1, NULL, NULL },
    { "compute", NULL, "V", 0x1, NULL, NULL },
    { "euclidianViewUpdate", NULL, "Z", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "corner_", NULL, 0x4, "Lgeogebra.common.kernel.kernelND.GeoPointND;", NULL, NULL,  },
    { "number_", NULL, 0x4, "Lgeogebra.common.kernel.arithmetic.NumberValue;", NULL, NULL,  },
    { "evNum_", NULL, 0x4, "Lgeogebra.common.kernel.arithmetic.NumberValue;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelAlgosAlgoDrawingPadCorner = { 2, "AlgoDrawingPadCorner", "geogebra.common.kernel.algos", NULL, 0x1, 8, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelAlgosAlgoDrawingPadCorner;
}

@end

void GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_withDouble_(GeogebraCommonKernelAlgosAlgoDrawingPadCorner *self, GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelArithmeticNumberValue> number, id<GeogebraCommonKernelArithmeticNumberValue> evNum, jdouble absCorner) {
  GeogebraCommonKernelAlgosAlgoElement_initWithGeogebraCommonKernelConstruction_(self, cons);
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_set_number_(self, number);
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_set_evNum_(self, evNum);
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_set_corner_(self, [self newGeoPointWithGeogebraCommonKernelConstruction:cons]);
  [self setInputOutput];
  [self compute];
  [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(self->corner_)) setEuclidianVisibleWithBoolean:NO];
  [self->corner_ setLabelWithNSString:label];
  [((GeogebraCommonKernelConstruction *) nil_chk(cons)) registerEuclidianViewCEWithGeogebraCommonKernelEuclidianViewCE:self];
  if (GeogebraCommonKernelKernel_isEqualWithDouble_withDouble_([((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(number)) getDouble], absCorner)) {
    [cons registerCorner5WithGeogebraCommonKernelEuclidianViewCE:self];
  }
}

GeogebraCommonKernelAlgosAlgoDrawingPadCorner *new_GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_withDouble_(GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelArithmeticNumberValue> number, id<GeogebraCommonKernelArithmeticNumberValue> evNum, jdouble absCorner) {
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner *self = [GeogebraCommonKernelAlgosAlgoDrawingPadCorner alloc];
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_withDouble_(self, cons, label, number, evNum, absCorner);
  return self;
}

void GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_(GeogebraCommonKernelAlgosAlgoDrawingPadCorner *self, GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelArithmeticNumberValue> number, id<GeogebraCommonKernelArithmeticNumberValue> evNum) {
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_withDouble_(self, cons, label, number, evNum, 5);
}

GeogebraCommonKernelAlgosAlgoDrawingPadCorner *new_GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_(GeogebraCommonKernelConstruction *cons, NSString *label, id<GeogebraCommonKernelArithmeticNumberValue> number, id<GeogebraCommonKernelArithmeticNumberValue> evNum) {
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner *self = [GeogebraCommonKernelAlgosAlgoDrawingPadCorner alloc];
  GeogebraCommonKernelAlgosAlgoDrawingPadCorner_initWithGeogebraCommonKernelConstruction_withNSString_withGeogebraCommonKernelArithmeticNumberValue_withGeogebraCommonKernelArithmeticNumberValue_(self, cons, label, number, evNum);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelAlgosAlgoDrawingPadCorner)

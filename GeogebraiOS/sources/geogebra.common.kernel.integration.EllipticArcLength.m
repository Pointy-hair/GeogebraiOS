//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/integration/EllipticArcLength.java
//


#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/cas/AlgoIntegralDefinite.h"
#include "geogebra/common/kernel/integration/EllipticArcLength.h"
#include "geogebra/common/kernel/kernelND/GeoConicND.h"
#include "geogebra/common/kernel/roots/RealRootFunction.h"
#include "java/lang/Math.h"

@interface GeogebraCommonKernelIntegrationEllipticArcLength () {
 @public
  id<GeogebraCommonKernelRootsRealRootFunction> arcLengthFunction_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelIntegrationEllipticArcLength, arcLengthFunction_, id<GeogebraCommonKernelRootsRealRootFunction>)

@interface GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction : NSObject < GeogebraCommonKernelRootsRealRootFunction > {
 @public
  GeogebraCommonKernelIntegrationEllipticArcLength *this$0_;
}

- (instancetype)initWithGeogebraCommonKernelIntegrationEllipticArcLength:(GeogebraCommonKernelIntegrationEllipticArcLength *)outer$;

- (jdouble)evaluateWithDouble:(jdouble)t;

@end

J2OBJC_EMPTY_STATIC_INIT(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction)

J2OBJC_FIELD_SETTER(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction, this$0_, GeogebraCommonKernelIntegrationEllipticArcLength *)

__attribute__((unused)) static void GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction *self, GeogebraCommonKernelIntegrationEllipticArcLength *outer$);

__attribute__((unused)) static GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction *new_GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(GeogebraCommonKernelIntegrationEllipticArcLength *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction)

@implementation GeogebraCommonKernelIntegrationEllipticArcLength

- (instancetype)initWithGeogebraCommonKernelKernelNDGeoConicND:(GeogebraCommonKernelKernelNDGeoConicND *)ellipse {
  GeogebraCommonKernelIntegrationEllipticArcLength_initWithGeogebraCommonKernelKernelNDGeoConicND_(self, ellipse);
  return self;
}

- (jdouble)computeWithDouble:(jdouble)a
                  withDouble:(jdouble)b {
  if (a <= b) return GeogebraCommonKernelCasAlgoIntegralDefinite_numericIntegrationWithGeogebraCommonKernelRootsRealRootFunction_withDouble_withDouble_(arcLengthFunction_, a, b);
  return GeogebraCommonKernelCasAlgoIntegralDefinite_numericIntegrationWithGeogebraCommonKernelRootsRealRootFunction_withDouble_withDouble_(arcLengthFunction_, 0, GeogebraCommonKernelKernel_PI_2) - GeogebraCommonKernelCasAlgoIntegralDefinite_numericIntegrationWithGeogebraCommonKernelRootsRealRootFunction_withDouble_withDouble_(arcLengthFunction_, b, a);
}

- (void)dealloc {
  RELEASE_(halfAxes_);
  RELEASE_(arcLengthFunction_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelKernelNDGeoConicND:", "EllipticArcLength", NULL, 0x1, NULL, NULL },
    { "computeWithDouble:withDouble:", "compute", "D", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "halfAxes_", NULL, 0x0, "[D", NULL, NULL,  },
    { "arcLengthFunction_", NULL, 0x2, "Lgeogebra.common.kernel.roots.RealRootFunction;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.kernel.integration.EllipticArcLength$EllipticArcLengthFunction;"};
  static const J2ObjcClassInfo _GeogebraCommonKernelIntegrationEllipticArcLength = { 2, "EllipticArcLength", "geogebra.common.kernel.integration", NULL, 0x1, 2, methods, 2, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_GeogebraCommonKernelIntegrationEllipticArcLength;
}

@end

void GeogebraCommonKernelIntegrationEllipticArcLength_initWithGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelIntegrationEllipticArcLength *self, GeogebraCommonKernelKernelNDGeoConicND *ellipse) {
  NSObject_init(self);
  GeogebraCommonKernelIntegrationEllipticArcLength_set_halfAxes_(self, [((GeogebraCommonKernelKernelNDGeoConicND *) nil_chk(ellipse)) getHalfAxes]);
  GeogebraCommonKernelIntegrationEllipticArcLength_setAndConsume_arcLengthFunction_(self, new_GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(self));
}

GeogebraCommonKernelIntegrationEllipticArcLength *new_GeogebraCommonKernelIntegrationEllipticArcLength_initWithGeogebraCommonKernelKernelNDGeoConicND_(GeogebraCommonKernelKernelNDGeoConicND *ellipse) {
  GeogebraCommonKernelIntegrationEllipticArcLength *self = [GeogebraCommonKernelIntegrationEllipticArcLength alloc];
  GeogebraCommonKernelIntegrationEllipticArcLength_initWithGeogebraCommonKernelKernelNDGeoConicND_(self, ellipse);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelIntegrationEllipticArcLength)

@implementation GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction

- (instancetype)initWithGeogebraCommonKernelIntegrationEllipticArcLength:(GeogebraCommonKernelIntegrationEllipticArcLength *)outer$ {
  GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(self, outer$);
  return self;
}

- (jdouble)evaluateWithDouble:(jdouble)t {
  jdouble p = IOSDoubleArray_Get(nil_chk(this$0_->halfAxes_), 0) * JavaLangMath_sinWithDouble_(t);
  jdouble q = IOSDoubleArray_Get(this$0_->halfAxes_, 1) * JavaLangMath_cosWithDouble_(t);
  return JavaLangMath_sqrtWithDouble_(p * p + q * q);
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelIntegrationEllipticArcLength:", "EllipticArcLengthFunction", NULL, 0x1, NULL, NULL },
    { "evaluateWithDouble:", "evaluate", "D", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lgeogebra.common.kernel.integration.EllipticArcLength;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction = { 2, "EllipticArcLengthFunction", "geogebra.common.kernel.integration", "EllipticArcLength", 0x2, 2, methods, 1, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction;
}

@end

void GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction *self, GeogebraCommonKernelIntegrationEllipticArcLength *outer$) {
  GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_set_this$0_(self, outer$);
  NSObject_init(self);
}

GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction *new_GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(GeogebraCommonKernelIntegrationEllipticArcLength *outer$) {
  GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction *self = [GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction alloc];
  GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction_initWithGeogebraCommonKernelIntegrationEllipticArcLength_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelIntegrationEllipticArcLength_EllipticArcLengthFunction)

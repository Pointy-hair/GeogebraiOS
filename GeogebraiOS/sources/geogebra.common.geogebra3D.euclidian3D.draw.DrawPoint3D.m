//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/euclidian3D/draw/DrawPoint3D.java
//


#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/euclidian/draw/DrawPoint.h"
#include "geogebra/common/geogebra3D/euclidian3D/EuclidianView3D.h"
#include "geogebra/common/geogebra3D/euclidian3D/Hitting.h"
#include "geogebra/common/geogebra3D/euclidian3D/draw/DrawPoint3D.h"
#include "geogebra/common/geogebra3D/euclidian3D/draw/Drawable3D.h"
#include "geogebra/common/geogebra3D/euclidian3D/draw/Drawable3DCurves.h"
#include "geogebra/common/geogebra3D/euclidian3D/draw/Drawable3DLists.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/Manager.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/Renderer.h"
#include "geogebra/common/geogebra3D/kernel3D/geos/GeoPoint3D.h"
#include "geogebra/common/kernel/Matrix/Coords.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/kernelND/GeoPointND.h"
#include "java/lang/Math.h"

@interface GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D () {
 @public
  GeogebraCommonKernelMatrixCoords *center_;
  GeogebraCommonKernelMatrixCoords *boundsMin_, *boundsMax_;
  GeogebraCommonKernelMatrixCoords *project_;
  IOSDoubleArray *parameters_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D, center_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D, boundsMin_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D, boundsMax_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D, project_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D, parameters_, IOSDoubleArray *)

@implementation GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D:(GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *)view3D
                                withGeogebraCommonKernelKernelNDGeoPointND:(id<GeogebraCommonKernelKernelNDGeoPointND>)point {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_withGeogebraCommonKernelKernelNDGeoPointND_(self, view3D, point);
  return self;
}

- (void)drawGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *)renderer {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *) nil_chk(renderer)) getGeometryManager])) drawWithInt:[self getGeometryIndex] withGeogebraCommonKernelMatrixCoords:center_];
}

- (void)drawInObjFormatWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *)renderer {
  if ([self isVisible]) {
    [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *) nil_chk(renderer)) getGeometryManager])) drawInObjFormatWithGeogebraCommonKernelGeosGeoElement:[self getGeoElement] withInt:[self getGeometryIndex]];
  }
}

- (void)drawGeometryHiddenWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *)renderer {
  [self drawGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:renderer];
}

- (void)setLineTextureHiddenWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *)renderer {
}

- (jboolean)updateForItSelf {
  id<GeogebraCommonKernelKernelNDGeoPointND> point = (id<GeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([self getGeoElement], @protocol(GeogebraCommonKernelKernelNDGeoPointND));
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(center_)) setValuesWithGeogebraCommonKernelMatrixCoords:[((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) getInhomCoordsInD3] withInt:3];
  [center_ setWWithDouble:[point getPointSize]];
  [self setGeometryIndexWithInt:[((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([self getView3D])) getRenderer])) getGeometryManager])) drawPointWithInt:[point getPointSize] withGeogebraCommonKernelMatrixCoords:center_ withInt:[self getReusableGeometryIndex]]];
  jdouble radius = [point getPointSize] / [((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([self getView3D])) getScale] * GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_DRAW_POINT_FACTOR;
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(boundsMin_)) setXWithDouble:[center_ getX] - radius];
  [boundsMin_ setYWithDouble:[center_ getY] - radius];
  [boundsMin_ setZWithDouble:[center_ getZ] - radius];
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(boundsMax_)) setXWithDouble:[center_ getX] + radius];
  [boundsMax_ setYWithDouble:[center_ getY] + radius];
  [boundsMax_ setZWithDouble:[center_ getZ] + radius];
  return YES;
}

- (void)doRemoveGeometryIndexWithInt:(jint)index {
}

- (void)updateForView {
  if ([((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([self getView3D])) viewChangedByZoom]) {
    [self updateForItSelf];
  }
}

- (jint)getPickOrder {
  return GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_POINT;
}

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D:(GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *)a_view3D {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_(self, a_view3D);
  return self;
}

- (void)disposePreview {
}

- (void)updateMousePosWithDouble:(jdouble)xRW
                      withDouble:(jdouble)yRW {
}

- (void)updatePreview {
}

- (void)addToDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists *)lists {
  [self addToDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:lists withInt:GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_TYPE_POINTS];
}

- (void)removeFromDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists *)lists {
  [self removeFromDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:lists withInt:GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_TYPE_POINTS];
}

- (GeogebraCommonKernelMatrixCoords *)evaluatePointWithDouble:(jdouble)u
                                                   withDouble:(jdouble)v {
  id<GeogebraCommonKernelKernelNDGeoPointND> point = (id<GeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([self getGeoElement], @protocol(GeogebraCommonKernelKernelNDGeoPointND));
  jdouble r = [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) getPointSize] / [((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([self getView3D])) getScale] * 1.5;
  GeogebraCommonKernelMatrixCoords *n = [new_GeogebraCommonKernelMatrixCoords_initWithDoubleArray_([IOSDoubleArray arrayWithDoubles:(jdouble[]){ JavaLangMath_cosWithDouble_(u) * JavaLangMath_cosWithDouble_(v) * r, JavaLangMath_sinWithDouble_(u) * JavaLangMath_cosWithDouble_(v) * r, JavaLangMath_sinWithDouble_(v) * r } count:3]) autorelease];
  return [n addWithGeogebraCommonKernelMatrixCoords:[point getInhomCoordsInD3]];
}

- (GeogebraCommonKernelMatrixCoords *)evaluateNormalWithDouble:(jdouble)u
                                                    withDouble:(jdouble)v {
  return [new_GeogebraCommonKernelMatrixCoords_initWithDoubleArray_([IOSDoubleArray arrayWithDoubles:(jdouble[]){ JavaLangMath_cosWithDouble_(u) * JavaLangMath_cosWithDouble_(v), JavaLangMath_sinWithDouble_(u) * JavaLangMath_cosWithDouble_(v), JavaLangMath_sinWithDouble_(v) } count:3]) autorelease];
}

- (jdouble)getMinParameterWithInt:(jint)index {
  switch (index) {
    case 0:
    default:
    return 0;
    case 1:
    return -JavaLangMath_PI / 2;
  }
}

- (jdouble)getMaxParameterWithInt:(jint)index {
  switch (index) {
    case 0:
    default:
    return 2 * JavaLangMath_PI;
    case 1:
    return JavaLangMath_PI / 2;
  }
}

- (jfloat)getLabelOffsetX {
  return [super getLabelOffsetX] + 4;
}

- (jfloat)getLabelOffsetY {
  return [super getLabelOffsetY] - 2 * [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(((id<GeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([self getGeoElement], @protocol(GeogebraCommonKernelKernelNDGeoPointND))))) getPointSize];
}

- (jdouble)getColorShift {
  return GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_COLOR_SHIFT_POINTS;
}

- (jboolean)hitWithGeogebraCommonGeogebra3DEuclidian3DHitting:(GeogebraCommonGeogebra3DEuclidian3DHitting *)hitting {
  id<GeogebraCommonKernelKernelNDGeoPointND> point = (id<GeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([self getGeoElement], @protocol(GeogebraCommonKernelKernelNDGeoPointND));
  GeogebraCommonKernelMatrixCoords *p = [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) getInhomCoordsInD3];
  return GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_hitWithGeogebraCommonGeogebra3DEuclidian3DHitting_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_withInt_withGeogebraCommonKernelMatrixCoords_withDoubleArray_withBoolean_(hitting, p, self, [point getPointSize], project_, parameters_, NO);
}

- (jboolean)hitForListWithGeogebraCommonGeogebra3DEuclidian3DHitting:(GeogebraCommonGeogebra3DEuclidian3DHitting *)hitting {
  id<GeogebraCommonKernelKernelNDGeoPointND> point = (id<GeogebraCommonKernelKernelNDGeoPointND>) check_protocol_cast([self getGeoElement], @protocol(GeogebraCommonKernelKernelNDGeoPointND));
  GeogebraCommonKernelMatrixCoords *p = [((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(point)) getInhomCoordsInD3];
  return GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_hitWithGeogebraCommonGeogebra3DEuclidian3DHitting_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_withInt_withGeogebraCommonKernelMatrixCoords_withDoubleArray_withBoolean_(hitting, p, self, [point getPointSize], project_, parameters_, YES);
}

+ (jboolean)hitWithGeogebraCommonGeogebra3DEuclidian3DHitting:(GeogebraCommonGeogebra3DEuclidian3DHitting *)hitting
                         withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)p
        withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *)drawable
                                                      withInt:(jint)pointSize
                         withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)project
                                              withDoubleArray:(IOSDoubleArray *)parameters
                                                  withBoolean:(jboolean)checkRealPointSize {
  return GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_hitWithGeogebraCommonGeogebra3DEuclidian3DHitting_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_withInt_withGeogebraCommonKernelMatrixCoords_withDoubleArray_withBoolean_(hitting, p, drawable, pointSize, project, parameters, checkRealPointSize);
}

- (GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex *)newTraceIndex {
  return [new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex_initWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_withInt_withInt_withGeogebraCommonKernelMatrixCoords_(self, [self getGeometryIndex], [self getSurfaceIndex], [((GeogebraCommonKernelMatrixCoords *) nil_chk(center_)) copyVector]) autorelease];
}

- (void)drawGeomWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *)renderer
     withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex *)index {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer *) nil_chk(renderer)) getGeometryManager])) drawWithInt:((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex *) nil_chk(index))->geom_ withGeogebraCommonKernelMatrixCoords:index->center_];
}

- (void)enlargeBoundsWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)min
                     withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)max {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_enlargeBoundsWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(min, max, boundsMin_, boundsMax_);
}

- (void)dealloc {
  RELEASE_(center_);
  RELEASE_(boundsMin_);
  RELEASE_(boundsMax_);
  RELEASE_(project_);
  RELEASE_(parameters_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D:withGeogebraCommonKernelKernelNDGeoPointND:", "DrawPoint3D", NULL, 0x1, NULL, NULL },
    { "drawGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:", "drawGeometry", "V", 0x1, NULL, NULL },
    { "drawInObjFormatWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:", "drawInObjFormat", "V", 0x1, NULL, NULL },
    { "drawGeometryHiddenWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:", "drawGeometryHidden", "V", 0x1, NULL, NULL },
    { "setLineTextureHiddenWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:", "setLineTextureHidden", "V", 0x4, NULL, NULL },
    { "updateForItSelf", NULL, "Z", 0x4, NULL, NULL },
    { "doRemoveGeometryIndexWithInt:", "doRemoveGeometryIndex", "V", 0x4, NULL, NULL },
    { "updateForView", NULL, "V", 0x4, NULL, NULL },
    { "getPickOrder", NULL, "I", 0x1, NULL, NULL },
    { "initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D:", "DrawPoint3D", NULL, 0x1, NULL, NULL },
    { "disposePreview", NULL, "V", 0x1, NULL, NULL },
    { "updateMousePosWithDouble:withDouble:", "updateMousePos", "V", 0x1, NULL, NULL },
    { "updatePreview", NULL, "V", 0x1, NULL, NULL },
    { "addToDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:", "addToDrawable3DLists", "V", 0x1, NULL, NULL },
    { "removeFromDrawable3DListsWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DLists:", "removeFromDrawable3DLists", "V", 0x1, NULL, NULL },
    { "evaluatePointWithDouble:withDouble:", "evaluatePoint", "Lgeogebra.common.kernel.Matrix.Coords;", 0x1, NULL, NULL },
    { "evaluateNormalWithDouble:withDouble:", "evaluateNormal", "Lgeogebra.common.kernel.Matrix.Coords;", 0x1, NULL, NULL },
    { "getMinParameterWithInt:", "getMinParameter", "D", 0x1, NULL, NULL },
    { "getMaxParameterWithInt:", "getMaxParameter", "D", 0x1, NULL, NULL },
    { "getLabelOffsetX", NULL, "F", 0x4, NULL, NULL },
    { "getLabelOffsetY", NULL, "F", 0x4, NULL, NULL },
    { "getColorShift", NULL, "D", 0x4, NULL, NULL },
    { "hitWithGeogebraCommonGeogebra3DEuclidian3DHitting:", "hit", "Z", 0x1, NULL, NULL },
    { "hitForListWithGeogebraCommonGeogebra3DEuclidian3DHitting:", "hitForList", "Z", 0x1, NULL, NULL },
    { "hitWithGeogebraCommonGeogebra3DEuclidian3DHitting:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:withInt:withGeogebraCommonKernelMatrixCoords:withDoubleArray:withBoolean:", "hit", "Z", 0x9, NULL, NULL },
    { "newTraceIndex", NULL, "Lgeogebra.common.geogebra3D.euclidian3D.draw.Drawable3D$TraceIndex;", 0x4, NULL, NULL },
    { "drawGeomWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer:withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_TraceIndex:", "drawGeom", "V", 0x4, NULL, NULL },
    { "enlargeBoundsWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:", "enlargeBounds", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "DRAW_POINT_FACTOR_", NULL, 0x19, "F", NULL, NULL, .constantValue.asFloat = GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_DRAW_POINT_FACTOR },
    { "center_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "boundsMin_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "boundsMax_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "project_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "parameters_", NULL, 0x2, "[D", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D = { 2, "DrawPoint3D", "geogebra.common.geogebra3D.euclidian3D.draw", NULL, 0x1, 28, methods, 6, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_withGeogebraCommonKernelKernelNDGeoPointND_(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *self, GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *view3D, id<GeogebraCommonKernelKernelNDGeoPointND> point) {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DCurves_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_withGeogebraCommonKernelGeosGeoElement_(self, view3D, (GeogebraCommonKernelGeosGeoElement *) check_class_cast(point, [GeogebraCommonKernelGeosGeoElement class]));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_center_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(4));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_boundsMin_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_boundsMax_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_set_project_(self, GeogebraCommonKernelMatrixCoords_createInhomCoorsInD3());
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_parameters_(self, [IOSDoubleArray newArrayWithLength:2]);
}

GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_withGeogebraCommonKernelKernelNDGeoPointND_(GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *view3D, id<GeogebraCommonKernelKernelNDGeoPointND> point) {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *self = [GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D alloc];
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_withGeogebraCommonKernelKernelNDGeoPointND_(self, view3D, point);
  return self;
}

void GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *self, GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *a_view3D) {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3DCurves_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_(self, a_view3D);
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_center_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(4));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_boundsMin_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_boundsMax_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_set_project_(self, GeogebraCommonKernelMatrixCoords_createInhomCoorsInD3());
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_setAndConsume_parameters_(self, [IOSDoubleArray newArrayWithLength:2]);
  [self setGeoElementWithGeogebraCommonKernelGeosGeoElement:[((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk(a_view3D)) getCursor3D]];
}

GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_(GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *a_view3D) {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D *self = [GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D alloc];
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initWithGeogebraCommonGeogebra3DEuclidian3DEuclidianView3D_(self, a_view3D);
  return self;
}

jboolean GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_hitWithGeogebraCommonGeogebra3DEuclidian3DHitting_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_withInt_withGeogebraCommonKernelMatrixCoords_withDoubleArray_withBoolean_(GeogebraCommonGeogebra3DEuclidian3DHitting *hitting, GeogebraCommonKernelMatrixCoords *p, GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *drawable, jint pointSize, GeogebraCommonKernelMatrixCoords *project, IOSDoubleArray *parameters, jboolean checkRealPointSize) {
  GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D_initialize();
  if ([((GeogebraCommonGeogebra3DEuclidian3DHitting *) nil_chk(hitting)) isSphere]) {
    jdouble d = [((GeogebraCommonKernelMatrixCoords *) nil_chk(p)) distanceWithGeogebraCommonKernelMatrixCoords:hitting->origin_];
    jdouble scale_ = [((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(drawable)) getView3D])) getScale];
    if (d * scale_ <= pointSize + [hitting getThreshold]) {
      [drawable setZPickWithDouble:-d withDouble:-d];
      return YES;
    }
  }
  else {
    [((GeogebraCommonKernelMatrixCoords *) nil_chk(p)) projectLineWithGeogebraCommonKernelMatrixCoords:hitting->origin_ withGeogebraCommonKernelMatrixCoords:hitting->direction_ withGeogebraCommonKernelMatrixCoords:project withDoubleArray:parameters];
    if (![hitting isInsideClippingWithGeogebraCommonKernelMatrixCoords:project]) {
      return NO;
    }
    jdouble d = [p distanceWithGeogebraCommonKernelMatrixCoords:project];
    jdouble scale_ = [((GeogebraCommonGeogebra3DEuclidian3DEuclidianView3D *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(drawable)) getView3D])) getScale];
    jboolean hitted;
    if (checkRealPointSize) {
      hitted = (d * scale_ <= pointSize + 2);
    }
    else {
      hitted = (d * scale_ <= GeogebraCommonEuclidianDrawDrawPoint_getSelectionThresholdWithInt_([hitting getThreshold]));
    }
    if (hitted) {
      jdouble z = -IOSDoubleArray_Get(nil_chk(parameters), 0);
      jdouble dz = pointSize / scale_;
      [drawable setZPickWithDouble:z + dz withDouble:z - dz];
      return YES;
    }
  }
  return NO;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DDrawDrawPoint3D)

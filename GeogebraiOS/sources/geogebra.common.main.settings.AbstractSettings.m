//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/main/settings/AbstractSettings.java
//


#include "J2ObjC_source.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/main/settings/AbstractSettings.h"
#include "geogebra/common/main/settings/SettingListener.h"
#include "java/util/LinkedList.h"

@interface GeogebraCommonMainSettingsAbstractSettings () {
 @public
  jboolean isBatch_;
  jboolean settingsChanged_;
  JavaUtilLinkedList *listeners_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonMainSettingsAbstractSettings, listeners_, JavaUtilLinkedList *)

__attribute__((unused)) static void GeogebraCommonMainSettingsAbstractSettings_settingChanged(GeogebraCommonMainSettingsAbstractSettings *self);

@implementation GeogebraCommonMainSettingsAbstractSettings

- (instancetype)init {
  GeogebraCommonMainSettingsAbstractSettings_init(self);
  return self;
}

- (instancetype)initWithJavaUtilLinkedList:(JavaUtilLinkedList *)listeners {
  GeogebraCommonMainSettingsAbstractSettings_initWithJavaUtilLinkedList_(self, listeners);
  return self;
}

- (void)setListenersWithJavaUtilLinkedList:(JavaUtilLinkedList *)listeners {
  GeogebraCommonMainSettingsAbstractSettings_set_listeners_(self, listeners);
}

- (void)settingChanged {
  GeogebraCommonMainSettingsAbstractSettings_settingChanged(self);
}

- (void)beginBatch {
  isBatch_ = YES;
  settingsChanged_ = NO;
}

- (void)endBatch {
  if (!isBatch_) {
    GeogebraCommonMainApp_debugWithNSString_(@"Settings: endBatch() called without beginBatch(). Maybe beginBatch() is missing?");
  }
  if (settingsChanged_) {
    for (id<GeogebraCommonMainSettingsSettingListener> __strong listener in nil_chk(listeners_)) {
      [((id<GeogebraCommonMainSettingsSettingListener>) nil_chk(listener)) settingsChangedWithGeogebraCommonMainSettingsAbstractSettings:self];
    }
  }
  isBatch_ = NO;
}

- (void)addListenerWithGeogebraCommonMainSettingsSettingListener:(id<GeogebraCommonMainSettingsSettingListener>)listener {
  [((JavaUtilLinkedList *) nil_chk(listeners_)) addWithId:listener];
}

- (void)removeListenerWithGeogebraCommonMainSettingsSettingListener:(id<GeogebraCommonMainSettingsSettingListener>)listener {
  [((JavaUtilLinkedList *) nil_chk(listeners_)) removeWithId:listener];
}

- (JavaUtilLinkedList *)getListeners {
  return listeners_;
}

- (void)dealloc {
  RELEASE_(listeners_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "AbstractSettings", NULL, 0x1, NULL, NULL },
    { "initWithJavaUtilLinkedList:", "AbstractSettings", NULL, 0x1, NULL, NULL },
    { "setListenersWithJavaUtilLinkedList:", "setListeners", "V", 0x1, NULL, NULL },
    { "settingChanged", NULL, "V", 0x14, NULL, NULL },
    { "beginBatch", NULL, "V", 0x11, NULL, NULL },
    { "endBatch", NULL, "V", 0x11, NULL, NULL },
    { "addListenerWithGeogebraCommonMainSettingsSettingListener:", "addListener", "V", 0x11, NULL, NULL },
    { "removeListenerWithGeogebraCommonMainSettingsSettingListener:", "removeListener", "V", 0x11, NULL, NULL },
    { "getListeners", NULL, "Ljava.util.LinkedList;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "isBatch_", NULL, 0x2, "Z", NULL, NULL,  },
    { "settingsChanged_", NULL, 0x2, "Z", NULL, NULL,  },
    { "listeners_", NULL, 0x2, "Ljava.util.LinkedList;", NULL, "Ljava/util/LinkedList<Lgeogebra/common/main/settings/SettingListener;>;",  },
  };
  static const J2ObjcClassInfo _GeogebraCommonMainSettingsAbstractSettings = { 2, "AbstractSettings", "geogebra.common.main.settings", NULL, 0x401, 9, methods, 3, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonMainSettingsAbstractSettings;
}

@end

void GeogebraCommonMainSettingsAbstractSettings_init(GeogebraCommonMainSettingsAbstractSettings *self) {
  NSObject_init(self);
  GeogebraCommonMainSettingsAbstractSettings_setAndConsume_listeners_(self, new_JavaUtilLinkedList_init());
}

void GeogebraCommonMainSettingsAbstractSettings_initWithJavaUtilLinkedList_(GeogebraCommonMainSettingsAbstractSettings *self, JavaUtilLinkedList *listeners) {
  NSObject_init(self);
  GeogebraCommonMainSettingsAbstractSettings_set_listeners_(self, listeners);
  GeogebraCommonMainSettingsAbstractSettings_settingChanged(self);
}

void GeogebraCommonMainSettingsAbstractSettings_settingChanged(GeogebraCommonMainSettingsAbstractSettings *self) {
  if (self->isBatch_) {
    self->settingsChanged_ = YES;
  }
  else {
    for (id<GeogebraCommonMainSettingsSettingListener> __strong listener in nil_chk(self->listeners_)) {
      [((id<GeogebraCommonMainSettingsSettingListener>) nil_chk(listener)) settingsChangedWithGeogebraCommonMainSettingsAbstractSettings:self];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonMainSettingsAbstractSettings)

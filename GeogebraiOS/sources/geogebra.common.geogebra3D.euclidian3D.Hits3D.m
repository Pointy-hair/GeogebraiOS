//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/euclidian3D/Hits3D.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/euclidian/Hits.h"
#include "geogebra/common/geogebra3D/euclidian3D/Hits3D.h"
#include "geogebra/common/geogebra3D/euclidian3D/draw/Drawable3D.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/Renderer.h"
#include "geogebra/common/geogebra3D/kernel3D/geos/GeoQuadric3D.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/kernelND/GeoConicND.h"
#include "geogebra/common/main/App.h"
#include "java/util/ArrayList.h"
#include "java/util/Iterator.h"
#include "java/util/TreeSet.h"

@class GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D;

#define GeogebraCommonGeogebra3DEuclidian3DHits3D_serialVersionUID 1LL

@interface GeogebraCommonGeogebra3DEuclidian3DHits3D () {
 @public
  IOSObjectArray *hitSet_;
  GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *hitsOthers_;
  GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *hitsLabels_;
  JavaUtilTreeSet *hitSetSet_;
  GeogebraCommonEuclidianHits *topHits_;
  JavaUtilArrayList *drawables3D_;
  jint QuadCount_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, hitSet_, IOSObjectArray *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, hitsOthers_, GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, hitsLabels_, GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, hitSetSet_, JavaUtilTreeSet *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, topHits_, GeogebraCommonEuclidianHits *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, drawables3D_, JavaUtilArrayList *)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D, serialVersionUID, jlong)

#define GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_serialVersionUID 1LL

@interface GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D : JavaUtilTreeSet

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DHits3D:(GeogebraCommonGeogebra3DEuclidian3DHits3D *)outer$
withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *)drawableComparator;

- (void)addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *)d
                                                      withDouble:(jdouble)zNear
                                                      withDouble:(jdouble)zFar;


@end

J2OBJC_EMPTY_STATIC_INIT(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D, serialVersionUID, jlong)

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *self, GeogebraCommonGeogebra3DEuclidian3DHits3D *outer$, GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *drawableComparator);

__attribute__((unused)) static GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *new_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(GeogebraCommonGeogebra3DEuclidian3DHits3D *outer$, GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *drawableComparator) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D)

@implementation GeogebraCommonGeogebra3DEuclidian3DHits3D

- (instancetype)init {
  GeogebraCommonGeogebra3DEuclidian3DHits3D_init(self);
  return self;
}

- (GeogebraCommonGeogebra3DEuclidian3DHits3D *)clone {
  GeogebraCommonGeogebra3DEuclidian3DHits3D *ret = (GeogebraCommonGeogebra3DEuclidian3DHits3D *) check_class_cast([super clone], [GeogebraCommonGeogebra3DEuclidian3DHits3D class]);
  GeogebraCommonGeogebra3DEuclidian3DHits3D_set_topHits_(nil_chk(ret), [((GeogebraCommonEuclidianHits *) nil_chk(self->topHits_)) clone]);
  ret->QuadCount_ = QuadCount_;
  return ret;
}

- (GeogebraCommonEuclidianHits *)newHits {
  return [new_GeogebraCommonGeogebra3DEuclidian3DHits3D_init() autorelease];
}

- (jboolean)addWithId:(GeogebraCommonKernelGeosGeoElement *)geo {
  if (geo == nil) {
    GeogebraCommonMainApp_errorWithNSString_(@"adding null geo");
    return NO;
  }
  if ([geo isKindOfClass:[GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D class]]) {
    QuadCount_++;
  }
  return [super addWithId:geo];
}

- (void)init__ {
  [super init__];
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX; i++) [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(IOSObjectArray_Get(nil_chk(hitSet_), i))) clear];
  [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsOthers_)) clear];
  [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsLabels_)) clear];
  [((GeogebraCommonEuclidianHits *) nil_chk(topHits_)) init__];
}

- (void)addDrawable3DWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *)d
     withGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum *)type
                                                                withDouble:(jdouble)zNear
                                                                withDouble:(jdouble)zFar {
  if (type == GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum_get_LABEL()) {
    if (![((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getGeoElement])) isGeoText]) {
      [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsLabels_)) addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:d withDouble:zNear withDouble:zFar];
    }
  }
  else {
    [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) setPickingTypeWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:type];
  }
  if ([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getPickOrder] < GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX) [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(IOSObjectArray_Get(nil_chk(hitSet_), [d getPickOrder]))) addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:d withDouble:zNear withDouble:zFar];
  else [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsOthers_)) addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:d withDouble:zNear withDouble:zFar];
}

- (void)addDrawable3DWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *)d
     withGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:(GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum *)type {
  if (type == GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum_get_LABEL()) {
    if (![((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getGeoElement])) isGeoText]) {
      [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsLabels_)) addWithId:d];
    }
  }
  else {
    [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) setPickingTypeWithGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:type];
  }
  if ([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getPickOrder] < GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX) [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(IOSObjectArray_Get(nil_chk(hitSet_), [d getPickOrder]))) addWithId:d];
  else [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsOthers_)) addWithId:d];
}

- (void)sort {
  [((JavaUtilTreeSet *) nil_chk(hitSetSet_)) clear];
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX; i++) {
    [hitSetSet_ addWithId:IOSObjectArray_Get(nil_chk(hitSet_), i)];
  }
  for (id<JavaUtilIterator> iter = [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk([hitSetSet_ first])) iterator]; [((id<JavaUtilIterator>) nil_chk(iter)) hasNext]; ) {
    GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *d = [iter next];
    [((GeogebraCommonEuclidianHits *) nil_chk(topHits_)) addWithId:[((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getGeoElement]];
  }
  JavaUtilArrayList *segmentList = [new_JavaUtilArrayList_init() autorelease];
  [((JavaUtilArrayList *) nil_chk(drawables3D_)) clear];
  for (id<JavaUtilIterator> iterSet = [hitSetSet_ iterator]; [((id<JavaUtilIterator>) nil_chk(iterSet)) hasNext]; ) {
    GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *set = [iterSet next];
    for (id<JavaUtilIterator> iter = [((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(set)) iterator]; [((id<JavaUtilIterator>) nil_chk(iter)) hasNext]; ) {
      GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *d = [iter next];
      [drawables3D_ addWithId:d];
      GeogebraCommonKernelGeosGeoElement *geo = [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getGeoElement];
      [self addWithId:geo];
      if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoSegment]) {
        [segmentList addWithId:geo];
      }
      else if ([geo isGeoConic]) {
        if ([d getPickingType] == GeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum_get_POINT_OR_CURVE()) {
          [((GeogebraCommonKernelKernelNDGeoConicND *) check_class_cast(geo, [GeogebraCommonKernelKernelNDGeoConicND class])) setLastHitTypeWithGeogebraCommonKernelGeosGeoElement_HitTypeEnum:GeogebraCommonKernelGeosGeoElement_HitTypeEnum_get_ON_BOUNDARY()];
        }
        else {
          [((GeogebraCommonKernelKernelNDGeoConicND *) check_class_cast(geo, [GeogebraCommonKernelKernelNDGeoConicND class])) setLastHitTypeWithGeogebraCommonKernelGeosGeoElement_HitTypeEnum:GeogebraCommonKernelGeosGeoElement_HitTypeEnum_get_ON_FILLING()];
        }
      }
    }
  }
}

- (JavaUtilArrayList *)getDrawables {
  return drawables3D_;
}

- (GeogebraCommonEuclidianHits *)getTopHits {
  if ([((GeogebraCommonEuclidianHits *) nil_chk(topHits_)) isEmpty]) return [self clone];
  return topHits_;
}

- (GeogebraCommonEuclidianHits *)getTopHitsWithInt:(jint)depth
                                           withInt:(jint)geoN {
  GeogebraCommonGeogebra3DEuclidian3DHits3D *ret = [new_GeogebraCommonGeogebra3DEuclidian3DHits3D_init() autorelease];
  jint depthCount = 0;
  jint geoNCount = 0;
  for (id<JavaUtilIterator> iterSet = [((JavaUtilTreeSet *) nil_chk(hitSetSet_)) iterator]; [((id<JavaUtilIterator>) nil_chk(iterSet)) hasNext] && depthCount < depth; ) {
    GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *set = [iterSet next];
    if ([((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(set)) size] > 0) depthCount++;
    for (id<JavaUtilIterator> iter = [set iterator]; [((id<JavaUtilIterator>) nil_chk(iter)) hasNext] && geoNCount < geoN; ) {
      GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *d = [iter next];
      GeogebraCommonKernelGeosGeoElement *geo = [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getGeoElement];
      [ret addWithId:geo];
      geoNCount++;
    }
  }
  return ret;
}

- (GeogebraCommonKernelGeosGeoElement *)getLabelHit {
  if ([((GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *) nil_chk(hitsLabels_)) isEmpty]) return nil;
  GeogebraCommonKernelGeosGeoElement *labelGeo = [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk([hitsLabels_ first])) getGeoElement];
  if (labelGeo == [((GeogebraCommonEuclidianHits *) nil_chk(topHits_)) getWithInt:0]) return labelGeo;
  return nil;
}

- (void)removeAllPolygonsButOne {
  [super removeAllPolygonsButOne];
  [((GeogebraCommonEuclidianHits *) nil_chk(topHits_)) clear];
}

- (void)removeAllPolygonsAndQuadricsButOne {
  jboolean foundTarget = NO;
  for (jint i = 0; i < [self size] - 1; ++i) {
    GeogebraCommonKernelGeosGeoElement *geo = [self getWithInt:i];
    if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoPolygon] || [geo isKindOfClass:[GeogebraCommonGeogebra3DKernel3DGeosGeoQuadric3D class]] || [geo isGeoConic]) {
      if (foundTarget) [self removeWithInt:i];
      foundTarget = YES;
    }
  }
}

- (GeogebraCommonEuclidianHits *)createNewHits {
  return [new_GeogebraCommonGeogebra3DEuclidian3DHits3D_init() autorelease];
}

- (void)dealloc {
  RELEASE_(hitSet_);
  RELEASE_(hitsOthers_);
  RELEASE_(hitsLabels_);
  RELEASE_(hitSetSet_);
  RELEASE_(topHits_);
  RELEASE_(drawables3D_);
  [super dealloc];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "Hits3D", NULL, 0x1, NULL, NULL },
    { "clone", NULL, "Lgeogebra.common.geogebra3D.euclidian3D.Hits3D;", 0x1, NULL, NULL },
    { "newHits", NULL, "Lgeogebra.common.euclidian.Hits;", 0x4, NULL, NULL },
    { "addWithId:", "add", "Z", 0x1, NULL, NULL },
    { "init__", "init", "V", 0x1, NULL, NULL },
    { "addDrawable3DWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:withGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:withDouble:withDouble:", "addDrawable3D", "V", 0x1, NULL, NULL },
    { "addDrawable3DWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:withGeogebraCommonGeogebra3DEuclidian3DOpenGLRenderer_PickingTypeEnum:", "addDrawable3D", "V", 0x1, NULL, NULL },
    { "sort", NULL, "V", 0x1, NULL, NULL },
    { "getDrawables", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getTopHits", NULL, "Lgeogebra.common.euclidian.Hits;", 0x1, NULL, NULL },
    { "getTopHitsWithInt:withInt:", "getTopHits", "Lgeogebra.common.euclidian.Hits;", 0x1, NULL, NULL },
    { "getLabelHit", NULL, "Lgeogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "removeAllPolygonsButOne", NULL, "V", 0x1, NULL, NULL },
    { "removeAllPolygonsAndQuadricsButOne", NULL, "V", 0x1, NULL, NULL },
    { "createNewHits", NULL, "Lgeogebra.common.euclidian.Hits;", 0x4, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = GeogebraCommonGeogebra3DEuclidian3DHits3D_serialVersionUID },
    { "hitSet_", NULL, 0x2, "[Lgeogebra.common.geogebra3D.euclidian3D.Hits3D$TreeSetOfDrawable3D;", NULL, NULL,  },
    { "hitsOthers_", NULL, 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.Hits3D$TreeSetOfDrawable3D;", NULL, NULL,  },
    { "hitsLabels_", NULL, 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.Hits3D$TreeSetOfDrawable3D;", NULL, NULL,  },
    { "hitSetSet_", NULL, 0x2, "Ljava.util.TreeSet;", NULL, "Ljava/util/TreeSet<Lgeogebra/common/geogebra3D/euclidian3D/Hits3D$TreeSetOfDrawable3D;>;",  },
    { "topHits_", NULL, 0x2, "Lgeogebra.common.euclidian.Hits;", NULL, NULL,  },
    { "drawables3D_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/geogebra3D/euclidian3D/draw/Drawable3D;>;",  },
    { "QuadCount_", NULL, 0x2, "I", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.geogebra3D.euclidian3D.Hits3D$TreeSetOfDrawable3D;"};
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DHits3D = { 2, "Hits3D", "geogebra.common.geogebra3D.euclidian3D", NULL, 0x1, 15, methods, 8, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_GeogebraCommonGeogebra3DEuclidian3DHits3D;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DHits3D_init(GeogebraCommonGeogebra3DEuclidian3DHits3D *self) {
  GeogebraCommonEuclidianHits_init(self);
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_hitSet_(self, [IOSObjectArray newArrayWithLength:GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX type:GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_class_()]);
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_hitsOthers_(self, new_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(self, [new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_init() autorelease]));
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_hitsLabels_(self, new_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(self, [new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_init() autorelease]));
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_hitSetSet_(self, new_JavaUtilTreeSet_initWithJavaUtilComparator_([new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_setComparator_init() autorelease]));
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_topHits_(self, new_GeogebraCommonEuclidianHits_init());
  GeogebraCommonGeogebra3DEuclidian3DHits3D_setAndConsume_drawables3D_(self, new_JavaUtilArrayList_init());
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_DRAW_PICK_ORDER_MAX; i++) IOSObjectArray_SetAndConsume(self->hitSet_, i, new_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(self, [new_GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_init() autorelease]));
  self->QuadCount_ = 0;
}

GeogebraCommonGeogebra3DEuclidian3DHits3D *new_GeogebraCommonGeogebra3DEuclidian3DHits3D_init() {
  GeogebraCommonGeogebra3DEuclidian3DHits3D *self = [GeogebraCommonGeogebra3DEuclidian3DHits3D alloc];
  GeogebraCommonGeogebra3DEuclidian3DHits3D_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DHits3D)

@implementation GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DHits3D:(GeogebraCommonGeogebra3DEuclidian3DHits3D *)outer$
withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *)drawableComparator {
  GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(self, outer$, drawableComparator);
  return self;
}

- (void)addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:(GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *)d
                                                      withDouble:(jdouble)zNear
                                                      withDouble:(jdouble)zFar {
  if ([self containsWithId:d]) {
    if ([((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) getZPickNear] > zNear) {
      return;
    }
    [self removeWithId:d];
  }
  [((GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D *) nil_chk(d)) setZPickWithDouble:zNear withDouble:zFar];
  [super addWithId:d];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGeogebra3DEuclidian3DHits3D:withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator:", "TreeSetOfDrawable3D", NULL, 0x1, NULL, NULL },
    { "addWithGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D:withDouble:withDouble:", "add", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_serialVersionUID },
  };
  static const char *superclass_type_args[] = {"Lgeogebra.common.geogebra3D.euclidian3D.draw.Drawable3D;"};
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D = { 2, "TreeSetOfDrawable3D", "geogebra.common.geogebra3D.euclidian3D", "Hits3D", 0x2, 2, methods, 1, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/util/TreeSet<Lgeogebra/common/geogebra3D/euclidian3D/draw/Drawable3D;>;" };
  return &_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *self, GeogebraCommonGeogebra3DEuclidian3DHits3D *outer$, GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *drawableComparator) {
  JavaUtilTreeSet_initWithJavaUtilComparator_(self, drawableComparator);
}

GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *new_GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(GeogebraCommonGeogebra3DEuclidian3DHits3D *outer$, GeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator *drawableComparator) {
  GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D *self = [GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D alloc];
  GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D_initWithGeogebraCommonGeogebra3DEuclidian3DHits3D_withGeogebraCommonGeogebra3DEuclidian3DDrawDrawable3D_drawableComparator_(self, outer$, drawableComparator);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DHits3D_TreeSetOfDrawable3D)

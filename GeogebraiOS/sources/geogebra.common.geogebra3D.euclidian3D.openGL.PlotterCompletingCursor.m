//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/euclidian3D/openGL/PlotterCompletingCursor.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/Manager.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/PlotterCompletingCursor.h"
#include "geogebra/common/kernel/Matrix/Coords.h"
#include "java/lang/Math.h"

@interface GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor () {
 @public
  jint index_, indexCircle_;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager_;
  GeogebraCommonKernelMatrixCoords *p_;
  jfloat r_, g_, b_, a_;
}

- (void)startGeometry;

- (void)endGeometry;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, manager_, GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, p_, GeogebraCommonKernelMatrixCoords *)

static jfloat GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff_ = 30.0f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, coeff_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, coeff_, jfloat)

static jfloat GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_ = 1.25f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, coeff2_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, coeff2_, jfloat)

static IOSFloatArray *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, u_, IOSFloatArray *)
J2OBJC_STATIC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, u_, IOSFloatArray *)

static IOSFloatArray *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, v_, IOSFloatArray *)
J2OBJC_STATIC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor, v_, IOSFloatArray *)

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self);

J2OBJC_INITIALIZED_DEFN(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor)

jint GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_ = 32;

@implementation GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager:(GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *)manager {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(self, manager);
  return self;
}

- (void)startGeometry {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(self);
}

- (void)endGeometry {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(self);
}

- (void)drawWithDouble:(jdouble)value
withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)color {
  if (value > 0.9f) {
    [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) drawWithInt:indexCircle_];
  }
  else {
    jint l = J2ObjCFpToInt((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_ * value));
    r_ = (jfloat) [((GeogebraCommonKernelMatrixCoords *) nil_chk(color)) getX];
    g_ = (jfloat) [color getY];
    b_ = (jfloat) [color getZ];
    a_ = (jfloat) [color getW];
    index_ = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) startNewListWithInt:index_];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(self);
    for (jint i = 0; i <= l; i++) {
      [((GeogebraCommonKernelMatrixCoords *) nil_chk(p_)) setXWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
      [p_ setYWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
      [manager_ triangleFanVertexWithGeogebraCommonKernelMatrixCoords:p_];
    }
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(self);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(self);
    for (jint i = 0; i <= l; i++) {
      [((GeogebraCommonKernelMatrixCoords *) nil_chk(p_)) setXWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
      [p_ setYWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
      [manager_ triangleFanVertexWithGeogebraCommonKernelMatrixCoords:p_];
    }
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(self);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(self);
    for (jint i = 0; i <= l; i++) {
      [((GeogebraCommonKernelMatrixCoords *) nil_chk(p_)) setXWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
      [p_ setYWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
      [manager_ triangleFanVertexWithGeogebraCommonKernelMatrixCoords:p_];
    }
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(self);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(self);
    for (jint i = 0; i <= l; i++) {
      [((GeogebraCommonKernelMatrixCoords *) nil_chk(p_)) setXWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
      [p_ setYWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
      [manager_ triangleFanVertexWithGeogebraCommonKernelMatrixCoords:p_];
    }
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(self);
    [manager_ endList];
    [manager_ drawWithInt:index_];
  }
}

- (void)dealloc {
  RELEASE_(manager_);
  RELEASE_(p_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor class]) {
    {
      jfloat dt = (jfloat) 1 / GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_;
      jfloat da = (jfloat) (JavaLangMath_PI * dt / 2);
      JreStrongAssignAndConsume(&GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, nil, [IOSFloatArray newArrayWithLength:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_ + 1]);
      JreStrongAssignAndConsume(&GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, nil, [IOSFloatArray newArrayWithLength:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_ + 1]);
      for (jint i = 0; i <= GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_; i++) {
        *IOSFloatArray_GetRef(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, i) = (jfloat) JavaLangMath_cosWithDouble_(i * da) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff_;
        *IOSFloatArray_GetRef(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, i) = (jfloat) JavaLangMath_sinWithDouble_(i * da) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff_;
      }
    }
    J2OBJC_SET_INITIALIZED(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager:", "PlotterCompletingCursor", NULL, 0x1, NULL, NULL },
    { "startGeometry", NULL, "V", 0x2, NULL, NULL },
    { "endGeometry", NULL, "V", 0x2, NULL, NULL },
    { "drawWithDouble:withGeogebraCommonKernelMatrixCoords:", "draw", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "coeff_", NULL, 0xa, "F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff_, NULL,  },
    { "coeff2_", NULL, 0xa, "F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_, NULL,  },
    { "index_", NULL, 0x2, "I", NULL, NULL,  },
    { "indexCircle_", NULL, 0x2, "I", NULL, NULL,  },
    { "manager_", NULL, 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.Manager;", NULL, NULL,  },
    { "u_", NULL, 0xa, "[F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, NULL,  },
    { "v_", NULL, 0xa, "[F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, NULL,  },
    { "longitude_", NULL, 0x8, "I", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_, NULL,  },
    { "p_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "r_", NULL, 0x2, "F", NULL, NULL,  },
    { "g_", NULL, 0x2, "F", NULL, NULL,  },
    { "b_", NULL, 0x2, "F", NULL, NULL,  },
    { "a_", NULL, 0x2, "F", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor = { 2, "PlotterCompletingCursor", "geogebra.common.geogebra3D.euclidian3D.openGL", NULL, 0x1, 4, methods, 13, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self, GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager) {
  NSObject_init(self);
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_setAndConsume_p_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_set_manager_(self, manager);
  self->index_ = -1;
  self->indexCircle_ = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager)) startNewListWithInt:-1];
  [manager startGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum:GeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum_get_TRIANGLE_STRIP()];
  [manager textureWithDouble:0 withDouble:0];
  [manager colorWithDouble:1.0f withDouble:0.5f withDouble:0.0f withDouble:1.0f];
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_; i++) {
    [self->p_ setXWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
    [self->p_ setYWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
    [self->p_ setXWithDouble:IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [self->p_ setYWithDouble:IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
  }
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_; i++) {
    [self->p_ setXWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
    [self->p_ setYWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
    [self->p_ setXWithDouble:-IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [self->p_ setYWithDouble:IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
  }
  for (jint i = 0; i < GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_; i++) {
    [self->p_ setXWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
    [self->p_ setYWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
    [self->p_ setXWithDouble:-IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [self->p_ setYWithDouble:-IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
  }
  for (jint i = 0; i <= GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_longitude_; i++) {
    [self->p_ setXWithDouble:IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_), i)];
    [self->p_ setYWithDouble:-IOSFloatArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_), i)];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
    [self->p_ setXWithDouble:IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_v_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [self->p_ setYWithDouble:-IOSFloatArray_Get(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_u_, i) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_coeff2_];
    [manager vertexWithGeogebraCommonKernelMatrixCoords:self->p_];
  }
  [manager endGeometry];
  [manager endList];
}

GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager) {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self = [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor alloc];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(self, manager);
  return self;
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_startGeometry(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self) {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(self->manager_)) startGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum:GeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum_get_TRIANGLE_FAN()];
  [self->manager_ textureWithDouble:0 withDouble:0];
  [self->manager_ colorWithDouble:self->r_ withDouble:self->g_ withDouble:self->b_ withDouble:self->a_];
  [self->manager_ triangleFanApexWithGeogebraCommonKernelMatrixCoords:GeogebraCommonKernelMatrixCoords_get_O_()];
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor_endGeometry(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor *self) {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(self->manager_)) endGeometry];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterCompletingCursor)

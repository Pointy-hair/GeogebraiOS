//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/cas/view/CASTableCellController.java
//


#include "J2ObjC_source.h"
#include "geogebra/common/cas/view/CASTableCellController.h"
#include "geogebra/common/euclidian/EuclidianConstants.h"
#include "geogebra/common/euclidian/event/KeyEvent.h"
#include "geogebra/common/main/App.h"

@implementation GeogebraCommonCasViewCASTableCellController

- (void)handleEnterKeyWithGeogebraCommonEuclidianEventKeyEvent:(GeogebraCommonEuclidianEventKeyEvent *)e
                                     withGeogebraCommonMainApp:(GeogebraCommonMainApp *)app {
  @synchronized(self) {
    jint mode = [((GeogebraCommonMainApp *) nil_chk(app)) getMode];
    if ([((GeogebraCommonEuclidianEventKeyEvent *) nil_chk(e)) isCtrlDown]) {
      if (mode == GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_NUMERIC) {
        [app setModeWithInt:GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_EVALUATE];
      }
      else {
        [app setModeWithInt:GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_NUMERIC];
      }
      [app setModeWithInt:mode];
      return;
    }
    if ([e isAltDown]) {
      if (mode == GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_KEEP_INPUT) {
        [app setModeWithInt:GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_EVALUATE];
      }
      else {
        [app setModeWithInt:GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_KEEP_INPUT];
      }
      [app setModeWithInt:mode];
      return;
    }
    switch (mode) {
      case GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_EVALUATE:
      case GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_NUMERIC:
      case GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_KEEP_INPUT:
      [app setModeWithInt:mode];
      break;
      default:
      [app setModeWithInt:GeogebraCommonEuclidianEuclidianConstants_MODE_CAS_EVALUATE];
    }
  }
}

- (instancetype)init {
  GeogebraCommonCasViewCASTableCellController_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "handleEnterKeyWithGeogebraCommonEuclidianEventKeyEvent:withGeogebraCommonMainApp:", "handleEnterKey", "V", 0x24, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcClassInfo _GeogebraCommonCasViewCASTableCellController = { 2, "CASTableCellController", "geogebra.common.cas.view", NULL, 0x1, 2, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonCasViewCASTableCellController;
}

@end

void GeogebraCommonCasViewCASTableCellController_init(GeogebraCommonCasViewCASTableCellController *self) {
  NSObject_init(self);
}

GeogebraCommonCasViewCASTableCellController *new_GeogebraCommonCasViewCASTableCellController_init() {
  GeogebraCommonCasViewCASTableCellController *self = [GeogebraCommonCasViewCASTableCellController alloc];
  GeogebraCommonCasViewCASTableCellController_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonCasViewCASTableCellController)

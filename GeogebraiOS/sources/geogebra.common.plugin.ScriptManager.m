//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/plugin/ScriptManager.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/plugin/Event.h"
#include "geogebra/common/plugin/EventDispatcher.h"
#include "geogebra/common/plugin/EventType.h"
#include "geogebra/common/plugin/ScriptManager.h"
#include "java/io/PrintStream.h"
#include "java/lang/System.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"

@interface GeogebraCommonPluginScriptManager ()

+ (IOSObjectArray *)getArgumentsWithGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt;

- (void)callListenersWithJavaUtilList:(id<JavaUtilList>)listeners
        withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt;

- (void)callClientListenersWithJavaUtilList:(id<JavaUtilList>)listeners
              withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt;

- (void)callListenerWithNSString:(NSString *)listener
   withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt;

- (void)registerGlobalListenerWithJavaUtilArrayList:(JavaUtilArrayList *)listenerList
                                       withNSString:(NSString *)jSFunctionName
                                       withNSString:(NSString *)string;

- (JavaUtilHashMap *)registerObjectListenerWithJavaUtilHashMap:(JavaUtilHashMap *)map
                                                  withNSString:(NSString *)objName
                                                  withNSString:(NSString *)JSFunctionName;

- (void)unregisterObjectListenerWithJavaUtilHashMap:(JavaUtilHashMap *)map
                                       withNSString:(NSString *)objName;

@end

__attribute__((unused)) static IOSObjectArray *GeogebraCommonPluginScriptManager_getArgumentsWithGeogebraCommonPluginEvent_(GeogebraCommonPluginEvent *evt);

__attribute__((unused)) static void GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, id<JavaUtilList> listeners, GeogebraCommonPluginEvent *evt);

__attribute__((unused)) static void GeogebraCommonPluginScriptManager_callClientListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, id<JavaUtilList> listeners, GeogebraCommonPluginEvent *evt);

__attribute__((unused)) static void GeogebraCommonPluginScriptManager_callListenerWithNSString_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, NSString *listener, GeogebraCommonPluginEvent *evt);

__attribute__((unused)) static void GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilArrayList *listenerList, NSString *jSFunctionName, NSString *string);

__attribute__((unused)) static JavaUtilHashMap *GeogebraCommonPluginScriptManager_registerObjectListenerWithJavaUtilHashMap_withNSString_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilHashMap *map, NSString *objName, NSString *JSFunctionName);

__attribute__((unused)) static void GeogebraCommonPluginScriptManager_unregisterObjectListenerWithJavaUtilHashMap_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilHashMap *map, NSString *objName);

@implementation GeogebraCommonPluginScriptManager

- (instancetype)initWithGeogebraCommonMainApp:(GeogebraCommonMainApp *)app {
  GeogebraCommonPluginScriptManager_initWithGeogebraCommonMainApp_(self, app);
  return self;
}

- (void)sendEventWithGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt {
  if (!listenersEnabled_) {
    return;
  }
  switch ([((GeogebraCommonPluginEvent *) nil_chk(evt))->type_ ordinal]) {
    case GeogebraCommonPluginEventType_CLICK:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, clickListeners_, evt);
    if (clickListenerMap_ != nil) {
      GeogebraCommonPluginScriptManager_callListenerWithNSString_withGeogebraCommonPluginEvent_(self, [clickListenerMap_ getWithId:evt->target_], evt);
    }
    break;
    case GeogebraCommonPluginEventType_UPDATE:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, updateListeners_, evt);
    if (updateListenerMap_ != nil) {
      GeogebraCommonPluginScriptManager_callListenerWithNSString_withGeogebraCommonPluginEvent_(self, [updateListenerMap_ getWithId:evt->target_], evt);
    }
    break;
    case GeogebraCommonPluginEventType_ADD:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, addListeners_, evt);
    break;
    case GeogebraCommonPluginEventType_STOREUNDO:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, storeUndoListeners_, evt);
    break;
    case GeogebraCommonPluginEventType_REMOVE:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, removeListeners_, evt);
    break;
    case GeogebraCommonPluginEventType_RENAME:
    GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, renameListeners_, evt);
    break;
    case GeogebraCommonPluginEventType_RENAME_COMPLETE:
    case GeogebraCommonPluginEventType_ADD_POLYGON:
    case GeogebraCommonPluginEventType_ADD_POLYGON_COMPLETE:
    case GeogebraCommonPluginEventType_MOVING_GEOS:
    case GeogebraCommonPluginEventType_MOVED_GEOS:
    case GeogebraCommonPluginEventType_PASTE_ELMS:
    case GeogebraCommonPluginEventType_PASTE_ELMS_COMPLETE:
    case GeogebraCommonPluginEventType_DELETE_GEOS:
    case GeogebraCommonPluginEventType_LOGIN:
    GeogebraCommonPluginScriptManager_callClientListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, clientListeners_, evt);
    break;
    default:
    GeogebraCommonMainApp_debugWithNSString_(@"Unknown event type");
  }
}

+ (IOSObjectArray *)getArgumentsWithGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt {
  return GeogebraCommonPluginScriptManager_getArgumentsWithGeogebraCommonPluginEvent_(evt);
}

- (void)callListenersWithJavaUtilList:(id<JavaUtilList>)listeners
        withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt {
  GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, listeners, evt);
}

- (void)callClientListenersWithJavaUtilList:(id<JavaUtilList>)listeners
              withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt {
  GeogebraCommonPluginScriptManager_callClientListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(self, listeners, evt);
}

- (void)callListenerWithNSString:(NSString *)listener
   withGeogebraCommonPluginEvent:(GeogebraCommonPluginEvent *)evt {
  GeogebraCommonPluginScriptManager_callListenerWithNSString_withGeogebraCommonPluginEvent_(self, listener, evt);
}

- (void)disableListeners {
  listenersEnabled_ = NO;
}

- (void)enableListeners {
  listenersEnabled_ = YES;
}

- (void)reset {
  if (updateListenerMap_ != nil) {
    GeogebraCommonPluginScriptManager_set_updateListenerMap_(self, nil);
  }
  if (clickListenerMap_ != nil) {
    GeogebraCommonPluginScriptManager_set_clickListenerMap_(self, nil);
  }
  if (!listenersEnabled_) return;
  if (addListeners_ != nil) {
    [addListeners_ clear];
  }
  if (removeListeners_ != nil) {
    [removeListeners_ clear];
  }
  if (renameListeners_ != nil) {
    [renameListeners_ clear];
  }
  if (updateListeners_ != nil) {
    [updateListeners_ clear];
  }
  if (clearListeners_ != nil) {
    [clearListeners_ clear];
  }
  if (clientListeners_ != nil) {
    [clientListeners_ clear];
  }
}

- (void)registerAddListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, addListeners_, JSFunctionName, @"registerAddListener");
  }
}

- (void)registerStoreUndoListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (![((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonMainApp *) nil_chk(app_)) getKernel])) isUndoActive]) {
      [((GeogebraCommonKernelKernel *) nil_chk([app_ getKernel])) setUndoActiveWithBoolean:YES];
      [((GeogebraCommonKernelKernel *) nil_chk([app_ getKernel])) initUndoInfo];
    }
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, storeUndoListeners_, JSFunctionName, @"registerStoreUndoListener");
  }
}

- (void)registerGlobalListenerWithJavaUtilArrayList:(JavaUtilArrayList *)listenerList
                                       withNSString:(NSString *)jSFunctionName
                                       withNSString:(NSString *)string {
  GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, listenerList, jSFunctionName, string);
}

- (void)unregisterAddListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (addListeners_ != nil) {
      [addListeners_ removeWithId:JSFunctionName];
      GeogebraCommonMainApp_debugWithNSString_(JreStrcat("$$", @"unregisterAddListener: ", JSFunctionName));
    }
  }
}

- (void)registerRemoveListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, removeListeners_, JSFunctionName, @"registerRemoveListener");
  }
}

- (void)unregisterRemoveListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (removeListeners_ != nil) {
      [removeListeners_ removeWithId:JSFunctionName];
      GeogebraCommonMainApp_debugWithNSString_(JreStrcat("$$", @"unregisterRemoveListener: ", JSFunctionName));
    }
  }
}

- (void)registerClearListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, clearListeners_, JSFunctionName, @"registerClearListener");
  }
}

- (void)unregisterClearListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (clearListeners_ != nil) {
      [clearListeners_ removeWithId:JSFunctionName];
      GeogebraCommonMainApp_debugWithNSString_(JreStrcat("$$", @"unregisterClearListener: ", JSFunctionName));
    }
  }
}

- (void)registerRenameListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, renameListeners_, JSFunctionName, @"registerRenameListener");
  }
}

- (void)unregisterRenameListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (renameListeners_ != nil) {
      [renameListeners_ removeWithId:JSFunctionName];
      GeogebraCommonMainApp_debugWithNSString_(JreStrcat("$$", @"unregisterRenameListener: ", JSFunctionName));
    }
  }
}

- (void)registerUpdateListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, updateListeners_, JSFunctionName, @"registerUpdateListener");
  }
}

- (void)unregisterUpdateListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (updateListeners_ != nil) {
      [updateListeners_ removeWithId:JSFunctionName];
    }
  }
}

- (void)registerClickListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, clickListeners_, JSFunctionName, @"registerUpdateListener");
  }
}

- (void)unregisterClickListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (clickListeners_ != nil) {
      [clickListeners_ removeWithId:JSFunctionName];
    }
  }
}

- (void)registerClientListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(self, clientListeners_, JSFunctionName, @"registerClientListener");
  }
}

- (void)unregisterClientListenerWithNSString:(NSString *)JSFunctionName {
  @synchronized(self) {
    if (clientListeners_ != nil) {
      [clientListeners_ removeWithId:JSFunctionName];
    }
  }
}

- (JavaUtilHashMap *)registerObjectListenerWithJavaUtilHashMap:(JavaUtilHashMap *)map
                                                  withNSString:(NSString *)objName
                                                  withNSString:(NSString *)JSFunctionName {
  return GeogebraCommonPluginScriptManager_registerObjectListenerWithJavaUtilHashMap_withNSString_withNSString_(self, map, objName, JSFunctionName);
}

- (void)unregisterObjectListenerWithJavaUtilHashMap:(JavaUtilHashMap *)map
                                       withNSString:(NSString *)objName {
  GeogebraCommonPluginScriptManager_unregisterObjectListenerWithJavaUtilHashMap_withNSString_(self, map, objName);
}

- (void)registerObjectUpdateListenerWithNSString:(NSString *)objName
                                    withNSString:(NSString *)fName {
  GeogebraCommonPluginScriptManager_set_updateListenerMap_(self, GeogebraCommonPluginScriptManager_registerObjectListenerWithJavaUtilHashMap_withNSString_withNSString_(self, updateListenerMap_, objName, fName));
}

- (void)unregisterObjectUpdateListenerWithNSString:(NSString *)objName {
  GeogebraCommonPluginScriptManager_unregisterObjectListenerWithJavaUtilHashMap_withNSString_(self, updateListenerMap_, objName);
}

- (void)registerObjectClickListenerWithNSString:(NSString *)objName
                                   withNSString:(NSString *)fName {
  GeogebraCommonPluginScriptManager_set_clickListenerMap_(self, GeogebraCommonPluginScriptManager_registerObjectListenerWithJavaUtilHashMap_withNSString_withNSString_(self, clickListenerMap_, objName, fName));
}

- (void)unregisterObjectClickListenerWithNSString:(NSString *)objName {
  GeogebraCommonPluginScriptManager_unregisterObjectListenerWithJavaUtilHashMap_withNSString_(self, clickListenerMap_, objName);
}

- (void)ggbOnInit {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)initJavaScript {
  @synchronized(self) {
  }
}

- (void)callJavaScriptWithNSString:(NSString *)jsFunction
                 withNSObjectArray:(IOSObjectArray *)args {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (JavaUtilArrayList *)getAddListeners {
  if (addListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_addListeners_(self, new_JavaUtilArrayList_init());
  }
  return addListeners_;
}

- (JavaUtilArrayList *)getStoreUndoListeners {
  if (storeUndoListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_storeUndoListeners_(self, new_JavaUtilArrayList_init());
  }
  return storeUndoListeners_;
}

- (JavaUtilArrayList *)getRemoveListeners {
  if (removeListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_removeListeners_(self, new_JavaUtilArrayList_init());
  }
  return removeListeners_;
}

- (JavaUtilArrayList *)getRenameListeners {
  if (renameListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_renameListeners_(self, new_JavaUtilArrayList_init());
  }
  return renameListeners_;
}

- (JavaUtilArrayList *)getupdateListeners {
  if (updateListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_updateListeners_(self, new_JavaUtilArrayList_init());
  }
  return updateListeners_;
}

- (JavaUtilArrayList *)getClearListeners {
  if (clearListeners_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_clearListeners_(self, new_JavaUtilArrayList_init());
  }
  return clearListeners_;
}

- (JavaUtilHashMap *)getUpdateListenerMap {
  if (updateListenerMap_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_updateListenerMap_(self, new_JavaUtilHashMap_init());
  }
  return updateListenerMap_;
}

- (JavaUtilHashMap *)getClickListenerMap {
  if (clickListenerMap_ == nil) {
    GeogebraCommonPluginScriptManager_setAndConsume_clickListenerMap_(self, new_JavaUtilHashMap_init());
  }
  return clickListenerMap_;
}

- (void)setGlobalScript {
}

- (void)dealloc {
  RELEASE_(app_);
  RELEASE_(updateListenerMap_);
  RELEASE_(clickListenerMap_);
  RELEASE_(addListeners_);
  RELEASE_(storeUndoListeners_);
  RELEASE_(removeListeners_);
  RELEASE_(renameListeners_);
  RELEASE_(updateListeners_);
  RELEASE_(clickListeners_);
  RELEASE_(clearListeners_);
  RELEASE_(clientListeners_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonMainApp:", "ScriptManager", NULL, 0x1, NULL, NULL },
    { "sendEventWithGeogebraCommonPluginEvent:", "sendEvent", "V", 0x1, NULL, NULL },
    { "getArgumentsWithGeogebraCommonPluginEvent:", "getArguments", "[Ljava.lang.Object;", 0xa, NULL, NULL },
    { "callListenersWithJavaUtilList:withGeogebraCommonPluginEvent:", "callListeners", "V", 0x2, NULL, NULL },
    { "callClientListenersWithJavaUtilList:withGeogebraCommonPluginEvent:", "callClientListeners", "V", 0x2, NULL, NULL },
    { "callListenerWithNSString:withGeogebraCommonPluginEvent:", "callListener", "V", 0x2, NULL, NULL },
    { "disableListeners", NULL, "V", 0x1, NULL, NULL },
    { "enableListeners", NULL, "V", 0x1, NULL, NULL },
    { "reset", NULL, "V", 0x1, NULL, NULL },
    { "registerAddListenerWithNSString:", "registerAddListener", "V", 0x21, NULL, NULL },
    { "registerStoreUndoListenerWithNSString:", "registerStoreUndoListener", "V", 0x21, NULL, NULL },
    { "registerGlobalListenerWithJavaUtilArrayList:withNSString:withNSString:", "registerGlobalListener", "V", 0x2, NULL, NULL },
    { "unregisterAddListenerWithNSString:", "unregisterAddListener", "V", 0x21, NULL, NULL },
    { "registerRemoveListenerWithNSString:", "registerRemoveListener", "V", 0x21, NULL, NULL },
    { "unregisterRemoveListenerWithNSString:", "unregisterRemoveListener", "V", 0x21, NULL, NULL },
    { "registerClearListenerWithNSString:", "registerClearListener", "V", 0x21, NULL, NULL },
    { "unregisterClearListenerWithNSString:", "unregisterClearListener", "V", 0x21, NULL, NULL },
    { "registerRenameListenerWithNSString:", "registerRenameListener", "V", 0x21, NULL, NULL },
    { "unregisterRenameListenerWithNSString:", "unregisterRenameListener", "V", 0x21, NULL, NULL },
    { "registerUpdateListenerWithNSString:", "registerUpdateListener", "V", 0x21, NULL, NULL },
    { "unregisterUpdateListenerWithNSString:", "unregisterUpdateListener", "V", 0x21, NULL, NULL },
    { "registerClickListenerWithNSString:", "registerClickListener", "V", 0x21, NULL, NULL },
    { "unregisterClickListenerWithNSString:", "unregisterClickListener", "V", 0x21, NULL, NULL },
    { "registerClientListenerWithNSString:", "registerClientListener", "V", 0x21, NULL, NULL },
    { "unregisterClientListenerWithNSString:", "unregisterClientListener", "V", 0x21, NULL, NULL },
    { "registerObjectListenerWithJavaUtilHashMap:withNSString:withNSString:", "registerObjectListener", "Ljava.util.HashMap;", 0x22, NULL, NULL },
    { "unregisterObjectListenerWithJavaUtilHashMap:withNSString:", "unregisterObjectListener", "V", 0x22, NULL, NULL },
    { "registerObjectUpdateListenerWithNSString:withNSString:", "registerObjectUpdateListener", "V", 0x1, NULL, NULL },
    { "unregisterObjectUpdateListenerWithNSString:", "unregisterObjectUpdateListener", "V", 0x1, NULL, NULL },
    { "registerObjectClickListenerWithNSString:withNSString:", "registerObjectClickListener", "V", 0x1, NULL, NULL },
    { "unregisterObjectClickListenerWithNSString:", "unregisterObjectClickListener", "V", 0x1, NULL, NULL },
    { "ggbOnInit", NULL, "V", 0x401, NULL, NULL },
    { "initJavaScript", NULL, "V", 0x21, NULL, NULL },
    { "callJavaScriptWithNSString:withNSObjectArray:", "callJavaScript", "V", 0x401, NULL, NULL },
    { "getAddListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getStoreUndoListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getRemoveListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getRenameListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getupdateListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getClearListeners", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getUpdateListenerMap", NULL, "Ljava.util.HashMap;", 0x1, NULL, NULL },
    { "getClickListenerMap", NULL, "Ljava.util.HashMap;", 0x1, NULL, NULL },
    { "setGlobalScript", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "app_", NULL, 0x4, "Lgeogebra.common.main.App;", NULL, NULL,  },
    { "listenersEnabled_", NULL, 0x4, "Z", NULL, NULL,  },
    { "updateListenerMap_", NULL, 0x4, "Ljava.util.HashMap;", NULL, "Ljava/util/HashMap<Lgeogebra/common/kernel/geos/GeoElement;Ljava/lang/String;>;",  },
    { "clickListenerMap_", NULL, 0x4, "Ljava.util.HashMap;", NULL, "Ljava/util/HashMap<Lgeogebra/common/kernel/geos/GeoElement;Ljava/lang/String;>;",  },
    { "addListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "storeUndoListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "removeListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "renameListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "updateListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "clickListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "clearListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
    { "clientListeners_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Ljava/lang/String;>;",  },
  };
  static const J2ObjcClassInfo _GeogebraCommonPluginScriptManager = { 2, "ScriptManager", "geogebra.common.plugin", NULL, 0x401, 43, methods, 12, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonPluginScriptManager;
}

@end

void GeogebraCommonPluginScriptManager_initWithGeogebraCommonMainApp_(GeogebraCommonPluginScriptManager *self, GeogebraCommonMainApp *app) {
  NSObject_init(self);
  self->listenersEnabled_ = YES;
  GeogebraCommonPluginScriptManager_setAndConsume_addListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_storeUndoListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_removeListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_renameListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_updateListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_clickListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_clearListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_setAndConsume_clientListeners_(self, new_JavaUtilArrayList_init());
  GeogebraCommonPluginScriptManager_set_app_(self, app);
  [((GeogebraCommonPluginEventDispatcher *) nil_chk([((GeogebraCommonMainApp *) nil_chk(app)) getEventDispatcher])) addEventListenerWithGeogebraCommonPluginEventListener:self];
}

IOSObjectArray *GeogebraCommonPluginScriptManager_getArgumentsWithGeogebraCommonPluginEvent_(GeogebraCommonPluginEvent *evt) {
  GeogebraCommonPluginScriptManager_initialize();
  GeogebraCommonKernelGeosGeoElement *geo = ((GeogebraCommonPluginEvent *) nil_chk(evt))->target_;
  if (geo == nil) {
    return [IOSObjectArray arrayWithLength:0 type:NSObject_class_()];
  }
  NSString *label = [((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) getLabelWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()];
  if (evt->type_ == GeogebraCommonPluginEventTypeEnum_get_RENAME()) {
    return [IOSObjectArray arrayWithObjects:(id[]){ [geo getOldLabel], label } count:2 type:NSObject_class_()];
  }
  else if (evt->argument_ == nil) {
    return [IOSObjectArray arrayWithObjects:(id[]){ label } count:1 type:NSObject_class_()];
  }
  return [IOSObjectArray arrayWithObjects:(id[]){ label, evt->argument_ } count:2 type:NSObject_class_()];
}

void GeogebraCommonPluginScriptManager_callListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, id<JavaUtilList> listeners, GeogebraCommonPluginEvent *evt) {
  if ([((id<JavaUtilList>) nil_chk(listeners)) isEmpty]) {
    return;
  }
  IOSObjectArray *args = GeogebraCommonPluginScriptManager_getArgumentsWithGeogebraCommonPluginEvent_(evt);
  for (NSString * __strong listener in listeners) {
    {
      IOSObjectArray *a__ = args;
      id const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
      id const *e__ = b__ + a__->size_;
      while (b__ < e__) {
        id obj = *b__++;
        [((JavaIoPrintStream *) nil_chk(JavaLangSystem_get_out_())) printlnWithNSString:JreStrcat("$$", @"Arg: ", [nil_chk(obj) description])];
      }
    }
    [self callJavaScriptWithNSString:listener withNSObjectArray:args];
  }
}

void GeogebraCommonPluginScriptManager_callClientListenersWithJavaUtilList_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, id<JavaUtilList> listeners, GeogebraCommonPluginEvent *evt) {
  if ([((id<JavaUtilList>) nil_chk(listeners)) isEmpty]) {
    return;
  }
  JavaUtilArrayList *args = [new_JavaUtilArrayList_init() autorelease];
  [args addWithId:[((GeogebraCommonPluginEventTypeEnum *) nil_chk(((GeogebraCommonPluginEvent *) nil_chk(evt))->type_)) getName]];
  if (evt->targets_ != nil) {
    for (GeogebraCommonKernelGeosGeoElement * __strong geo in evt->targets_) {
      [args addWithId:[((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) getLabelSimple]];
    }
  }
  else if (evt->target_ != nil) {
    [args addWithId:[evt->target_ getLabelSimple]];
  }
  else {
    [args addWithId:@""];
  }
  if (evt->argument_ != nil) {
    [args addWithId:evt->argument_];
  }
  for (NSString * __strong listener in listeners) {
    [self callJavaScriptWithNSString:listener withNSObjectArray:[args toArray]];
  }
}

void GeogebraCommonPluginScriptManager_callListenerWithNSString_withGeogebraCommonPluginEvent_(GeogebraCommonPluginScriptManager *self, NSString *listener, GeogebraCommonPluginEvent *evt) {
  if (listener != nil) {
    [self callJavaScriptWithNSString:listener withNSObjectArray:GeogebraCommonPluginScriptManager_getArgumentsWithGeogebraCommonPluginEvent_(evt)];
  }
}

void GeogebraCommonPluginScriptManager_registerGlobalListenerWithJavaUtilArrayList_withNSString_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilArrayList *listenerList, NSString *jSFunctionName, NSString *string) {
  if (jSFunctionName == nil || ((jint) [jSFunctionName length]) == 0) {
    return;
  }
  [self initJavaScript];
  if (listenerList != nil) {
    [listenerList addWithId:jSFunctionName];
  }
  GeogebraCommonMainApp_debugWithNSString_(JreStrcat("$$I$$", string, @" (", [((JavaUtilArrayList *) nil_chk(listenerList)) size], @") : ", jSFunctionName));
}

JavaUtilHashMap *GeogebraCommonPluginScriptManager_registerObjectListenerWithJavaUtilHashMap_withNSString_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilHashMap *map, NSString *objName, NSString *JSFunctionName) {
  @synchronized(self) {
    if (JSFunctionName == nil || ((jint) [JSFunctionName length]) == 0) {
      return map;
    }
    GeogebraCommonKernelGeosGeoElement *geo = [((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonMainApp *) nil_chk(self->app_)) getKernel])) lookupLabelWithNSString:objName];
    if (geo == nil) {
      return map;
    }
    [self initJavaScript];
    if (map == nil) {
      map = [new_JavaUtilHashMap_init() autorelease];
    }
    [((JavaUtilHashMap *) nil_chk(map)) putWithId:geo withId:JSFunctionName];
    return map;
  }
}

void GeogebraCommonPluginScriptManager_unregisterObjectListenerWithJavaUtilHashMap_withNSString_(GeogebraCommonPluginScriptManager *self, JavaUtilHashMap *map, NSString *objName) {
  @synchronized(self) {
    if (map != nil) {
      GeogebraCommonKernelGeosGeoElement *geo = [((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonMainApp *) nil_chk(self->app_)) getKernel])) lookupLabelWithNSString:objName];
      if (geo != nil) {
        [map removeWithId:geo];
      }
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonPluginScriptManager)

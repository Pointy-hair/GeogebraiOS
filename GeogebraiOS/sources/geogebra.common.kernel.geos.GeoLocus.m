//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/geos/GeoLocus.java
//


#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Matrix/Coords.h"
#include "geogebra/common/kernel/MyPoint.h"
#include "geogebra/common/kernel/PathParameter.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoLocus.h"
#include "geogebra/common/kernel/geos/GeoLocusND.h"
#include "geogebra/common/kernel/geos/GeoPoint.h"
#include "geogebra/common/kernel/geos/GeoSegment.h"
#include "geogebra/common/kernel/kernelND/GeoPointND.h"
#include "geogebra/common/kernel/kernelND/GeoSegmentND.h"
#include "java/util/ArrayList.h"

@interface GeogebraCommonKernelGeosGeoLocus () {
 @public
  GeogebraCommonKernelMatrixCoords *changingPoint_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoLocus, changingPoint_, GeogebraCommonKernelMatrixCoords *)

@implementation GeogebraCommonKernelGeosGeoLocus

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)c {
  GeogebraCommonKernelGeosGeoLocus_initWithGeogebraCommonKernelConstruction_(self, c);
  return self;
}

- (GeogebraCommonKernelGeosGeoLocus *)newGeoLocus {
  return [new_GeogebraCommonKernelGeosGeoLocus_initWithGeogebraCommonKernelConstruction_(cons_) autorelease];
}

- (void)insertPointWithDouble:(jdouble)x
                   withDouble:(jdouble)y
                  withBoolean:(jboolean)lineTo {
  [((JavaUtilArrayList *) nil_chk(myPointList_)) addWithId:[new_GeogebraCommonKernelMyPoint_initWithDouble_withDouble_withBoolean_(x, y, lineTo) autorelease]];
}

- (void)pointChangedWithGeogebraCommonKernelKernelNDGeoPointND:(id<GeogebraCommonKernelKernelNDGeoPointND>)P {
  GeogebraCommonKernelMatrixCoords *coords = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(P)) getCoordsInD2])) getInhomCoordsInSameDimension];
  [self setChangingPointWithGeogebraCommonKernelKernelNDGeoPointND:P];
  GeogebraCommonKernelMyPoint *closestPoint = [self getClosestPoint];
  GeogebraCommonKernelPathParameter *pp = [P getPathParameter];
  if (closestPoint != nil) {
    [((GeogebraCommonKernelMatrixCoords *) nil_chk(coords)) setXWithDouble:closestPoint->x_];
    [coords setYWithDouble:closestPoint->y_];
    [coords setZWithDouble:1.0];
    ((GeogebraCommonKernelPathParameter *) nil_chk(pp))->t_ = closestPointIndex_ + closestPointParameter_;
  }
  [P setCoords2DWithDouble:[((GeogebraCommonKernelMatrixCoords *) nil_chk(coords)) getX] withDouble:[coords getY] withDouble:[coords getZ]];
  [P updateCoordsFrom2DWithBoolean:NO];
  [P updateCoords];
}

- (id<GeogebraCommonKernelKernelNDGeoSegmentND>)newGeoSegment {
  GeogebraCommonKernelGeosGeoSegment *segment = [new_GeogebraCommonKernelGeosGeoSegment_initWithGeogebraCommonKernelConstruction_(cons_) autorelease];
  GeogebraCommonKernelGeosGeoPoint *p1 = [new_GeogebraCommonKernelGeosGeoPoint_initWithGeogebraCommonKernelConstruction_(cons_) autorelease];
  GeogebraCommonKernelGeosGeoPoint *p2 = [new_GeogebraCommonKernelGeosGeoPoint_initWithGeogebraCommonKernelConstruction_(cons_) autorelease];
  [segment setStartPointWithGeogebraCommonKernelGeosGeoPoint:p1];
  [segment setEndPointWithGeogebraCommonKernelGeosGeoPoint:p2];
  return segment;
}

- (void)setChangingPointWithGeogebraCommonKernelKernelNDGeoPointND:(id<GeogebraCommonKernelKernelNDGeoPointND>)P {
  GeogebraCommonKernelGeosGeoLocus_set_changingPoint_(self, [((GeogebraCommonKernelMatrixCoords *) nil_chk([((id<GeogebraCommonKernelKernelNDGeoPointND>) nil_chk(P)) getCoordsInD2])) getInhomCoordsInSameDimension]);
}

- (jdouble)changingPointDistanceWithGeogebraCommonKernelKernelNDGeoSegmentND:(id<GeogebraCommonKernelKernelNDGeoSegmentND>)segment {
  return [((GeogebraCommonKernelGeosGeoSegment *) nil_chk(((GeogebraCommonKernelGeosGeoSegment *) check_class_cast(segment, [GeogebraCommonKernelGeosGeoSegment class])))) distanceWithDouble:[((GeogebraCommonKernelMatrixCoords *) nil_chk(changingPoint_)) getX] withDouble:[changingPoint_ getY]];
}

- (jdouble)getChangingPointParameterWithGeogebraCommonKernelKernelNDGeoSegmentND:(id<GeogebraCommonKernelKernelNDGeoSegmentND>)segment {
  return [((GeogebraCommonKernelGeosGeoSegment *) nil_chk(((GeogebraCommonKernelGeosGeoSegment *) check_class_cast(segment, [GeogebraCommonKernelGeosGeoSegment class])))) getParameterWithDouble:[((GeogebraCommonKernelMatrixCoords *) nil_chk(changingPoint_)) getX] withDouble:[changingPoint_ getY]];
}

- (jboolean)hasLineOpacity {
  return YES;
}

- (GeogebraCommonKernelGeosGeoElement_HitTypeEnum *)getLastHitType {
  return GeogebraCommonKernelGeosGeoElement_HitTypeEnum_get_ON_BOUNDARY();
}

- (void)dealloc {
  RELEASE_(changingPoint_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelConstruction:", "GeoLocus", NULL, 0x1, NULL, NULL },
    { "newGeoLocus", NULL, "Lgeogebra.common.kernel.geos.GeoLocus;", 0x4, NULL, NULL },
    { "insertPointWithDouble:withDouble:withBoolean:", "insertPoint", "V", 0x1, NULL, NULL },
    { "pointChangedWithGeogebraCommonKernelKernelNDGeoPointND:", "pointChanged", "V", 0x1, NULL, NULL },
    { "newGeoSegment", NULL, "Lgeogebra.common.kernel.kernelND.GeoSegmentND;", 0x4, NULL, NULL },
    { "setChangingPointWithGeogebraCommonKernelKernelNDGeoPointND:", "setChangingPoint", "V", 0x4, NULL, NULL },
    { "changingPointDistanceWithGeogebraCommonKernelKernelNDGeoSegmentND:", "changingPointDistance", "D", 0x4, NULL, NULL },
    { "getChangingPointParameterWithGeogebraCommonKernelKernelNDGeoSegmentND:", "getChangingPointParameter", "D", 0x4, NULL, NULL },
    { "hasLineOpacity", NULL, "Z", 0x1, NULL, NULL },
    { "getLastHitType", NULL, "Lgeogebra.common.kernel.geos.GeoElement$HitType;", 0x11, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "changingPoint_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lgeogebra.common.kernel.MyPoint;"};
  static const J2ObjcClassInfo _GeogebraCommonKernelGeosGeoLocus = { 2, "GeoLocus", "geogebra.common.kernel.geos", NULL, 0x1, 10, methods, 1, fields, 1, superclass_type_args, 0, NULL, NULL, "Lgeogebra/common/kernel/geos/GeoLocusND<Lgeogebra/common/kernel/MyPoint;>;" };
  return &_GeogebraCommonKernelGeosGeoLocus;
}

@end

void GeogebraCommonKernelGeosGeoLocus_initWithGeogebraCommonKernelConstruction_(GeogebraCommonKernelGeosGeoLocus *self, GeogebraCommonKernelConstruction *c) {
  GeogebraCommonKernelGeosGeoLocusND_initWithGeogebraCommonKernelConstruction_(self, c);
}

GeogebraCommonKernelGeosGeoLocus *new_GeogebraCommonKernelGeosGeoLocus_initWithGeogebraCommonKernelConstruction_(GeogebraCommonKernelConstruction *c) {
  GeogebraCommonKernelGeosGeoLocus *self = [GeogebraCommonKernelGeosGeoLocus alloc];
  GeogebraCommonKernelGeosGeoLocus_initWithGeogebraCommonKernelConstruction_(self, c);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelGeosGeoLocus)

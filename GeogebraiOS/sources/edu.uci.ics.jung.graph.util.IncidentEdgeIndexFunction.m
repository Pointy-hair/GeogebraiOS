//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/edu/uci/ics/jung/graph/util/IncidentEdgeIndexFunction.java
//


#include "J2ObjC_source.h"
#include "edu/uci/ics/jung/graph/Graph.h"
#include "edu/uci/ics/jung/graph/util/IncidentEdgeIndexFunction.h"
#include "edu/uci/ics/jung/graph/util/Pair.h"
#include "java/lang/Integer.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/HashSet.h"
#include "java/util/Map.h"

@interface EduUciIcsJungGraphUtilIncidentEdgeIndexFunction ()

- (instancetype)init;

@end

__attribute__((unused)) static void EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init(EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *self);

__attribute__((unused)) static EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *new_EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init() NS_RETURNS_RETAINED;

@implementation EduUciIcsJungGraphUtilIncidentEdgeIndexFunction

- (instancetype)init {
  EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init(self);
  return self;
}

+ (EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *)getInstance {
  return EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_getInstance();
}

- (jint)getIndexWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)graph
                                     withId:(id)e {
  JavaLangInteger *index = [((id<JavaUtilMap>) nil_chk(edge_index_)) getWithId:e];
  if (index == nil) {
    EduUciIcsJungGraphUtilPair *endpoints = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getEndpointsWithId:e];
    id u = [((EduUciIcsJungGraphUtilPair *) nil_chk(endpoints)) getFirst];
    id v = [endpoints getSecond];
    if ([nil_chk(u) isEqual:v]) {
      index = JavaLangInteger_valueOfWithInt_([self getIndexWithEduUciIcsJungGraphGraph:graph withId:e withId:v]);
    }
    else {
      index = JavaLangInteger_valueOfWithInt_([self getIndexWithEduUciIcsJungGraphGraph:graph withId:e withId:u withId:v]);
    }
  }
  return [((JavaLangInteger *) nil_chk(index)) intValue];
}

- (jint)getIndexWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)graph
                                     withId:(id)e
                                     withId:(id)u
                                     withId:(id)v {
  id<JavaUtilCollection> commonEdgeSet = [new_JavaUtilHashSet_initWithJavaUtilCollection_([((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getIncidentEdgesWithId:u]) autorelease];
  jint count = 0;
  for (id __strong other in commonEdgeSet) {
    if ([nil_chk(e) isEqual:other] == NO) {
      [((id<JavaUtilMap>) nil_chk(edge_index_)) putWithId:other withId:JavaLangInteger_valueOfWithInt_(count)];
      count++;
    }
  }
  [((id<JavaUtilMap>) nil_chk(edge_index_)) putWithId:e withId:JavaLangInteger_valueOfWithInt_(count)];
  return count;
}

- (jint)getIndexWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)graph
                                     withId:(id)e
                                     withId:(id)v {
  id<JavaUtilCollection> commonEdgeSet = [new_JavaUtilHashSet_init() autorelease];
  for (id __strong another in nil_chk([((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getIncidentEdgesWithId:v])) {
    id u = [graph getOppositeWithId:v withId:another];
    if ([nil_chk(u) isEqual:v]) {
      [commonEdgeSet addWithId:another];
    }
  }
  jint count = 0;
  for (id __strong other in commonEdgeSet) {
    if ([nil_chk(e) isEqual:other] == NO) {
      [((id<JavaUtilMap>) nil_chk(edge_index_)) putWithId:other withId:JavaLangInteger_valueOfWithInt_(count)];
      count++;
    }
  }
  [((id<JavaUtilMap>) nil_chk(edge_index_)) putWithId:e withId:JavaLangInteger_valueOfWithInt_(count)];
  return count;
}

- (void)resetWithEduUciIcsJungGraphGraph:(id<EduUciIcsJungGraphGraph>)graph
                                  withId:(id)e {
  EduUciIcsJungGraphUtilPair *endpoints = [((id<EduUciIcsJungGraphGraph>) nil_chk(graph)) getEndpointsWithId:e];
  [self getIndexWithEduUciIcsJungGraphGraph:graph withId:e withId:[((EduUciIcsJungGraphUtilPair *) nil_chk(endpoints)) getFirst]];
  [self getIndexWithEduUciIcsJungGraphGraph:graph withId:e withId:[endpoints getFirst] withId:[endpoints getSecond]];
}

- (void)reset {
  [((id<JavaUtilMap>) nil_chk(edge_index_)) clear];
}

- (void)dealloc {
  RELEASE_(edge_index_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "IncidentEdgeIndexFunction", NULL, 0x2, NULL, NULL },
    { "getInstance", NULL, "Ledu.uci.ics.jung.graph.util.IncidentEdgeIndexFunction;", 0x9, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>()Ledu/uci/ics/jung/graph/util/IncidentEdgeIndexFunction<TV;TE;>;" },
    { "getIndexWithEduUciIcsJungGraphGraph:withId:", "getIndex", "I", 0x1, NULL, "(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TE;)I" },
    { "getIndexWithEduUciIcsJungGraphGraph:withId:withId:withId:", "getIndex", "I", 0x4, NULL, "(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TE;TV;TV;)I" },
    { "getIndexWithEduUciIcsJungGraphGraph:withId:withId:", "getIndex", "I", 0x4, NULL, "(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TE;TV;)I" },
    { "resetWithEduUciIcsJungGraphGraph:withId:", "reset", "V", 0x1, NULL, "(Ledu/uci/ics/jung/graph/Graph<TV;TE;>;TE;)V" },
    { "reset", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "edge_index_", NULL, 0x4, "Ljava.util.Map;", NULL, "Ljava/util/Map<TE;Ljava/lang/Integer;>;",  },
  };
  static const J2ObjcClassInfo _EduUciIcsJungGraphUtilIncidentEdgeIndexFunction = { 2, "IncidentEdgeIndexFunction", "edu.uci.ics.jung.graph.util", NULL, 0x1, 7, methods, 1, fields, 0, NULL, 0, NULL, NULL, "<V:Ljava/lang/Object;E:Ljava/lang/Object;>Ljava/lang/Object;Ledu/uci/ics/jung/graph/util/EdgeIndexFunction<TV;TE;>;" };
  return &_EduUciIcsJungGraphUtilIncidentEdgeIndexFunction;
}

@end

void EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init(EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *self) {
  NSObject_init(self);
  EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_setAndConsume_edge_index_(self, new_JavaUtilHashMap_init());
}

EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *new_EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init() {
  EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *self = [EduUciIcsJungGraphUtilIncidentEdgeIndexFunction alloc];
  EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init(self);
  return self;
}

EduUciIcsJungGraphUtilIncidentEdgeIndexFunction *EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_getInstance() {
  EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_initialize();
  return [new_EduUciIcsJungGraphUtilIncidentEdgeIndexFunction_init() autorelease];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(EduUciIcsJungGraphUtilIncidentEdgeIndexFunction)

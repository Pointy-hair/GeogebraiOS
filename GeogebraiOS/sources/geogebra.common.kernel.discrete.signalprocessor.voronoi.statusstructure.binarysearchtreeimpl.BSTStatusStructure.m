//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/binarysearchtreeimpl/BSTStatusStructure.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/VoronoiShared.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/EventQueue.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VSiteEvent.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/AbstractStatusStructure.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/VLinkedNode.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/binarysearchtreeimpl/BSTStatusStructure.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/binarysearchtreeimpl/VInternalNode.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/binarysearchtreeimpl/VLeafNode.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/binarysearchtreeimpl/VNode.h"
#include "java/lang/Comparable.h"
#include "java/lang/Integer.h"
#include "java/lang/RuntimeException.h"
#include "java/lang/StringBuffer.h"

@interface GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure () {
 @public
  id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> rootnode_;
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)x;

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)x;

- (NSString *)strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:(id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>)node
                                                                                                                     withInt:(jint)depth;

- (NSString *)printGapWithInt:(jint)gap;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure, rootnode_, id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>)

__attribute__((unused)) static GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *x);

__attribute__((unused)) static GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *x);

__attribute__((unused)) static NSString *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> node, jint depth);

__attribute__((unused)) static NSString *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_printGapWithInt_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, jint gap);

jint GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_uniqueid_ = 1;

@implementation GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure

- (jboolean)isStatusStructureEmpty {
  return rootnode_ == nil;
}

- (id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>)getRootNode {
  return rootnode_;
}

- (void)setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)siteevent {
  [self setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:[new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(siteevent) autorelease]];
}

- (void)setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:(id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>)node {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_set_rootnode_(self, node);
  [((id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>) nil_chk(rootnode_)) setParentWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:nil];
  if ([rootnode_ isKindOfClass:[GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]]) {
    [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(rootnode_, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class])) setDepthForRootNode];
  }
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)insertNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)_nodetosplit
                                                                                                  withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)siteevent {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *nodetosplit = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(_nodetosplit, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *newleaf = [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(siteevent) autorelease];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *top = [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_init() autorelease];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *bottom = [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_init() autorelease];
  if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(nodetosplit)) getParent] == nil) {
    [self setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:top];
  }
  else {
    if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([nodetosplit getParent])) getLeft] == nodetosplit) {
      [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([nodetosplit getParent])) setLeftWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:top];
    }
    else if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([nodetosplit getParent])) getRight] == nodetosplit) {
      [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([nodetosplit getParent])) setRightWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:top];
    }
    else {
      @throw [new_JavaLangRuntimeException_initWithNSString_(@"Neither child matched suggested parent for attaching new branch - linking error") autorelease];
    }
  }
  [top setLeftWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:bottom];
  [top setRightWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:[nodetosplit cloneLeafNode]];
  [bottom setLeftWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:nodetosplit];
  [bottom setRightWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:newleaf];
  [top setSiteEventsWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:siteevent withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:nodetosplit->siteevent_];
  [bottom setSiteEventsWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:nodetosplit->siteevent_ withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:siteevent];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *leaf1 = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([bottom getLeft], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *leaf3 = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([top getRight], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *tmp = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([nodetosplit getNext], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(leaf1)) setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:newleaf];
  [newleaf setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:leaf3];
  [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(leaf3)) setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:tmp];
  return newleaf;
}

- (void)removeNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue *)eventqueue
            withGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)_toremove {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *toremove = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(_toremove, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *parent = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(toremove)) getParent];
  if ([toremove getPrev] == nil) {
    [toremove setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:nil];
  }
  else {
    [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) nil_chk([toremove getPrev])) setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:[toremove getNext]];
  }
  id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> tosave;
  if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk(parent)) getLeft] == toremove) {
    tosave = [parent getRight];
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *ces = GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(self, parent);
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_set_v2_(nil_chk(ces), parent->v2_);
  }
  else if ([parent getRight] == toremove) {
    tosave = [parent getLeft];
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *ces = GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(self, parent);
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_set_v1_(nil_chk(ces), parent->v1_);
  }
  else {
    @throw [new_JavaLangRuntimeException_initWithNSString_(@"Neither child matched suggested parent - linking error") autorelease];
  }
  if ([parent getParent] == nil) {
    @throw [new_JavaLangRuntimeException_initWithNSString_(JreStrcat("$I", @"Parent is null - error; parent=#", parent->id__)) autorelease];
  }
  else if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([parent getParent])) getLeft] == parent) {
    [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([parent getParent])) setLeftWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:tosave];
  }
  else if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([parent getParent])) getRight] == parent) {
    [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk([parent getParent])) setRightWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:tosave];
  }
  else {
    @throw [new_JavaLangRuntimeException_initWithNSString_(@"Neither child matched suggested parent's parent - linking error") autorelease];
  }
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)x {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(self, x);
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *)x {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(self, x);
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)getNodeAboveSiteEventWithDouble:(jdouble)siteevent_x
                                                                                                       withDouble:(jdouble)sweepline {
  if (rootnode_ == nil) {
    return nil;
  }
  else if ([rootnode_ isLeafNode]) {
    return (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(rootnode_, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  }
  else {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *internalnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(rootnode_, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]);
    do {
      GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v1 = internalnode->v1_;
      GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v2 = internalnode->v2_;
      [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v1)) calcParabolaConstantsWithDouble:sweepline];
      [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v2)) calcParabolaConstantsWithDouble:sweepline];
      IOSDoubleArray *intersects = GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_solveQuadraticWithDouble_withDouble_withDouble_(v2->a_ - v1->a_, v2->b_ - v1->b_, v2->c_ - v1->c_);
      id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> currnode;
      if (siteevent_x <= IOSDoubleArray_Get(nil_chk(intersects), 0)) {
        currnode = [internalnode getLeft];
      }
      else {
        currnode = [internalnode getRight];
      }
      if ([((id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>) nil_chk(currnode)) isLeafNode]) {
        return (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(currnode, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
      }
      internalnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(currnode, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]);
    }
    while (YES);
  }
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)getHeadNode {
  if (rootnode_ == nil) {
    return nil;
  }
  else if ([rootnode_ isLeafNode]) {
    return (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) check_class_cast(rootnode_, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode class]);
  }
  else {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *internalnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(rootnode_, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]);
    id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> currnode;
    do {
      currnode = [internalnode getLeft];
      if ([((id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>) nil_chk(currnode)) isLeafNode]) {
        break;
      }
      internalnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(currnode, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]);
    }
    while (YES);
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *leafnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(currnode, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
    if ([((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(leafnode)) getPrev] != nil) {
      @throw [new_JavaLangRuntimeException_initWithNSString_(@"Leftmost element of tree is not leftmost element of doubly-linked list - linking error") autorelease];
    }
    return leafnode;
  }
}

- (NSString *)description {
  return JreStrcat("$$$$", @"| ", [self strDoublyLinkedListWithInt:-1], @"\n* ", GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(self, rootnode_, 1));
}

- (NSString *)strDoublyLinkedListWithInt:(jint)sweepline {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *leafnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([self getHeadNode], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
  if (leafnode == nil) {
    return @"Doubly-linked list is empty";
  }
  else {
    JavaLangStringBuffer *buffer = [new_JavaLangStringBuffer_init() autorelease];
    jboolean isfirst = YES;
    do {
      if (isfirst) {
        isfirst = NO;
      }
      else {
        [buffer appendWithNSString:@" "];
        if (sweepline > 0) {
          GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v1 = ((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) nil_chk([leafnode getPrev]))->siteevent_;
          GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v2 = leafnode->siteevent_;
          [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v1)) calcParabolaConstantsWithDouble:sweepline];
          [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v2)) calcParabolaConstantsWithDouble:sweepline];
          IOSDoubleArray *intersects = GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_solveQuadraticWithDouble_withDouble_withDouble_(v2->a_ - v1->a_, v2->b_ - v1->b_, v2->c_ - v1->c_);
          [buffer appendWithNSString:JreStrcat("CIC", '[', (J2ObjCFpToInt(IOSDoubleArray_Get(nil_chk(intersects), 0))), ']')];
        }
        [buffer appendWithNSString:@"-> "];
      }
      [buffer appendWithNSString:JreStrcat("$DCD$IC$", @"Leaf (", [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(leafnode->siteevent_)) getX], ',', [leafnode->siteevent_ getY], @") #", leafnode->id__, '/', [leafnode->siteevent_ getID])];
    }
    while ((leafnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([leafnode getNext], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class])) != nil);
    return [buffer description];
  }
}

- (NSString *)strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:(id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode>)node
                                                                                                                     withInt:(jint)depth {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(self, node, depth);
}

- (NSString *)printGapWithInt:(jint)gap {
  return GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_printGapWithInt_(self, gap);
}

- (instancetype)init {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_init(self);
  return self;
}

- (void)dealloc {
  RELEASE_(rootnode_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "isStatusStructureEmpty", NULL, "Z", 0x1, NULL, NULL },
    { "getRootNode", NULL, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.binarysearchtreeimpl.VNode;", 0x1, NULL, NULL },
    { "setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:", "setRootNode", "V", 0x1, NULL, NULL },
    { "setRootNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:", "setRootNode", "V", 0x4, NULL, NULL },
    { "insertNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:", "insertNode", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
    { "removeNodeWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:withGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:", "removeNode", "V", 0x1, NULL, NULL },
    { "getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:", "getSuccessor", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.binarysearchtreeimpl.VInternalNode;", 0x2, NULL, NULL },
    { "getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode:", "getPredecessor", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.binarysearchtreeimpl.VInternalNode;", 0x2, NULL, NULL },
    { "getNodeAboveSiteEventWithDouble:withDouble:", "getNodeAboveSiteEvent", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
    { "getHeadNode", NULL, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "strDoublyLinkedListWithInt:", "strDoublyLinkedList", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode:withInt:", "strTreeStructure", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "printGapWithInt:", "printGap", "Ljava.lang.String;", 0x2, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "uniqueid_", NULL, 0x9, "I", &GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_uniqueid_, NULL,  },
    { "rootnode_", NULL, 0x2, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.binarysearchtreeimpl.VNode;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure = { 2, "BSTStatusStructure", "geogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.binarysearchtreeimpl", NULL, 0x1, 15, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure;
}

@end

GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getSuccessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *x) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *y = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk(x)) getParent];
  while ((y != nil) && (x == [y getRight])) {
    x = y;
    y = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk(y)) getParent];
  }
  return y;
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_getPredecessorWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *x) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *y = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk(x)) getParent];
  while ((y != nil) && (x == [y getLeft])) {
    x = y;
    y = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) nil_chk(y)) getParent];
  }
  return y;
}

NSString *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, id<GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode> node, jint depth) {
  if (node == nil) {
    return @"Tree is empty (null root)";
  }
  else if ([node isKindOfClass:[GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]]) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *leafnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast(node, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]);
    return JreStrcat("$IC$$DCD$@$$$$C", @"Leaf #", leafnode->id__, '/', [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(leafnode->siteevent_)) getID], @" (", [leafnode->siteevent_ getX], ',', [leafnode->siteevent_ getY], @") (parent=", (leafnode->parent_ == nil ? @"null" : JavaLangInteger_valueOfWithInt_(leafnode->parent_->id__)), @",prev=", ([leafnode getPrev] == nil ? @"null" : JreStrcat("IC$", ((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([leafnode getPrev], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]))))->id__, '/', [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) nil_chk([leafnode getPrev]))->siteevent_ getID])), @",next=", ([leafnode getNext] == nil ? @"null" : JreStrcat("IC$", ((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) nil_chk(((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode *) check_class_cast([leafnode getNext], [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVLeafNode class]))))->id__, '/', [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) nil_chk([leafnode getNext]))->siteevent_ getID])), ')');
  }
  else if ([node isKindOfClass:[GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]]) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *internalnode = (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode *) check_class_cast(node, [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVInternalNode class]);
    return JreStrcat("$I$$$$$@$$$$C$$$", @"Node #", internalnode->id__, @"(v1=", [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(internalnode->v1_)) getID], @",v2=", [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(internalnode->v2_)) getID], @") (parent=", (internalnode->parent_ == nil ? @"null" : JavaLangInteger_valueOfWithInt_(internalnode->parent_->id__)), @"):\n", GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_printGapWithInt_(self, depth), @"* Left ", GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(self, [internalnode getLeft], depth + 1), 0x000a, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_printGapWithInt_(self, depth), @"* Right ", GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_strTreeStructureWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplVNode_withInt_(self, [internalnode getRight], depth + 1));
  }
  else {
    @throw [new_JavaLangRuntimeException_initWithNSString_(JreStrcat("$$", @"Unknown node type; ", [[node getClass] getName])) autorelease];
  }
}

NSString *GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_printGapWithInt_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self, jint gap) {
  NSString *tmp = @"";
  for (jint x = 0; x < gap; x++) {
    tmp = JreStrcat("$$", tmp, @"  ");
  }
  return tmp;
}

void GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_init(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureAbstractStatusStructure_init(self);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_set_rootnode_(self, nil);
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_init() {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure *self = [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure alloc];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureBinarysearchtreeimplBSTStatusStructure)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/com/vividsolutions/jts/geom/GeometryCollectionIterator.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/vividsolutions/jts/geom/Geometry.h"
#include "com/vividsolutions/jts/geom/GeometryCollection.h"
#include "com/vividsolutions/jts/geom/GeometryCollectionIterator.h"
#include "java/lang/UnsupportedOperationException.h"
#include "java/util/NoSuchElementException.h"

@interface ComVividsolutionsJtsGeomGeometryCollectionIterator () {
 @public
  ComVividsolutionsJtsGeomGeometry *parent_;
  jboolean atStart_;
  jint max_;
  jint index_;
  ComVividsolutionsJtsGeomGeometryCollectionIterator *subcollectionIterator_;
}

@end

J2OBJC_FIELD_SETTER(ComVividsolutionsJtsGeomGeometryCollectionIterator, parent_, ComVividsolutionsJtsGeomGeometry *)
J2OBJC_FIELD_SETTER(ComVividsolutionsJtsGeomGeometryCollectionIterator, subcollectionIterator_, ComVividsolutionsJtsGeomGeometryCollectionIterator *)

@implementation ComVividsolutionsJtsGeomGeometryCollectionIterator

- (instancetype)initWithComVividsolutionsJtsGeomGeometry:(ComVividsolutionsJtsGeomGeometry *)parent {
  ComVividsolutionsJtsGeomGeometryCollectionIterator_initWithComVividsolutionsJtsGeomGeometry_(self, parent);
  return self;
}

- (jboolean)hasNext {
  if (atStart_) {
    return YES;
  }
  if (subcollectionIterator_ != nil) {
    if ([subcollectionIterator_ hasNext]) {
      return YES;
    }
    ComVividsolutionsJtsGeomGeometryCollectionIterator_set_subcollectionIterator_(self, nil);
  }
  if (index_ >= max_) {
    return NO;
  }
  return YES;
}

- (id)next {
  if (atStart_) {
    atStart_ = NO;
    return parent_;
  }
  if (subcollectionIterator_ != nil) {
    if ([subcollectionIterator_ hasNext]) {
      return [subcollectionIterator_ next];
    }
    else {
      ComVividsolutionsJtsGeomGeometryCollectionIterator_set_subcollectionIterator_(self, nil);
    }
  }
  if (index_ >= max_) {
    @throw [new_JavaUtilNoSuchElementException_init() autorelease];
  }
  ComVividsolutionsJtsGeomGeometry *obj = [((ComVividsolutionsJtsGeomGeometry *) nil_chk(parent_)) getGeometryNWithInt:index_++];
  if ([obj isKindOfClass:[ComVividsolutionsJtsGeomGeometryCollection class]]) {
    ComVividsolutionsJtsGeomGeometryCollectionIterator_setAndConsume_subcollectionIterator_(self, new_ComVividsolutionsJtsGeomGeometryCollectionIterator_initWithComVividsolutionsJtsGeomGeometry_((ComVividsolutionsJtsGeomGeometryCollection *) check_class_cast(obj, [ComVividsolutionsJtsGeomGeometryCollection class])));
    return [subcollectionIterator_ next];
  }
  return obj;
}

- (void)remove {
  @throw [new_JavaLangUnsupportedOperationException_initWithNSString_([[self getClass] getName]) autorelease];
}

- (void)dealloc {
  RELEASE_(parent_);
  RELEASE_(subcollectionIterator_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComVividsolutionsJtsGeomGeometry:", "GeometryCollectionIterator", NULL, 0x1, NULL, NULL },
    { "hasNext", NULL, "Z", 0x1, NULL, NULL },
    { "next", NULL, "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "remove", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "parent_", NULL, 0x2, "Lcom.vividsolutions.jts.geom.Geometry;", NULL, NULL,  },
    { "atStart_", NULL, 0x2, "Z", NULL, NULL,  },
    { "max_", NULL, 0x2, "I", NULL, NULL,  },
    { "index_", NULL, 0x2, "I", NULL, NULL,  },
    { "subcollectionIterator_", NULL, 0x2, "Lcom.vividsolutions.jts.geom.GeometryCollectionIterator;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _ComVividsolutionsJtsGeomGeometryCollectionIterator = { 2, "GeometryCollectionIterator", "com.vividsolutions.jts.geom", NULL, 0x1, 4, methods, 5, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComVividsolutionsJtsGeomGeometryCollectionIterator;
}

@end

void ComVividsolutionsJtsGeomGeometryCollectionIterator_initWithComVividsolutionsJtsGeomGeometry_(ComVividsolutionsJtsGeomGeometryCollectionIterator *self, ComVividsolutionsJtsGeomGeometry *parent) {
  NSObject_init(self);
  ComVividsolutionsJtsGeomGeometryCollectionIterator_set_parent_(self, parent);
  self->atStart_ = YES;
  self->index_ = 0;
  self->max_ = [((ComVividsolutionsJtsGeomGeometry *) nil_chk(parent)) getNumGeometries];
}

ComVividsolutionsJtsGeomGeometryCollectionIterator *new_ComVividsolutionsJtsGeomGeometryCollectionIterator_initWithComVividsolutionsJtsGeomGeometry_(ComVividsolutionsJtsGeomGeometry *parent) {
  ComVividsolutionsJtsGeomGeometryCollectionIterator *self = [ComVividsolutionsJtsGeomGeometryCollectionIterator alloc];
  ComVividsolutionsJtsGeomGeometryCollectionIterator_initWithComVividsolutionsJtsGeomGeometry_(self, parent);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComVividsolutionsJtsGeomGeometryCollectionIterator)

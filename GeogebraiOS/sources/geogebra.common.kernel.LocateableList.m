//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/LocateableList.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Locateable.h"
#include "geogebra/common/kernel/LocateableList.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/kernelND/GeoPointND.h"
#include "java/util/ArrayList.h"

#define GeogebraCommonKernelLocateableList_serialVersionUID 9060255316180319972LL

@interface GeogebraCommonKernelLocateableList () {
 @public
  id<GeogebraCommonKernelKernelNDGeoPointND> point_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelLocateableList, point_, id<GeogebraCommonKernelKernelNDGeoPointND>)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonKernelLocateableList, serialVersionUID, jlong)

@implementation GeogebraCommonKernelLocateableList

- (instancetype)initWithGeogebraCommonKernelKernelNDGeoPointND:(id<GeogebraCommonKernelKernelNDGeoPointND>)point {
  GeogebraCommonKernelLocateableList_initWithGeogebraCommonKernelKernelNDGeoPointND_(self, point);
  return self;
}

- (void)registerLocateableWithGeogebraCommonKernelLocateable:(id<GeogebraCommonKernelLocateable>)l {
  if ([self containsWithId:l]) return;
  GeogebraCommonKernelAlgosAlgoElement *parentAlgo = [((GeogebraCommonKernelGeosGeoElement *) nil_chk([((id<GeogebraCommonKernelLocateable>) nil_chk(l)) toGeoElement])) getParentAlgorithm];
  if (parentAlgo == nil || !([((GeogebraCommonKernelGeosGeoElement *) nil_chk(((GeogebraCommonKernelGeosGeoElement *) check_class_cast(point_, [GeogebraCommonKernelGeosGeoElement class])))) algoUpdateSetContainsWithGeogebraCommonKernelAlgosAlgoElement:parentAlgo])) {
    [self addWithId:l];
  }
}

- (void)unregisterLocateableWithGeogebraCommonKernelLocateable:(id<GeogebraCommonKernelLocateable>)l {
  [self removeWithId:l];
}

- (void)doRemove {
  IOSObjectArray *locs = [self toArray];
  [self clear];
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(locs))->size_; i++) {
    id<GeogebraCommonKernelLocateable> loc = (id<GeogebraCommonKernelLocateable>) check_protocol_cast(IOSObjectArray_Get(locs, i), @protocol(GeogebraCommonKernelLocateable));
    [((id<GeogebraCommonKernelLocateable>) nil_chk(loc)) removeStartPointWithGeogebraCommonKernelKernelNDGeoPointND:point_];
    [((GeogebraCommonKernelGeosGeoElement *) nil_chk([loc toGeoElement])) updateCascade];
  }
}

- (void)dealloc {
  RELEASE_(point_);
  [super dealloc];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelKernelNDGeoPointND:", "LocateableList", NULL, 0x1, NULL, NULL },
    { "registerLocateableWithGeogebraCommonKernelLocateable:", "registerLocateable", "V", 0x1, NULL, NULL },
    { "unregisterLocateableWithGeogebraCommonKernelLocateable:", "unregisterLocateable", "V", 0x1, NULL, NULL },
    { "doRemove", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "serialVersionUID_", NULL, 0x1a, "J", NULL, NULL, .constantValue.asLong = GeogebraCommonKernelLocateableList_serialVersionUID },
    { "point_", NULL, 0x2, "Lgeogebra.common.kernel.kernelND.GeoPointND;", NULL, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lgeogebra.common.kernel.Locateable;"};
  static const J2ObjcClassInfo _GeogebraCommonKernelLocateableList = { 2, "LocateableList", "geogebra.common.kernel", NULL, 0x1, 4, methods, 2, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/util/ArrayList<Lgeogebra/common/kernel/Locateable;>;" };
  return &_GeogebraCommonKernelLocateableList;
}

@end

void GeogebraCommonKernelLocateableList_initWithGeogebraCommonKernelKernelNDGeoPointND_(GeogebraCommonKernelLocateableList *self, id<GeogebraCommonKernelKernelNDGeoPointND> point) {
  JavaUtilArrayList_init(self);
  GeogebraCommonKernelLocateableList_set_point_(self, point);
}

GeogebraCommonKernelLocateableList *new_GeogebraCommonKernelLocateableList_initWithGeogebraCommonKernelKernelNDGeoPointND_(id<GeogebraCommonKernelKernelNDGeoPointND> point) {
  GeogebraCommonKernelLocateableList *self = [GeogebraCommonKernelLocateableList alloc];
  GeogebraCommonKernelLocateableList_initWithGeogebraCommonKernelKernelNDGeoPointND_(self, point);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelLocateableList)

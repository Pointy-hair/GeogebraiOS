//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/gui/dialog/options/model/ReflexAngleModel.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/gui/dialog/options/model/IComboListener.h"
#include "geogebra/common/gui/dialog/options/model/MultipleOptionsModel.h"
#include "geogebra/common/gui/dialog/options/model/OptionsModel.h"
#include "geogebra/common/gui/dialog/options/model/ReflexAngleModel.h"
#include "geogebra/common/kernel/geos/AngleProperties.h"
#include "geogebra/common/kernel/geos/GeoAngle.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/main/Localization.h"
#include "java/util/ArrayList.h"
#include "java/util/List.h"

@interface GeogebraCommonGuiDialogOptionsModelReflexAngleModel () {
 @public
  jboolean hasOrientation__;
  jboolean isDrawable_;
  jboolean isDefaults_;
  GeogebraCommonMainApp *app_;
}

- (id<GeogebraCommonKernelGeosAngleProperties>)getAnglePropertiesAtWithInt:(jint)index;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGuiDialogOptionsModelReflexAngleModel, app_, GeogebraCommonMainApp *)

__attribute__((unused)) static id<GeogebraCommonKernelGeosAngleProperties> GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(GeogebraCommonGuiDialogOptionsModelReflexAngleModel *self, jint index);

@interface GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener : NSObject
@end

@implementation GeogebraCommonGuiDialogOptionsModelReflexAngleModel

- (instancetype)initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener:(id<GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener>)listener
                                                                       withGeogebraCommonMainApp:(GeogebraCommonMainApp *)app
                                                                                     withBoolean:(jboolean)isDefaults {
  GeogebraCommonGuiDialogOptionsModelReflexAngleModel_initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener_withGeogebraCommonMainApp_withBoolean_(self, listener, app, isDefaults);
  return self;
}

- (id<GeogebraCommonKernelGeosAngleProperties>)getAnglePropertiesAtWithInt:(jint)index {
  return GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(self, index);
}

- (void)updateProperties {
  id<GeogebraCommonKernelGeosAngleProperties> temp, geo0 = GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(self, 0);
  jboolean equalangleStyle = YES;
  jboolean hasOrientationOld = hasOrientation__;
  jboolean isDrawableOld = isDrawable_;
  hasOrientation__ = YES;
  isDrawable_ = YES;
  for (jint i = 0; i < [self getGeosLength]; i++) {
    temp = GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(self, i);
    if (![((id<GeogebraCommonKernelGeosAngleProperties>) nil_chk(temp)) hasOrientation]) {
      hasOrientation__ = NO;
    }
    if (![temp isDrawable]) {
      isDrawable_ = NO;
    }
    if ([((id<GeogebraCommonKernelGeosAngleProperties>) nil_chk(geo0)) getAngleStyle] != [temp getAngleStyle]) {
      equalangleStyle = NO;
    }
  }
  if (hasOrientation__ != hasOrientationOld || isDrawableOld != isDrawable_) {
    [((id<GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener>) nil_chk(((id<GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener>) check_protocol_cast([self getListener], @protocol(GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener))))) setComboLabels];
  }
  if (equalangleStyle) {
    [((id<GeogebraCommonGuiDialogOptionsModelIComboListener>) nil_chk([self getListener])) setSelectedIndexWithInt:[((GeogebraCommonKernelGeosGeoAngle_AngleStyleEnum *) nil_chk([((id<GeogebraCommonKernelGeosAngleProperties>) nil_chk(geo0)) getAngleStyle])) getXmlVal]];
  }
}

- (id<JavaUtilList>)getChoichesWithGeogebraCommonMainLocalization:(GeogebraCommonMainLocalization *)loc {
  id<JavaUtilList> result = [new_JavaUtilArrayList_init() autorelease];
  if (hasOrientation__) {
    jint length = ((IOSObjectArray *) nil_chk(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MIN_()))->size_;
    if (isDrawable_) {
      length--;
    }
    for (jint i = 0; i < length; i++) {
      [result addWithId:[((GeogebraCommonMainLocalization *) nil_chk(loc)) getPlainWithNSString:@"AandB" withNSString:IOSObjectArray_Get(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MIN_(), i) withNSString:IOSObjectArray_Get(nil_chk(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MAX_()), i)]];
    }
  }
  else {
    [result addWithId:[((GeogebraCommonMainLocalization *) nil_chk(loc)) getPlainWithNSString:@"AandB" withNSString:IOSObjectArray_Get(nil_chk(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MIN_()), 1) withNSString:IOSObjectArray_Get(nil_chk(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MAX_()), 1)]];
    [result addWithId:[loc getPlainWithNSString:@"AandB" withNSString:IOSObjectArray_Get(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MIN_(), 2) withNSString:IOSObjectArray_Get(GeogebraCommonKernelGeosGeoAngle_get_INTERVAL_MAX_(), 2)]];
  }
  return result;
}

- (jboolean)isValidAtWithInt:(jint)index {
  GeogebraCommonKernelGeosGeoElement *geo = [self getGeoAtWithInt:index];
  return (!(([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isIndependent] && !isDefaults_)) && ([GeogebraCommonKernelGeosAngleProperties_class_() isInstance:geo]) && ![geo isGeoList]) || GeogebraCommonGuiDialogOptionsModelOptionsModel_isAngleListWithGeogebraCommonKernelGeosGeoElement_(geo);
}

- (void)applyWithInt:(jint)index
             withInt:(jint)value {
  id<GeogebraCommonKernelGeosAngleProperties> geo = GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(self, index);
  [((id<GeogebraCommonKernelGeosAngleProperties>) nil_chk(geo)) setAngleStyleWithInt:value];
  [(geo) updateRepaint];
}

- (jboolean)hasOrientation {
  return hasOrientation__;
}

- (jint)getValueAtWithInt:(jint)index {
  return 0;
}

- (void)dealloc {
  RELEASE_(app_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener:withGeogebraCommonMainApp:withBoolean:", "ReflexAngleModel", NULL, 0x1, NULL, NULL },
    { "getAnglePropertiesAtWithInt:", "getAnglePropertiesAt", "Lgeogebra.common.kernel.geos.AngleProperties;", 0x2, NULL, NULL },
    { "updateProperties", NULL, "V", 0x1, NULL, NULL },
    { "getChoichesWithGeogebraCommonMainLocalization:", "getChoiches", "Ljava.util.List;", 0x1, NULL, NULL },
    { "isValidAtWithInt:", "isValidAt", "Z", 0x4, NULL, NULL },
    { "applyWithInt:withInt:", "apply", "V", 0x4, NULL, NULL },
    { "hasOrientation", NULL, "Z", 0x1, NULL, NULL },
    { "getValueAtWithInt:", "getValueAt", "I", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "hasOrientation__", "hasOrientation", 0x2, "Z", NULL, NULL,  },
    { "isDrawable_", NULL, 0x2, "Z", NULL, NULL,  },
    { "isDefaults_", NULL, 0x2, "Z", NULL, NULL,  },
    { "app_", NULL, 0x2, "Lgeogebra.common.main.App;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.gui.dialog.options.model.ReflexAngleModel$IReflexAngleListener;"};
  static const J2ObjcClassInfo _GeogebraCommonGuiDialogOptionsModelReflexAngleModel = { 2, "ReflexAngleModel", "geogebra.common.gui.dialog.options.model", NULL, 0x1, 8, methods, 4, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_GeogebraCommonGuiDialogOptionsModelReflexAngleModel;
}

@end

void GeogebraCommonGuiDialogOptionsModelReflexAngleModel_initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener_withGeogebraCommonMainApp_withBoolean_(GeogebraCommonGuiDialogOptionsModelReflexAngleModel *self, id<GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener> listener, GeogebraCommonMainApp *app, jboolean isDefaults) {
  GeogebraCommonGuiDialogOptionsModelMultipleOptionsModel_initWithGeogebraCommonGuiDialogOptionsModelIComboListener_(self, listener);
  GeogebraCommonGuiDialogOptionsModelReflexAngleModel_set_app_(self, app);
  self->isDefaults_ = isDefaults;
}

GeogebraCommonGuiDialogOptionsModelReflexAngleModel *new_GeogebraCommonGuiDialogOptionsModelReflexAngleModel_initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener_withGeogebraCommonMainApp_withBoolean_(id<GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener> listener, GeogebraCommonMainApp *app, jboolean isDefaults) {
  GeogebraCommonGuiDialogOptionsModelReflexAngleModel *self = [GeogebraCommonGuiDialogOptionsModelReflexAngleModel alloc];
  GeogebraCommonGuiDialogOptionsModelReflexAngleModel_initWithGeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener_withGeogebraCommonMainApp_withBoolean_(self, listener, app, isDefaults);
  return self;
}

id<GeogebraCommonKernelGeosAngleProperties> GeogebraCommonGuiDialogOptionsModelReflexAngleModel_getAnglePropertiesAtWithInt_(GeogebraCommonGuiDialogOptionsModelReflexAngleModel *self, jint index) {
  return (id<GeogebraCommonKernelGeosAngleProperties>) check_protocol_cast([self getObjectAtWithInt:index], @protocol(GeogebraCommonKernelGeosAngleProperties));
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGuiDialogOptionsModelReflexAngleModel)

@implementation GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "setComboLabels", NULL, "V", 0x401, NULL, NULL },
  };
  static const J2ObjcClassInfo _GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener = { 2, "IReflexAngleListener", "geogebra.common.gui.dialog.options.model", "ReflexAngleModel", 0x609, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(GeogebraCommonGuiDialogOptionsModelReflexAngleModel_IReflexAngleListener)

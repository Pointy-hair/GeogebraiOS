//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/gui/view/consprotocol/ConstructionProtocolView.java
//


#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/gui/SetLabels.h"
#include "geogebra/common/gui/view/consprotocol/ConstructionProtocolNavigation.h"
#include "geogebra/common/gui/view/consprotocol/ConstructionProtocolView.h"
#include "geogebra/common/javax/swing/GImageIcon.h"
#include "geogebra/common/javax/swing/SwingConstants.h"
#include "geogebra/common/javax/swing/table/GAbstractTableModel.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/ModeSetter.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoText.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/main/GuiManagerInterface.h"
#include "geogebra/common/util/IndexHTMLBuilder.h"
#include "java/lang/Boolean.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"

@interface GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData () {
 @public
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView *this$0_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData, this$0_, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)

@interface GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData () {
 @public
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView *this$0_;
  jint prefWidth_, minWidth_;
  jint alignment_;
  jboolean initShow_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData, this$0_, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)

@interface GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData () {
 @public
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView *this$0_;
  id<GeogebraCommonGuiSetLabels> gui_;
}

- (void)updateRowNumbersWithInt:(jint)row;

- (void)updateIndices;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData, this$0_, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)
J2OBJC_FIELD_SETTER(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData, gui_, id<GeogebraCommonGuiSetLabels>)

__attribute__((unused)) static void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateRowNumbersWithInt_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self, jint row);

__attribute__((unused)) static void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateIndices(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self);

@implementation GeogebraCommonGuiViewConsprotocolConstructionProtocolView

- (void)updateNavigationBars {
  GeogebraCommonMainApp_debugWithNSString_(@"common/ContructionProtocolView.updateNavigationBars() not implemented");
}

- (jint)getCurrentStepNumber {
  return [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *) nil_chk(data_)) getCurrentStepNumber];
}

- (jint)getLastStepNumber {
  return [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *) nil_chk(data_)) getLastStepNumber];
}

- (void)setConstructionStepWithInt:(jint)step {
  if (isViewAttached_) [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) detachWithGeogebraCommonKernelView:data_];
  [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) setConstructionStepWithInt:step];
  if (isViewAttached_) [kernel_ attachWithGeogebraCommonKernelView:data_];
  [self updateNavigationBars];
}

- (void)nextStep {
  if (isViewAttached_) [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) detachWithGeogebraCommonKernelView:data_];
  [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) nextStep];
  if (isViewAttached_) [kernel_ attachWithGeogebraCommonKernelView:data_];
  [self updateNavigationBars];
  [self repaint];
}

- (void)previousStep {
  if (isViewAttached_) [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) detachWithGeogebraCommonKernelView:data_];
  [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) previousStep];
  if (isViewAttached_) [kernel_ attachWithGeogebraCommonKernelView:data_];
  [self updateNavigationBars];
}

- (void)firstStep {
  if (isViewAttached_) [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) detachWithGeogebraCommonKernelView:data_];
  [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) firstStep];
  if (isViewAttached_) [kernel_ attachWithGeogebraCommonKernelView:data_];
  [self updateNavigationBars];
}

- (void)lastStep {
  if (isViewAttached_) [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) detachWithGeogebraCommonKernelView:data_];
  [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) lastStep];
  if (isViewAttached_) [kernel_ attachWithGeogebraCommonKernelView:data_];
  [self updateNavigationBars];
}

- (void)repaint {
}

- (GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *)getData {
  return data_;
}

- (void)registerNavigationBarWithGeogebraCommonGuiViewConsprotocolConstructionProtocolNavigation:(GeogebraCommonGuiViewConsprotocolConstructionProtocolNavigation *)nb {
  if (![((JavaUtilArrayList *) nil_chk(navigationBars_)) containsWithId:nb]) {
    [navigationBars_ addWithId:nb];
    [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *) nil_chk(data_)) attachView];
  }
}

- (void)scrollToConstructionStep {
}

- (NSString *)getConsProtocolXML {
  JavaLangStringBuilder *sb = [new_JavaLangStringBuilder_init() autorelease];
  [sb appendWithNSString:@"\t<consProtColumns "];
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *) nil_chk(data_))->columns_))->size_; i++) {
    [sb appendWithNSString:@" col"];
    [sb appendWithInt:i];
    [sb appendWithNSString:@"=\""];
    [sb appendWithBoolean:[((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *) nil_chk(IOSObjectArray_Get(data_->columns_, i))) isVisible]];
    [sb appendWithNSString:@"\""];
  }
  [sb appendWithNSString:@"/>\n"];
  [sb appendWithNSString:@"\t<consProtocol "];
  [sb appendWithNSString:@"useColors=\""];
  [sb appendWithBoolean:useColors_];
  [sb appendWithNSString:@"\""];
  [sb appendWithNSString:@" addIcons=\""];
  [sb appendWithBoolean:addIcons_];
  [sb appendWithNSString:@"\""];
  [sb appendWithNSString:@" showOnlyBreakpoints=\""];
  [sb appendWithBoolean:[((GeogebraCommonKernelConstruction *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getConstruction])) showOnlyBreakpoints]];
  [sb appendWithNSString:@"\""];
  [sb appendWithNSString:@"/>\n"];
  return [sb description];
}

- (instancetype)init {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_init(self);
  return self;
}

- (void)dealloc {
  RELEASE_(app_);
  RELEASE_(kernel_);
  RELEASE_(data_);
  RELEASE_(navigationBars_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "updateNavigationBars", NULL, "V", 0x4, NULL, NULL },
    { "getCurrentStepNumber", NULL, "I", 0x1, NULL, NULL },
    { "getLastStepNumber", NULL, "I", 0x1, NULL, NULL },
    { "setConstructionStepWithInt:", "setConstructionStep", "V", 0x1, NULL, NULL },
    { "nextStep", NULL, "V", 0x1, NULL, NULL },
    { "previousStep", NULL, "V", 0x1, NULL, NULL },
    { "firstStep", NULL, "V", 0x1, NULL, NULL },
    { "lastStep", NULL, "V", 0x1, NULL, NULL },
    { "repaint", NULL, "V", 0x4, NULL, NULL },
    { "getData", NULL, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ConstructionTableData;", 0x1, NULL, NULL },
    { "registerNavigationBarWithGeogebraCommonGuiViewConsprotocolConstructionProtocolNavigation:", "registerNavigationBar", "V", 0x1, NULL, NULL },
    { "scrollToConstructionStep", NULL, "V", 0x1, NULL, NULL },
    { "getConsProtocolXML", NULL, "Ljava.lang.String;", 0x11, NULL, NULL },
    { "init", NULL, NULL, 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "app_", NULL, 0x4, "Lgeogebra.common.main.App;", NULL, NULL,  },
    { "kernel_", NULL, 0x1, "Lgeogebra.common.kernel.Kernel;", NULL, NULL,  },
    { "data_", NULL, 0x1, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ConstructionTableData;", NULL, NULL,  },
    { "isViewAttached_", NULL, 0x4, "Z", NULL, NULL,  },
    { "navigationBars_", NULL, 0x1, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/gui/view/consprotocol/ConstructionProtocolNavigation;>;",  },
    { "useColors_", NULL, 0x4, "Z", NULL, NULL,  },
    { "addIcons_", NULL, 0x4, "Z", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$RowData;", "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ColumnData;", "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ConstructionTableData;"};
  static const J2ObjcClassInfo _GeogebraCommonGuiViewConsprotocolConstructionProtocolView = { 2, "ConstructionProtocolView", "geogebra.common.gui.view.consprotocol", NULL, 0x1, 14, methods, 7, fields, 0, NULL, 3, inner_classes, NULL, NULL };
  return &_GeogebraCommonGuiViewConsprotocolConstructionProtocolView;
}

@end

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_init(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *self) {
  NSObject_init(self);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_setAndConsume_navigationBars_(self, new_JavaUtilArrayList_init());
}

GeogebraCommonGuiViewConsprotocolConstructionProtocolView *new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_init() {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView *self = [GeogebraCommonGuiViewConsprotocolConstructionProtocolView alloc];
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGuiViewConsprotocolConstructionProtocolView)

@implementation GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData

- (instancetype)initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)outer$
                                           withGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonKernelGeosGeoElement_(self, outer$, geo);
  return self;
}

- (void)updateAlgebraAndName {
  if ([geo_ isKindOfClass:[GeogebraCommonKernelGeosGeoText class]]) GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_algebra_(self, JreStrcat("C$C", '"', [((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) toValueStringWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()], '"'));
  else GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_algebra_(self, [((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getAlgebraDescriptionTextOrHTMLDefaultWithGeogebraCommonUtilIndexHTMLBuilder:[new_GeogebraCommonUtilIndexHTMLBuilder_initWithBoolean_(YES) autorelease]]);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_name_(self, [((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getNameDescriptionTextOrHTML]);
}

- (void)updateCaption {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_caption_(self, [((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getCaptionDescriptionHTMLWithBoolean:YES withGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()]);
}

- (GeogebraCommonKernelGeosGeoElement *)getGeo {
  return geo_;
}

- (jint)getIndex {
  return index_;
}

- (void)setIndexWithInt:(jint)i {
  index_ = i;
}

- (NSString *)getName {
  return name_;
}

- (NSString *)getDefinition {
  return definition_;
}

- (NSString *)getCommand {
  return command_;
}

- (NSString *)getAlgebra {
  return algebra_;
}

- (NSString *)getCaption {
  return caption_;
}

- (GeogebraCommonJavaxSwingGImageIcon *)getToolbarIcon {
  return toolbarIcon_;
}

- (JavaLangBoolean *)getCPVisible {
  return consProtocolVisible_;
}

- (jint)getRowNumber {
  return rowNumber_;
}

- (void)setRowNumberWithInt:(jint)num {
  rowNumber_ = num;
}

- (jboolean)getIncludesIndex {
  return includesIndex_;
}

- (void)updateAll {
  jint index;
  jint prevIndex;
  index = (rowNumber_ < 0) ? -1 : [self getConstructionIndexWithInt:rowNumber_];
  prevIndex = (rowNumber_ < 1) ? -1 : [self getConstructionIndexWithInt:rowNumber_ - 1];
  jint m;
  if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo_)) getParentAlgorithm] != nil) {
    m = [((GeogebraCommonKernelAlgosAlgoElement *) nil_chk([geo_ getParentAlgorithm])) getRelatedModeID];
  }
  else m = [geo_ getRelatedModeID];
  if (m != -1 && index != prevIndex) GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_toolbarIcon_(self, [self getModeIconWithInt:m]);
  else GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_toolbarIcon_(self, nil);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_name_(self, [geo_ getNameDescriptionTextOrHTML]);
  if ([geo_ isKindOfClass:[GeogebraCommonKernelGeosGeoText class]]) GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_algebra_(self, JreStrcat("C$C", '"', [geo_ toValueStringWithGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_defaultTemplate_()], '"'));
  else GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_algebra_(self, [geo_ getAlgebraDescriptionTextOrHTMLDefaultWithGeogebraCommonUtilIndexHTMLBuilder:[new_GeogebraCommonUtilIndexHTMLBuilder_initWithBoolean_(YES) autorelease]]);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_definition_(self, [geo_ getDefinitionDescriptionHTMLWithBoolean:YES]);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_command_(self, [geo_ getCommandDescriptionHTMLWithBoolean:YES]);
  [self updateCaption];
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_setAndConsume_consProtocolVisible_(self, new_JavaLangBoolean_initWithBoolean_([geo_ isConsProtocolBreakpoint]));
  includesIndex_ = (([((NSString *) nil_chk(name_)) indexOfString:@"<sub>"] >= 0) || ([((NSString *) nil_chk(algebra_)) indexOfString:@"<sub>"] >= 0) || ([((NSString *) nil_chk(definition_)) indexOfString:@"<sub>"] >= 0) || ([((NSString *) nil_chk(command_)) indexOfString:@"<sub>"] >= 0) || ([((NSString *) nil_chk(caption_)) indexOfString:@"<sub>"] >= 0));
}

- (jint)getConstructionIndexWithInt:(jint)row {
  return [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *) nil_chk(this$0_->data_)) getConstructionIndexWithInt:row];
}

- (GeogebraCommonJavaxSwingGImageIcon *)getModeIconWithInt:(jint)mode {
  return [((GeogebraCommonMainApp *) nil_chk(this$0_->app_)) wrapGetModeIconWithInt:mode];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(geo_);
  RELEASE_(toolbarIcon_);
  RELEASE_(name_);
  RELEASE_(algebra_);
  RELEASE_(definition_);
  RELEASE_(command_);
  RELEASE_(caption_);
  RELEASE_(consProtocolVisible_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:withGeogebraCommonKernelGeosGeoElement:", "RowData", NULL, 0x1, NULL, NULL },
    { "updateAlgebraAndName", NULL, "V", 0x1, NULL, NULL },
    { "updateCaption", NULL, "V", 0x1, NULL, NULL },
    { "getGeo", NULL, "Lgeogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "getIndex", NULL, "I", 0x1, NULL, NULL },
    { "setIndexWithInt:", "setIndex", "V", 0x1, NULL, NULL },
    { "getName", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getDefinition", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getCommand", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getAlgebra", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getCaption", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getToolbarIcon", NULL, "Lgeogebra.common.javax.swing.GImageIcon;", 0x1, NULL, NULL },
    { "getCPVisible", NULL, "Ljava.lang.Boolean;", 0x1, NULL, NULL },
    { "getRowNumber", NULL, "I", 0x1, NULL, NULL },
    { "setRowNumberWithInt:", "setRowNumber", "V", 0x1, NULL, NULL },
    { "getIncludesIndex", NULL, "Z", 0x1, NULL, NULL },
    { "updateAll", NULL, "V", 0x1, NULL, NULL },
    { "getConstructionIndexWithInt:", "getConstructionIndex", "I", 0x4, NULL, NULL },
    { "getModeIconWithInt:", "getModeIcon", "Lgeogebra.common.javax.swing.GImageIcon;", 0x4, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView;", NULL, NULL,  },
    { "rowNumber_", NULL, 0x0, "I", NULL, NULL,  },
    { "index_", NULL, 0x0, "I", NULL, NULL,  },
    { "geo_", NULL, 0x0, "Lgeogebra.common.kernel.geos.GeoElement;", NULL, NULL,  },
    { "toolbarIcon_", NULL, 0x0, "Lgeogebra.common.javax.swing.GImageIcon;", NULL, NULL,  },
    { "name_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "algebra_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "definition_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "command_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "caption_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "includesIndex_", NULL, 0x0, "Z", NULL, NULL,  },
    { "consProtocolVisible_", NULL, 0x0, "Ljava.lang.Boolean;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData = { 2, "RowData", "geogebra.common.gui.view.consprotocol", "ConstructionProtocolView", 0x4, 19, methods, 12, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData;
}

@end

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonKernelGeosGeoElement_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *self, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, GeogebraCommonKernelGeosGeoElement *geo) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_this$0_(self, outer$);
  NSObject_init(self);
  self->rowNumber_ = -1;
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_set_geo_(self, geo);
  [self updateAll];
}

GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonKernelGeosGeoElement_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, GeogebraCommonKernelGeosGeoElement *geo) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *self = [GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData alloc];
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonKernelGeosGeoElement_(self, outer$, geo);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData)

@implementation GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData

- (instancetype)initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)outer$
                                                                     withNSString:(NSString *)title
                                                                          withInt:(jint)prefWidth
                                                                          withInt:(jint)minWidth
                                                                          withInt:(jint)alignment
                                                                      withBoolean:(jboolean)initShow {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(self, outer$, title, prefWidth, minWidth, alignment, initShow);
  return self;
}

- (NSString *)getTitle {
  return title_;
}

- (NSString *)getTranslatedTitle {
  return [((GeogebraCommonMainApp *) nil_chk(this$0_->app_)) getPlainWithNSString:title_];
}

- (jint)getPreferredWidth {
  return prefWidth_;
}

- (jint)getMinWidth {
  return minWidth_;
}

- (jint)getAlignment {
  return alignment_;
}

- (jboolean)getInitShow {
  if ([((NSString *) nil_chk(title_)) isEqual:@"Value"] && ![((id<GeogebraCommonMainGuiManagerInterface>) nil_chk(([((GeogebraCommonMainApp *) nil_chk(this$0_->app_)) getGuiManager]))) showViewWithInt:GeogebraCommonMainApp_VIEW_ALGEBRA]) return NO;
  return initShow_;
}

- (void)setVisibleWithBoolean:(jboolean)isVisible {
  self->isVisible__ = isVisible;
}

- (jboolean)isVisible {
  return isVisible__;
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(title_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:withNSString:withInt:withInt:withInt:withBoolean:", "ColumnData", NULL, 0x1, NULL, NULL },
    { "getTitle", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getTranslatedTitle", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getPreferredWidth", NULL, "I", 0x1, NULL, NULL },
    { "getMinWidth", NULL, "I", 0x1, NULL, NULL },
    { "getAlignment", NULL, "I", 0x1, NULL, NULL },
    { "getInitShow", NULL, "Z", 0x1, NULL, NULL },
    { "setVisibleWithBoolean:", "setVisible", "V", 0x1, NULL, NULL },
    { "isVisible", NULL, "Z", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView;", NULL, NULL,  },
    { "title_", NULL, 0x0, "Ljava.lang.String;", NULL, NULL,  },
    { "isVisible__", "isVisible", 0x0, "Z", NULL, NULL,  },
    { "prefWidth_", NULL, 0x2, "I", NULL, NULL,  },
    { "minWidth_", NULL, 0x2, "I", NULL, NULL,  },
    { "alignment_", NULL, 0x2, "I", NULL, NULL,  },
    { "initShow_", NULL, 0x2, "Z", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData = { 2, "ColumnData", "geogebra.common.gui.view.consprotocol", "ConstructionProtocolView", 0x1, 9, methods, 7, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData;
}

@end

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *self, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, NSString *title, jint prefWidth, jint minWidth, jint alignment, jboolean initShow) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_set_this$0_(self, outer$);
  NSObject_init(self);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_set_title_(self, title);
  self->prefWidth_ = prefWidth;
  self->minWidth_ = minWidth;
  self->alignment_ = alignment;
  self->initShow_ = initShow;
  self->isVisible__ = initShow;
}

GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, NSString *title, jint prefWidth, jint minWidth, jint alignment, jboolean initShow) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *self = [GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData alloc];
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(self, outer$, title, prefWidth, minWidth, alignment, initShow);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData)

@implementation GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData

- (instancetype)initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *)outer$
                                                   withGeogebraCommonGuiSetLabels:(id<GeogebraCommonGuiSetLabels>)gui {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonGuiSetLabels_(self, outer$, gui);
  return self;
}

- (void)setLabels {
  [((id<GeogebraCommonGuiSetLabels>) nil_chk(self->gui_)) setLabels];
}

- (void)startBatchUpdate {
}

- (void)endBatchUpdate {
}

- (jboolean)suggestRepaint {
  return NO;
}

- (JavaUtilArrayList *)getrowList {
  return rowList_;
}

- (id<GeogebraCommonJavaxSwingTableGAbstractTableModel>)getImpl {
  GeogebraCommonMainApp_debugWithNSString_(@"ConstructionTableData.getImpl() must be overriden");
  return nil;
}

- (IOSObjectArray *)getColumns {
  return columns_;
}

- (jint)getLastStepNumber {
  jint pos = [((JavaUtilArrayList *) nil_chk(rowList_)) size] - 1;
  if (pos >= 0) return [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk([rowList_ getWithInt:pos])) getIndex];
  else return 0;
}

- (jint)getCurrentStepNumber {
  jint step = [((GeogebraCommonKernelKernel *) nil_chk(this$0_->kernel_)) getConstructionStep];
  jint size = [((JavaUtilArrayList *) nil_chk(rowList_)) size];
  for (jint i = 0; i < size; i++) {
    GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *rd = [rowList_ getWithInt:i];
    if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk(rd)) getGeo])) getConstructionIndex] == step) {
      return [rd getIndex];
    }
  }
  return 0;
}

- (void)setConstructionStepForRowWithInt:(jint)row {
  if (row >= 0) {
    [this$0_ setConstructionStepWithInt:[self getConstructionIndexWithInt:row]];
  }
  else {
    [this$0_ setConstructionStepWithInt:-1];
  }
}

- (jint)getConstructionIndexWithInt:(jint)row {
  return [((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk([((JavaUtilArrayList *) nil_chk(rowList_)) getWithInt:row])) getGeo])) getConstructionIndex];
}

- (GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *)getRowWithInt:(jint)row {
  return [((JavaUtilArrayList *) nil_chk(rowList_)) getWithInt:row];
}

- (void)setModeWithInt:(jint)mode
withGeogebraCommonKernelModeSetterEnum:(GeogebraCommonKernelModeSetterEnum *)m {
}

- (jint)getRowCount {
  return [((JavaUtilArrayList *) nil_chk(rowList_)) size];
}

- (jint)getColumnCount {
  return columnsCount_;
}

- (jint)getRowIndexWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData:(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *)row {
  return [((JavaUtilArrayList *) nil_chk(rowList_)) indexOfWithId:row];
}

- (jint)getColumnNumberWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData:(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *)column {
  jint pos = -1;
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(columns_))->size_; i++) {
    if (IOSObjectArray_Get(columns_, i) == column) {
      pos = i;
      break;
    }
  }
  return pos;
}

- (jboolean)isCellEditableWithInt:(jint)nRow
                          withInt:(jint)nCol {
  if ([((NSString *) nil_chk(([((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData *) nil_chk(IOSObjectArray_Get(nil_chk(self->columns_), nCol))) getTitle]))) isEqual:@"Caption"]) {
    return YES;
  }
  return NO;
}

- (void)addWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  if (![((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isLabelSet] || [geo isGeoCasCell] || ([((GeogebraCommonKernelConstruction *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(this$0_->kernel_)) getConstruction])) showOnlyBreakpoints] && ![geo isConsProtocolBreakpoint])) return;
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *row = [((JavaUtilHashMap *) nil_chk(geoMap_)) getWithId:geo];
  if (row == nil) {
    jint index = [geo getConstructionIndex];
    jint pos = 0;
    jint size = [((JavaUtilArrayList *) nil_chk(rowList_)) size];
    while (pos < size && index >= [((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk([rowList_ getWithInt:pos])) getGeo])) getConstructionIndex]) pos++;
    row = [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonKernelGeosGeoElement_(this$0_, geo) autorelease];
    if (pos < size) {
      [rowList_ addWithInt:pos withId:row];
    }
    else {
      pos = size;
      [rowList_ addWithId:row];
    }
    [geoMap_ putWithId:geo withId:row];
    GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateRowNumbersWithInt_(self, pos);
    GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateIndices(self);
    [self fireTableRowsInsertedWithInt:pos withInt:pos];
    [self updateAll];
    [this$0_ updateNavigationBars];
  }
}

- (void)removeWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *row = [((JavaUtilHashMap *) nil_chk(geoMap_)) getWithId:geo];
  if (row != nil) {
    [((JavaUtilArrayList *) nil_chk(rowList_)) removeWithId:row];
    [geoMap_ removeWithId:geo];
    GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateRowNumbersWithInt_(self, [row getRowNumber]);
    GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateIndices(self);
    [self fireTableRowsDeletedWithInt:[row getRowNumber] withInt:[row getRowNumber]];
    [self updateAll];
    [this$0_ updateNavigationBars];
  }
}

- (void)clearView {
  [((JavaUtilArrayList *) nil_chk(rowList_)) clear];
  [((JavaUtilHashMap *) nil_chk(geoMap_)) clear];
  [this$0_ updateNavigationBars];
}

- (void)repaintView {
  [this$0_ repaint];
}

- (void)renameWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  [self updateAll];
}

- (void)updateWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
}

- (void)updateVisualStyleWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
}

- (void)updateAuxiliaryObjectWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
}

- (void)reset {
}

- (jint)getViewID {
  return 0;
}

- (jboolean)hasFocus {
  return NO;
}

- (jboolean)isShowing {
  return NO;
}

- (void)updateRowNumbersWithInt:(jint)row {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateRowNumbersWithInt_(self, row);
}

- (void)updateIndices {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateIndices(self);
}

- (void)fireTableRowsDeletedWithInt:(jint)firstRow
                            withInt:(jint)lastRow {
  GeogebraCommonMainApp_debugWithNSString_(@"fireTableRowsDeleted - must be overridden");
}

- (void)fireTableRowsInsertedWithInt:(jint)firstRow
                             withInt:(jint)lastRow {
  GeogebraCommonMainApp_debugWithNSString_(@"fireTableRowsInserted - must be overriden");
}

- (void)initView {
  [((JavaUtilArrayList *) nil_chk(rowList_)) clear];
  [((JavaUtilHashMap *) nil_chk(geoMap_)) clear];
  [self notifyAddAllWithInt:[((GeogebraCommonKernelKernel *) nil_chk(this$0_->kernel_)) getLastConstructionStep]];
}

- (void)updateAll {
  GeogebraCommonMainApp_debugWithNSString_(@"updateAll - unimplemented");
}

- (void)notifyAddAllWithInt:(jint)lastConstructionStep {
  notifyUpdateCalled_ = YES;
  [this$0_->kernel_ notifyAddAllWithGeogebraCommonKernelView:self withInt:[((GeogebraCommonKernelKernel *) nil_chk(this$0_->kernel_)) getLastConstructionStep]];
  notifyUpdateCalled_ = NO;
  [self updateAll];
}

- (void)attachView {
  if (!this$0_->isViewAttached_) {
    [((GeogebraCommonKernelKernel *) nil_chk(this$0_->kernel_)) attachWithGeogebraCommonKernelView:self];
    [self initView];
    this$0_->isViewAttached_ = YES;
  }
  [this$0_ scrollToConstructionStep];
}

- (void)dealloc {
  RELEASE_(this$0_);
  RELEASE_(ctData_);
  RELEASE_(columns_);
  RELEASE_(rowList_);
  RELEASE_(geoMap_);
  RELEASE_(gui_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView:withGeogebraCommonGuiSetLabels:", "ConstructionTableData", NULL, 0x1, NULL, NULL },
    { "setLabels", NULL, "V", 0x1, NULL, NULL },
    { "startBatchUpdate", NULL, "V", 0x1, NULL, NULL },
    { "endBatchUpdate", NULL, "V", 0x1, NULL, NULL },
    { "suggestRepaint", NULL, "Z", 0x1, NULL, NULL },
    { "getrowList", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "getImpl", NULL, "Lgeogebra.common.javax.swing.table.GAbstractTableModel;", 0x1, NULL, NULL },
    { "getColumns", NULL, "[Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ColumnData;", 0x1, NULL, NULL },
    { "getLastStepNumber", NULL, "I", 0x1, NULL, NULL },
    { "getCurrentStepNumber", NULL, "I", 0x1, NULL, NULL },
    { "setConstructionStepForRowWithInt:", "setConstructionStepForRow", "V", 0x1, NULL, NULL },
    { "getConstructionIndexWithInt:", "getConstructionIndex", "I", 0x1, NULL, NULL },
    { "getRowWithInt:", "getRow", "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$RowData;", 0x1, NULL, NULL },
    { "setModeWithInt:withGeogebraCommonKernelModeSetterEnum:", "setMode", "V", 0x1, NULL, NULL },
    { "getRowCount", NULL, "I", 0x1, NULL, NULL },
    { "getColumnCount", NULL, "I", 0x1, NULL, NULL },
    { "getRowIndexWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData:", "getRowIndex", "I", 0x1, NULL, NULL },
    { "getColumnNumberWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData:", "getColumnNumber", "I", 0x1, NULL, NULL },
    { "isCellEditableWithInt:withInt:", "isCellEditable", "Z", 0x1, NULL, NULL },
    { "addWithGeogebraCommonKernelGeosGeoElement:", "add", "V", 0x1, NULL, NULL },
    { "removeWithGeogebraCommonKernelGeosGeoElement:", "remove", "V", 0x1, NULL, NULL },
    { "clearView", NULL, "V", 0x1, NULL, NULL },
    { "repaintView", NULL, "V", 0x11, NULL, NULL },
    { "renameWithGeogebraCommonKernelGeosGeoElement:", "rename", "V", 0x1, NULL, NULL },
    { "updateWithGeogebraCommonKernelGeosGeoElement:", "update", "V", 0x1, NULL, NULL },
    { "updateVisualStyleWithGeogebraCommonKernelGeosGeoElement:", "updateVisualStyle", "V", 0x1, NULL, NULL },
    { "updateAuxiliaryObjectWithGeogebraCommonKernelGeosGeoElement:", "updateAuxiliaryObject", "V", 0x1, NULL, NULL },
    { "reset", NULL, "V", 0x1, NULL, NULL },
    { "getViewID", NULL, "I", 0x1, NULL, NULL },
    { "hasFocus", NULL, "Z", 0x1, NULL, NULL },
    { "isShowing", NULL, "Z", 0x1, NULL, NULL },
    { "updateRowNumbersWithInt:", "updateRowNumbers", "V", 0x2, NULL, NULL },
    { "updateIndices", NULL, "V", 0x2, NULL, NULL },
    { "fireTableRowsDeletedWithInt:withInt:", "fireTableRowsDeleted", "V", 0x4, NULL, NULL },
    { "fireTableRowsInsertedWithInt:withInt:", "fireTableRowsInserted", "V", 0x4, NULL, NULL },
    { "initView", NULL, "V", 0x1, NULL, NULL },
    { "updateAll", NULL, "V", 0x1, NULL, NULL },
    { "notifyAddAllWithInt:", "notifyAddAll", "V", 0x1, NULL, NULL },
    { "attachView", NULL, "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView;", NULL, NULL,  },
    { "ctData_", NULL, 0x4, "Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ConstructionTableData;", NULL, NULL,  },
    { "columns_", NULL, 0x11, "[Lgeogebra.common.gui.view.consprotocol.ConstructionProtocolView$ColumnData;", NULL, NULL,  },
    { "rowList_", NULL, 0x4, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/gui/view/consprotocol/ConstructionProtocolView$RowData;>;",  },
    { "geoMap_", NULL, 0x4, "Ljava.util.HashMap;", NULL, "Ljava/util/HashMap<Lgeogebra/common/kernel/geos/GeoElement;Lgeogebra/common/gui/view/consprotocol/ConstructionProtocolView$RowData;>;",  },
    { "columnsCount_", NULL, 0x4, "I", NULL, NULL,  },
    { "notifyUpdateCalled_", NULL, 0x4, "Z", NULL, NULL,  },
    { "gui_", NULL, 0x2, "Lgeogebra.common.gui.SetLabels;", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData = { 2, "ConstructionTableData", "geogebra.common.gui.view.consprotocol", "ConstructionProtocolView", 0x1, 39, methods, 8, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData;
}

@end

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonGuiSetLabels_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self, GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, id<GeogebraCommonGuiSetLabels> gui) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_set_this$0_(self, outer$);
  NSObject_init(self);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_set_ctData_(self, self);
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_setAndConsume_columns_(self, [IOSObjectArray newArrayWithObjects:(id[]){ [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"No.", 35, 35, GeogebraCommonJavaxSwingSwingConstants_RIGHT, YES) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Name", 80, 50, GeogebraCommonJavaxSwingSwingConstants_LEFT, YES) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"ToolbarIcon", 35, 35, GeogebraCommonJavaxSwingSwingConstants_CENTER, NO) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Definition", 150, 50, GeogebraCommonJavaxSwingSwingConstants_LEFT, YES) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Command", 150, 50, GeogebraCommonJavaxSwingSwingConstants_LEFT, NO) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Value", 150, 50, GeogebraCommonJavaxSwingSwingConstants_LEFT, YES) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Caption", 150, 50, GeogebraCommonJavaxSwingSwingConstants_LEFT, YES) autorelease], [new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withNSString_withInt_withInt_withInt_withBoolean_(outer$, @"Breakpoint", 70, 35, GeogebraCommonJavaxSwingSwingConstants_CENTER, NO) autorelease] } count:8 type:GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ColumnData_class_()]);
  self->columnsCount_ = self->columns_->size_;
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_setAndConsume_rowList_(self, new_JavaUtilArrayList_init());
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_setAndConsume_geoMap_(self, new_JavaUtilHashMap_init());
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_set_gui_(self, gui);
}

GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *new_GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonGuiSetLabels_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView *outer$, id<GeogebraCommonGuiSetLabels> gui) {
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self = [GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData alloc];
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_initWithGeogebraCommonGuiViewConsprotocolConstructionProtocolView_withGeogebraCommonGuiSetLabels_(self, outer$, gui);
  return self;
}

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateRowNumbersWithInt_(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self, jint row) {
  if (row < 0) return;
  jint size = [((JavaUtilArrayList *) nil_chk(self->rowList_)) size];
  for (jint i = row; i < size; ++i) {
    [((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk([self->rowList_ getWithInt:i])) setRowNumberWithInt:i];
  }
}

void GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData_updateIndices(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData *self) {
  jint size = [((JavaUtilArrayList *) nil_chk(self->rowList_)) size];
  if (size == 0) return;
  jint lastIndex = -1;
  jint count = 0;
  GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *row;
  for (jint i = 0; i < size; ++i) {
    row = [self->rowList_ getWithInt:i];
    jint newIndex = [((GeogebraCommonKernelGeosGeoElement *) nil_chk([((GeogebraCommonGuiViewConsprotocolConstructionProtocolView_RowData *) nil_chk(row)) getGeo])) getConstructionIndex];
    if (lastIndex != newIndex) {
      lastIndex = newIndex;
      count++;
    }
    [row setIndexWithInt:count];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGuiViewConsprotocolConstructionProtocolView_ConstructionTableData)

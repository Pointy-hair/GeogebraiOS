//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/com/vividsolutions/jts/noding/ScaledNoder.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/vividsolutions/jts/geom/Coordinate.h"
#include "com/vividsolutions/jts/geom/CoordinateArrays.h"
#include "com/vividsolutions/jts/noding/NodedSegmentString.h"
#include "com/vividsolutions/jts/noding/Noder.h"
#include "com/vividsolutions/jts/noding/ScaledNoder.h"
#include "com/vividsolutions/jts/noding/SegmentString.h"
#include "com/vividsolutions/jts/util/CollectionUtil.h"
#include "java/lang/Math.h"
#include "java/util/Collection.h"
#include "java/util/List.h"

@interface ComVividsolutionsJtsNodingScaledNoder () {
 @public
  id<ComVividsolutionsJtsNodingNoder> noder_;
  jdouble scaleFactor_;
  jdouble offsetX_;
  jdouble offsetY_;
  jboolean isScaled_;
}

- (id<JavaUtilCollection>)scale__WithJavaUtilCollection:(id<JavaUtilCollection>)segStrings;

- (IOSObjectArray *)scale__WithComVividsolutionsJtsGeomCoordinateArray:(IOSObjectArray *)pts;

- (void)rescaleWithJavaUtilCollection:(id<JavaUtilCollection>)segStrings;

- (void)rescaleWithComVividsolutionsJtsGeomCoordinateArray:(IOSObjectArray *)pts;

@end

J2OBJC_FIELD_SETTER(ComVividsolutionsJtsNodingScaledNoder, noder_, id<ComVividsolutionsJtsNodingNoder>)

__attribute__((unused)) static id<JavaUtilCollection> ComVividsolutionsJtsNodingScaledNoder_scale__WithJavaUtilCollection_(ComVividsolutionsJtsNodingScaledNoder *self, id<JavaUtilCollection> segStrings);

__attribute__((unused)) static IOSObjectArray *ComVividsolutionsJtsNodingScaledNoder_scale__WithComVividsolutionsJtsGeomCoordinateArray_(ComVividsolutionsJtsNodingScaledNoder *self, IOSObjectArray *pts);

__attribute__((unused)) static void ComVividsolutionsJtsNodingScaledNoder_rescaleWithJavaUtilCollection_(ComVividsolutionsJtsNodingScaledNoder *self, id<JavaUtilCollection> segStrings);

__attribute__((unused)) static void ComVividsolutionsJtsNodingScaledNoder_rescaleWithComVividsolutionsJtsGeomCoordinateArray_(ComVividsolutionsJtsNodingScaledNoder *self, IOSObjectArray *pts);

@interface ComVividsolutionsJtsNodingScaledNoder_$1 : NSObject < ComVividsolutionsJtsUtilCollectionUtil_Function > {
 @public
  ComVividsolutionsJtsNodingScaledNoder *this$0_;
}

- (id)executeWithId:(id)obj;

- (instancetype)initWithComVividsolutionsJtsNodingScaledNoder:(ComVividsolutionsJtsNodingScaledNoder *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ComVividsolutionsJtsNodingScaledNoder_$1)

J2OBJC_FIELD_SETTER(ComVividsolutionsJtsNodingScaledNoder_$1, this$0_, ComVividsolutionsJtsNodingScaledNoder *)

__attribute__((unused)) static void ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder_$1 *self, ComVividsolutionsJtsNodingScaledNoder *outer$);

__attribute__((unused)) static ComVividsolutionsJtsNodingScaledNoder_$1 *new_ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComVividsolutionsJtsNodingScaledNoder_$1)

@interface ComVividsolutionsJtsNodingScaledNoder_$2 : NSObject < ComVividsolutionsJtsUtilCollectionUtil_Function > {
 @public
  ComVividsolutionsJtsNodingScaledNoder *this$0_;
}

- (id)executeWithId:(id)obj;

- (instancetype)initWithComVividsolutionsJtsNodingScaledNoder:(ComVividsolutionsJtsNodingScaledNoder *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ComVividsolutionsJtsNodingScaledNoder_$2)

J2OBJC_FIELD_SETTER(ComVividsolutionsJtsNodingScaledNoder_$2, this$0_, ComVividsolutionsJtsNodingScaledNoder *)

__attribute__((unused)) static void ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder_$2 *self, ComVividsolutionsJtsNodingScaledNoder *outer$);

__attribute__((unused)) static ComVividsolutionsJtsNodingScaledNoder_$2 *new_ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ComVividsolutionsJtsNodingScaledNoder_$2)

@implementation ComVividsolutionsJtsNodingScaledNoder

- (instancetype)initWithComVividsolutionsJtsNodingNoder:(id<ComVividsolutionsJtsNodingNoder>)noder
                                             withDouble:(jdouble)scaleFactor {
  ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_(self, noder, scaleFactor);
  return self;
}

- (instancetype)initWithComVividsolutionsJtsNodingNoder:(id<ComVividsolutionsJtsNodingNoder>)noder
                                             withDouble:(jdouble)scaleFactor
                                             withDouble:(jdouble)offsetX
                                             withDouble:(jdouble)offsetY {
  ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_withDouble_withDouble_(self, noder, scaleFactor, offsetX, offsetY);
  return self;
}

- (jboolean)isIntegerPrecision {
  return scaleFactor_ == 1.0;
}

- (id<JavaUtilCollection>)getNodedSubstrings {
  id<JavaUtilCollection> splitSS = [((id<ComVividsolutionsJtsNodingNoder>) nil_chk(noder_)) getNodedSubstrings];
  if (isScaled_) ComVividsolutionsJtsNodingScaledNoder_rescaleWithJavaUtilCollection_(self, splitSS);
  return splitSS;
}

- (void)computeNodesWithJavaUtilCollection:(id<JavaUtilCollection>)inputSegStrings {
  id<JavaUtilCollection> intSegStrings = inputSegStrings;
  if (isScaled_) intSegStrings = ComVividsolutionsJtsNodingScaledNoder_scale__WithJavaUtilCollection_(self, inputSegStrings);
  [((id<ComVividsolutionsJtsNodingNoder>) nil_chk(noder_)) computeNodesWithJavaUtilCollection:intSegStrings];
}

- (id<JavaUtilCollection>)scale__WithJavaUtilCollection:(id<JavaUtilCollection>)segStrings {
  return ComVividsolutionsJtsNodingScaledNoder_scale__WithJavaUtilCollection_(self, segStrings);
}

- (IOSObjectArray *)scale__WithComVividsolutionsJtsGeomCoordinateArray:(IOSObjectArray *)pts {
  return ComVividsolutionsJtsNodingScaledNoder_scale__WithComVividsolutionsJtsGeomCoordinateArray_(self, pts);
}

- (void)rescaleWithJavaUtilCollection:(id<JavaUtilCollection>)segStrings {
  ComVividsolutionsJtsNodingScaledNoder_rescaleWithJavaUtilCollection_(self, segStrings);
}

- (void)rescaleWithComVividsolutionsJtsGeomCoordinateArray:(IOSObjectArray *)pts {
  ComVividsolutionsJtsNodingScaledNoder_rescaleWithComVividsolutionsJtsGeomCoordinateArray_(self, pts);
}

- (void)dealloc {
  RELEASE_(noder_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithComVividsolutionsJtsNodingNoder:withDouble:", "ScaledNoder", NULL, 0x1, NULL, NULL },
    { "initWithComVividsolutionsJtsNodingNoder:withDouble:withDouble:withDouble:", "ScaledNoder", NULL, 0x1, NULL, NULL },
    { "isIntegerPrecision", NULL, "Z", 0x1, NULL, NULL },
    { "getNodedSubstrings", NULL, "Ljava.util.Collection;", 0x1, NULL, NULL },
    { "computeNodesWithJavaUtilCollection:", "computeNodes", "V", 0x1, NULL, NULL },
    { "scale__WithJavaUtilCollection:", "scale", "Ljava.util.Collection;", 0x2, NULL, NULL },
    { "scale__WithComVividsolutionsJtsGeomCoordinateArray:", "scale", "[Lcom.vividsolutions.jts.geom.Coordinate;", 0x2, NULL, NULL },
    { "rescaleWithJavaUtilCollection:", "rescale", "V", 0x2, NULL, NULL },
    { "rescaleWithComVividsolutionsJtsGeomCoordinateArray:", "rescale", "V", 0x2, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "noder_", NULL, 0x2, "Lcom.vividsolutions.jts.noding.Noder;", NULL, NULL,  },
    { "scaleFactor_", NULL, 0x2, "D", NULL, NULL,  },
    { "offsetX_", NULL, 0x2, "D", NULL, NULL,  },
    { "offsetY_", NULL, 0x2, "D", NULL, NULL,  },
    { "isScaled_", NULL, 0x2, "Z", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _ComVividsolutionsJtsNodingScaledNoder = { 2, "ScaledNoder", "com.vividsolutions.jts.noding", NULL, 0x1, 9, methods, 5, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComVividsolutionsJtsNodingScaledNoder;
}

@end

void ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_(ComVividsolutionsJtsNodingScaledNoder *self, id<ComVividsolutionsJtsNodingNoder> noder, jdouble scaleFactor) {
  ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_withDouble_withDouble_(self, noder, scaleFactor, 0, 0);
}

ComVividsolutionsJtsNodingScaledNoder *new_ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_(id<ComVividsolutionsJtsNodingNoder> noder, jdouble scaleFactor) {
  ComVividsolutionsJtsNodingScaledNoder *self = [ComVividsolutionsJtsNodingScaledNoder alloc];
  ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_(self, noder, scaleFactor);
  return self;
}

void ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_withDouble_withDouble_(ComVividsolutionsJtsNodingScaledNoder *self, id<ComVividsolutionsJtsNodingNoder> noder, jdouble scaleFactor, jdouble offsetX, jdouble offsetY) {
  NSObject_init(self);
  self->isScaled_ = NO;
  ComVividsolutionsJtsNodingScaledNoder_set_noder_(self, noder);
  self->scaleFactor_ = scaleFactor;
  self->isScaled_ = ![self isIntegerPrecision];
}

ComVividsolutionsJtsNodingScaledNoder *new_ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_withDouble_withDouble_(id<ComVividsolutionsJtsNodingNoder> noder, jdouble scaleFactor, jdouble offsetX, jdouble offsetY) {
  ComVividsolutionsJtsNodingScaledNoder *self = [ComVividsolutionsJtsNodingScaledNoder alloc];
  ComVividsolutionsJtsNodingScaledNoder_initWithComVividsolutionsJtsNodingNoder_withDouble_withDouble_withDouble_(self, noder, scaleFactor, offsetX, offsetY);
  return self;
}

id<JavaUtilCollection> ComVividsolutionsJtsNodingScaledNoder_scale__WithJavaUtilCollection_(ComVividsolutionsJtsNodingScaledNoder *self, id<JavaUtilCollection> segStrings) {
  return ComVividsolutionsJtsUtilCollectionUtil_transformWithJavaUtilCollection_withComVividsolutionsJtsUtilCollectionUtil_Function_(segStrings, [new_ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(self) autorelease]);
}

IOSObjectArray *ComVividsolutionsJtsNodingScaledNoder_scale__WithComVividsolutionsJtsGeomCoordinateArray_(ComVividsolutionsJtsNodingScaledNoder *self, IOSObjectArray *pts) {
  IOSObjectArray *roundPts = [IOSObjectArray arrayWithLength:((IOSObjectArray *) nil_chk(pts))->size_ type:ComVividsolutionsJtsGeomCoordinate_class_()];
  for (jint i = 0; i < pts->size_; i++) {
    IOSObjectArray_SetAndConsume(roundPts, i, new_ComVividsolutionsJtsGeomCoordinate_initWithDouble_withDouble_(JavaLangMath_roundWithDouble_((((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->x_ - self->offsetX_) * self->scaleFactor_), JavaLangMath_roundWithDouble_((((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->y_ - self->offsetY_) * self->scaleFactor_)));
  }
  IOSObjectArray *roundPtsNoDup = ComVividsolutionsJtsGeomCoordinateArrays_removeRepeatedPointsWithComVividsolutionsJtsGeomCoordinateArray_(roundPts);
  return roundPtsNoDup;
}

void ComVividsolutionsJtsNodingScaledNoder_rescaleWithJavaUtilCollection_(ComVividsolutionsJtsNodingScaledNoder *self, id<JavaUtilCollection> segStrings) {
  ComVividsolutionsJtsUtilCollectionUtil_applyWithJavaUtilCollection_withComVividsolutionsJtsUtilCollectionUtil_Function_(segStrings, [new_ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(self) autorelease]);
}

void ComVividsolutionsJtsNodingScaledNoder_rescaleWithComVividsolutionsJtsGeomCoordinateArray_(ComVividsolutionsJtsNodingScaledNoder *self, IOSObjectArray *pts) {
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(pts))->size_; i++) {
    ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->x_ = ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->x_ / self->scaleFactor_ + self->offsetX_;
    ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->y_ = ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(IOSObjectArray_Get(pts, i)))->y_ / self->scaleFactor_ + self->offsetY_;
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComVividsolutionsJtsNodingScaledNoder)

@implementation ComVividsolutionsJtsNodingScaledNoder_$1

- (id)executeWithId:(id)obj {
  id<ComVividsolutionsJtsNodingSegmentString> ss = (id<ComVividsolutionsJtsNodingSegmentString>) check_protocol_cast(obj, @protocol(ComVividsolutionsJtsNodingSegmentString));
  return [new_ComVividsolutionsJtsNodingNodedSegmentString_initWithComVividsolutionsJtsGeomCoordinateArray_withId_(ComVividsolutionsJtsNodingScaledNoder_scale__WithComVividsolutionsJtsGeomCoordinateArray_(this$0_, [((id<ComVividsolutionsJtsNodingSegmentString>) nil_chk(ss)) getCoordinates]), [ss getData]) autorelease];
}

- (instancetype)initWithComVividsolutionsJtsNodingScaledNoder:(ComVividsolutionsJtsNodingScaledNoder *)outer$ {
  ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(self, outer$);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "executeWithId:", "execute", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "initWithComVividsolutionsJtsNodingScaledNoder:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.vividsolutions.jts.noding.ScaledNoder;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComVividsolutionsJtsNodingScaledNoder", "scale__WithJavaUtilCollection:" };
  static const J2ObjcClassInfo _ComVividsolutionsJtsNodingScaledNoder_$1 = { 2, "", "com.vividsolutions.jts.noding", "ScaledNoder", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComVividsolutionsJtsNodingScaledNoder_$1;
}

@end

void ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder_$1 *self, ComVividsolutionsJtsNodingScaledNoder *outer$) {
  ComVividsolutionsJtsNodingScaledNoder_$1_set_this$0_(self, outer$);
  NSObject_init(self);
}

ComVividsolutionsJtsNodingScaledNoder_$1 *new_ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder *outer$) {
  ComVividsolutionsJtsNodingScaledNoder_$1 *self = [ComVividsolutionsJtsNodingScaledNoder_$1 alloc];
  ComVividsolutionsJtsNodingScaledNoder_$1_initWithComVividsolutionsJtsNodingScaledNoder_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComVividsolutionsJtsNodingScaledNoder_$1)

@implementation ComVividsolutionsJtsNodingScaledNoder_$2

- (id)executeWithId:(id)obj {
  id<ComVividsolutionsJtsNodingSegmentString> ss = (id<ComVividsolutionsJtsNodingSegmentString>) check_protocol_cast(obj, @protocol(ComVividsolutionsJtsNodingSegmentString));
  ComVividsolutionsJtsNodingScaledNoder_rescaleWithComVividsolutionsJtsGeomCoordinateArray_(this$0_, [((id<ComVividsolutionsJtsNodingSegmentString>) nil_chk(ss)) getCoordinates]);
  return nil;
}

- (instancetype)initWithComVividsolutionsJtsNodingScaledNoder:(ComVividsolutionsJtsNodingScaledNoder *)outer$ {
  ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(self, outer$);
  return self;
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "executeWithId:", "execute", "Ljava.lang.Object;", 0x1, NULL, NULL },
    { "initWithComVividsolutionsJtsNodingScaledNoder:", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lcom.vividsolutions.jts.noding.ScaledNoder;", NULL, NULL,  },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "ComVividsolutionsJtsNodingScaledNoder", "rescaleWithJavaUtilCollection:" };
  static const J2ObjcClassInfo _ComVividsolutionsJtsNodingScaledNoder_$2 = { 2, "", "com.vividsolutions.jts.noding", "ScaledNoder", 0x8008, 2, methods, 1, fields, 0, NULL, 0, NULL, &enclosing_method, NULL };
  return &_ComVividsolutionsJtsNodingScaledNoder_$2;
}

@end

void ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder_$2 *self, ComVividsolutionsJtsNodingScaledNoder *outer$) {
  ComVividsolutionsJtsNodingScaledNoder_$2_set_this$0_(self, outer$);
  NSObject_init(self);
}

ComVividsolutionsJtsNodingScaledNoder_$2 *new_ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(ComVividsolutionsJtsNodingScaledNoder *outer$) {
  ComVividsolutionsJtsNodingScaledNoder_$2 *self = [ComVividsolutionsJtsNodingScaledNoder_$2 alloc];
  ComVividsolutionsJtsNodingScaledNoder_$2_initWithComVividsolutionsJtsNodingScaledNoder_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComVividsolutionsJtsNodingScaledNoder_$2)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/VLinkedNode.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/VPoint.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/VoronoiShared.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/EventQueue.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VCircleEvent.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VSiteEvent.h"
#include "geogebra/common/kernel/discrete/signalprocessor/voronoi/statusstructure/VLinkedNode.h"
#include "java/util/ArrayList.h"

@interface GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode () {
 @public
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *prev_;
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *next_;
  JavaUtilArrayList *circleevents_;
}

- (void)addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *)_circleevent;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode, prev_, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode, next_, GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode, circleevents_, JavaUtilArrayList *)

__attribute__((unused)) static void GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *_circleevent);

@implementation GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode

- (instancetype)init {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_init(self);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *)_siteevent {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(self, _siteevent);
  return self;
}

- (jboolean)hasCircleEvents {
  return (circleevents_ != nil && [circleevents_ size] > 0);
}

- (JavaUtilArrayList *)getCircleEvents {
  return circleevents_;
}

- (void)removeCircleEventsWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue *)eventqueue {
  if (circleevents_ == nil) return;
  for (GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent * __strong circleevent in nil_chk(circleevents_)) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_set_leafnode_(nil_chk(circleevent), nil);
    jboolean flag = [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue *) nil_chk(eventqueue)) removeEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVEvent:circleevent];
  }
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_circleevents_(self, nil);
}

- (void)addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue *)eventqueue {
  if (prev_ != nil && next_ != nil) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *circleevent = GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_calculateCenterWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_withGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(prev_->siteevent_, self->siteevent_, next_->siteevent_);
    if (circleevent != nil) {
      GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_(self, circleevent);
      GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_set_leafnode_(circleevent, self);
      [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue *) nil_chk(eventqueue)) addEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVEvent:circleevent];
    }
  }
}

- (void)addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *)_circleevent {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_(self, _circleevent);
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)getPrev {
  return prev_;
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)getNext {
  return next_;
}

- (void)setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)node {
  if (next_ != nil) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_prev_(next_, nil);
  }
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_next_(self, node);
  if (node != nil) {
    if (node->prev_ != nil) {
      GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_next_(node->prev_, nil);
    }
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_prev_(node, self);
  }
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiVPoint *)getIntersectWithNextWithInt:(jint)sweepline {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v1 = siteevent_;
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *v2 = ((GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *) nil_chk(next_))->siteevent_;
  [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v1)) calcParabolaConstantsWithDouble:sweepline];
  [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(v2)) calcParabolaConstantsWithDouble:sweepline];
  IOSDoubleArray *intersects = GeogebraCommonKernelDiscreteSignalprocessorVoronoiVoronoiShared_solveQuadraticWithDouble_withDouble_withDouble_(v2->a_ - v1->a_, v2->b_ - v1->b_, v2->c_ - v1->c_);
  return [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiVPoint_initWithDouble_withDouble_(J2ObjCFpToInt(IOSDoubleArray_Get(nil_chk(intersects), 0)), sweepline + [((GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *) nil_chk(siteevent_)) getYValueOfParabolaWithDouble:IOSDoubleArray_Get(intersects, 0)]) autorelease];
}

- (jboolean)isLeafNode {
  return YES;
}

- (jboolean)isInternalNode {
  return NO;
}

- (GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *)cloneLinkedNode {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *clone = [new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(self->siteevent_) autorelease];
  return clone;
}

- (void)dealloc {
  RELEASE_(siteevent_);
  RELEASE_(prev_);
  RELEASE_(next_);
  RELEASE_(circleevents_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "VLinkedNode", NULL, 0x4, NULL, NULL },
    { "initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent:", "VLinkedNode", NULL, 0x1, NULL, NULL },
    { "hasCircleEvents", NULL, "Z", 0x1, NULL, NULL },
    { "getCircleEvents", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "removeCircleEventsWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:", "removeCircleEvents", "V", 0x1, NULL, NULL },
    { "addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueEventQueue:", "addCircleEvent", "V", 0x1, NULL, NULL },
    { "addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent:", "addCircleEvent", "V", 0x2, NULL, NULL },
    { "getPrev", NULL, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
    { "getNext", NULL, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
    { "setNextWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode:", "setNext", "V", 0x1, NULL, NULL },
    { "getIntersectWithNextWithInt:", "getIntersectWithNext", "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.VPoint;", 0x1, NULL, NULL },
    { "isLeafNode", NULL, "Z", 0x1, NULL, NULL },
    { "isInternalNode", NULL, "Z", 0x1, NULL, NULL },
    { "cloneLinkedNode", NULL, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "siteevent_", NULL, 0x1, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.eventqueue.VSiteEvent;", NULL, NULL,  },
    { "prev_", NULL, 0x2, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", NULL, NULL,  },
    { "next_", NULL, 0x2, "Lgeogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure.VLinkedNode;", NULL, NULL,  },
    { "circleevents_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/kernel/discrete/signalprocessor/voronoi/eventqueue/VCircleEvent;>;",  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode = { 2, "VLinkedNode", "geogebra.common.kernel.discrete.signalprocessor.voronoi.statusstructure", NULL, 0x1, 14, methods, 4, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode;
}

@end

void GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_init(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self) {
  NSObject_init(self);
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_init() {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self = [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode alloc];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_init(self);
  return self;
}

void GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *_siteevent) {
  NSObject_init(self);
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_set_siteevent_(self, _siteevent);
}

GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *new_GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent *_siteevent) {
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self = [GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode alloc];
  GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_initWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVSiteEvent_(self, _siteevent);
  return self;
}

void GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_addCircleEventWithGeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent_(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode *self, GeogebraCommonKernelDiscreteSignalprocessorVoronoiEventqueueVCircleEvent *_circleevent) {
  if (self->circleevents_ == nil) {
    GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode_setAndConsume_circleevents_(self, new_JavaUtilArrayList_init());
  }
  [((JavaUtilArrayList *) nil_chk(self->circleevents_)) addWithId:_circleevent];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelDiscreteSignalprocessorVoronoiStatusstructureVLinkedNode)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/geos/GeoNumeric.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "geogebra/common/euclidian/EuclidianConstants.h"
#include "geogebra/common/euclidian/EuclidianViewInterfaceCommon.h"
#include "geogebra/common/euclidian/EuclidianViewInterfaceSlim.h"
#include "geogebra/common/kernel/AnimationManager.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/StringTemplate.h"
#include "geogebra/common/kernel/algos/AlgoDispatcher.h"
#include "geogebra/common/kernel/algos/AlgoElement.h"
#include "geogebra/common/kernel/algos/ConstructionElement.h"
#include "geogebra/common/kernel/arithmetic/ExpressionNode.h"
#include "geogebra/common/kernel/arithmetic/ExpressionNodeConstants.h"
#include "geogebra/common/kernel/arithmetic/ExpressionValue.h"
#include "geogebra/common/kernel/arithmetic/Function.h"
#include "geogebra/common/kernel/arithmetic/FunctionVariable.h"
#include "geogebra/common/kernel/arithmetic/MyDouble.h"
#include "geogebra/common/kernel/arithmetic/NumberValue.h"
#include "geogebra/common/kernel/cas/AlgoIntegralDefiniteInterface.h"
#include "geogebra/common/kernel/geos/GeoAngle.h"
#include "geogebra/common/kernel/geos/GeoCasCell.h"
#include "geogebra/common/kernel/geos/GeoElement.h"
#include "geogebra/common/kernel/geos/GeoFunction.h"
#include "geogebra/common/kernel/geos/GeoNumberValue.h"
#include "geogebra/common/kernel/geos/GeoNumeric.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/main/Localization.h"
#include "geogebra/common/plugin/GeoClass.h"
#include "geogebra/common/plugin/Operation.h"
#include "geogebra/common/util/StringUtil.h"
#include "java/lang/Double.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Comparator.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/TreeSet.h"

@interface GeogebraCommonKernelGeosGeoNumeric () {
 @public
  jint slopeTriangleSize_;
  jboolean intervalMinActive_;
  jboolean intervalMaxActive_;
  id<GeogebraCommonKernelArithmeticNumberValue> intervalMin_;
  id<GeogebraCommonKernelArithmeticNumberValue> intervalMax_;
  jdouble sliderWidth_;
  jdouble sliderX_, sliderY_;
  jboolean sliderFixed_;
  jboolean sliderHorizontal_;
  jdouble animationValue_;
  JavaLangStringBuilder *sbToString_;
  JavaUtilArrayList *minMaxListeners_;
  jboolean randomSlider_;
  JavaUtilArrayList *evListeners_;
  jboolean showExtendedAV_;
}

- (void)initScreenLocation OBJC_METHOD_FAMILY_NONE;

- (jint)countSliders;

- (jdouble)getRandom;

- (void)resolveMinMax;

- (void)setIntervalMinActiveWithBoolean:(jboolean)intervalMinActive;

- (void)setIntervalMaxActiveWithBoolean:(jboolean)intervalMaxActive;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, intervalMin_, id<GeogebraCommonKernelArithmeticNumberValue>)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, intervalMax_, id<GeogebraCommonKernelArithmeticNumberValue>)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, sbToString_, JavaLangStringBuilder *)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, minMaxListeners_, JavaUtilArrayList *)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, evListeners_, JavaUtilArrayList *)

static jint GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_RW_ = 4;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonKernelGeosGeoNumeric, DEFAULT_SLIDER_WIDTH_RW_, jint)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonKernelGeosGeoNumeric, DEFAULT_SLIDER_WIDTH_RW_, jint)

static id<JavaUtilComparator> GeogebraCommonKernelGeosGeoNumeric_comparator_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonKernelGeosGeoNumeric, comparator_, id<JavaUtilComparator>)
J2OBJC_STATIC_FIELD_SETTER(GeogebraCommonKernelGeosGeoNumeric, comparator_, id<JavaUtilComparator>)

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setDrawableWithBoolean_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean flag, jboolean visible);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_initScreenLocation(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jint GeogebraCommonKernelGeosGeoNumeric_countSliders(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setUndefined(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jboolean GeogebraCommonKernelGeosGeoNumeric_isDefined(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jboolean GeogebraCommonKernelGeosGeoNumeric_isInfinite(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble x);

__attribute__((unused)) static jdouble GeogebraCommonKernelGeosGeoNumeric_getValue(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setSliderWidthWithDouble_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble width);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setSliderLocationWithDouble_withDouble_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble x, jdouble y, jboolean force);

__attribute__((unused)) static jdouble GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jdouble GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jdouble GeogebraCommonKernelGeosGeoNumeric_getSliderWidth(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jboolean GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jboolean GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static jboolean GeogebraCommonKernelGeosGeoNumeric_isSliderFixed(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setSliderFixedWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean isSliderFixed);

__attribute__((unused)) static jdouble GeogebraCommonKernelGeosGeoNumeric_getRandom(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(GeogebraCommonKernelGeosGeoNumeric *self);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setIntervalMinActiveWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean intervalMinActive);

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_setIntervalMaxActiveWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean intervalMaxActive);

@interface GeogebraCommonKernelGeosGeoNumeric_$1 : NSObject < JavaUtilComparator >

- (jint)compareWithId:(id<GeogebraCommonKernelGeosGeoNumberValue>)itemA
               withId:(id<GeogebraCommonKernelGeosGeoNumberValue>)itemB;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(GeogebraCommonKernelGeosGeoNumeric_$1)

__attribute__((unused)) static void GeogebraCommonKernelGeosGeoNumeric_$1_init(GeogebraCommonKernelGeosGeoNumeric_$1 *self);

__attribute__((unused)) static GeogebraCommonKernelGeosGeoNumeric_$1 *new_GeogebraCommonKernelGeosGeoNumeric_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(GeogebraCommonKernelGeosGeoNumeric_$1)

jint GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_ = 200;
jint GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_ANGLE_ = 180;
jdouble GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_MIN_ = -5;
jdouble GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_MAX_ = 5;
jdouble GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_INCREMENT_ = 0.1;
jdouble GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_SPEED_ = 1;

@implementation GeogebraCommonKernelGeosGeoNumeric

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)c {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_(self, c);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)c
                                             withBoolean:(jboolean)setDefaults {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withBoolean_(self, c, setDefaults);
  return self;
}

- (jint)getRelatedModeID {
  return GeogebraCommonEuclidianEuclidianConstants_MODE_SLIDER;
}

- (GeogebraCommonPluginGeoClassEnum *)getGeoClassType {
  return GeogebraCommonPluginGeoClassEnum_get_NUMERIC();
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)c
                                            withNSString:(NSString *)label
                                              withDouble:(jdouble)x {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withNSString_withDouble_(self, c, label, x);
  return self;
}

- (instancetype)initWithGeogebraCommonKernelConstruction:(GeogebraCommonKernelConstruction *)c
                                              withDouble:(jdouble)x {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(self, c, x);
  return self;
}

- (GeogebraCommonKernelGeosGeoNumeric *)copy__ {
  return [new_GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(cons_, value_) autorelease];
}

- (void)setZero {
  GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(self, 0);
}

- (jboolean)isDrawable {
  return isDrawable__ || ([self getDrawAlgorithm] != [self getParentAlgorithm]) || ([self isIndependent] && [self isLabelSet]);
}

- (jboolean)isFillable {
  return isDrawable__;
}

- (void)setDrawableWithBoolean:(jboolean)flag {
  GeogebraCommonKernelGeosGeoNumeric_setDrawableWithBoolean_withBoolean_(self, flag, YES);
}

- (void)setDrawableWithBoolean:(jboolean)flag
                   withBoolean:(jboolean)visible {
  GeogebraCommonKernelGeosGeoNumeric_setDrawableWithBoolean_withBoolean_(self, flag, visible);
}

- (void)setEuclidianVisibleWithBoolean:(jboolean)visible {
  if (visible == [self isSetEuclidianVisible] || [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) isMacroKernel]) return;
  if ([self isIndependent]) {
    if (visible) {
      GeogebraCommonKernelGeosGeoNumeric *num = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getAlgoDispatcher])) getDefaultNumberWithBoolean:[self isAngle]];
      [self setFixedWithBoolean:NO];
      if (!GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) && !([intervalMin_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]])) {
        if (!GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) && !([intervalMax_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]])) {
          jdouble min = JavaLangMath_minWithDouble_withDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(nil_chk(num)), JavaLangMath_floorWithDouble_(value_));
          jdouble max = JavaLangMath_maxWithDouble_withDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(num), JavaLangMath_ceilWithDouble_(value_));
          [self setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, min) autorelease]];
          [self setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, max) autorelease]];
        }
        else {
          jdouble min = JavaLangMath_minWithDouble_withDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(nil_chk(num)), JavaLangMath_floorWithDouble_(value_));
          [self setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, min) autorelease]];
        }
      }
      else {
        if (!GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) && !([intervalMax_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]])) {
          jdouble max = JavaLangMath_maxWithDouble_withDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(nil_chk(num)), JavaLangMath_ceilWithDouble_(value_));
          [self setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, max) autorelease]];
        }
      }
      if (sliderX_ == 0 && sliderY_ == 0) {
        GeogebraCommonKernelGeosGeoNumeric_initScreenLocation(self);
      }
    }
  }
  [super setEuclidianVisibleWithBoolean:visible];
}

- (void)initScreenLocation {
  GeogebraCommonKernelGeosGeoNumeric_initScreenLocation(self);
}

- (jint)countSliders {
  return GeogebraCommonKernelGeosGeoNumeric_countSliders(self);
}

- (jboolean)isSlider {
  return [self isIndependent] && [self isEuclidianVisible];
}

- (jboolean)showInEuclidianView {
  return [self isDrawable] && GeogebraCommonKernelGeosGeoNumeric_isDefined(self) && (intervalMin_ == nil || intervalMax_ == nil || ((GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) && GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self)) && (GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self) < GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self))));
}

- (jboolean)showInAlgebraView {
  return YES;
}

- (void)setWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  id<GeogebraCommonKernelArithmeticNumberValue> num = (id<GeogebraCommonKernelArithmeticNumberValue>) check_protocol_cast(geo, @protocol(GeogebraCommonKernelArithmeticNumberValue));
  GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(self, [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(num)) getDouble]);
}

- (void)setUndefined {
  GeogebraCommonKernelGeosGeoNumeric_setUndefined(self);
}

- (jboolean)isDefined {
  return GeogebraCommonKernelGeosGeoNumeric_isDefined(self);
}

- (jboolean)isFinite {
  return GeogebraCommonKernelGeosGeoNumeric_isDefined(self) && !GeogebraCommonKernelGeosGeoNumeric_isInfinite(self);
}

- (jboolean)isInfinite {
  return GeogebraCommonKernelGeosGeoNumeric_isInfinite(self);
}

- (NSString *)getLaTeXdescription {
  if (strLaTeXneedsUpdate_) {
    if (!GeogebraCommonKernelGeosGeoNumeric_isDefined(self)) {
      GeogebraCommonKernelGeosGeoElement_set_strLaTeX_(self, [((GeogebraCommonMainLocalization *) nil_chk([self getLoc])) getPlainWithNSString:@"Undefined"]);
    }
    else if (GeogebraCommonKernelGeosGeoNumeric_isInfinite(self)) {
      if (value_ >= 0) GeogebraCommonKernelGeosGeoElement_set_strLaTeX_(self, @"\\infty");
      else GeogebraCommonKernelGeosGeoElement_set_strLaTeX_(self, @"-\\infty");
    }
    else {
      GeogebraCommonKernelGeosGeoElement_set_strLaTeX_(self, [self toLaTeXStringWithBoolean:NO withGeogebraCommonKernelStringTemplate:GeogebraCommonKernelStringTemplate_get_latexTemplate_()]);
    }
  }
  return strLaTeX_;
}

- (jboolean)isEqualWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoNumeric]) {
    return GeogebraCommonKernelKernel_isEqualWithDouble_withDouble_(value_, ((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(geo, [GeogebraCommonKernelGeosGeoNumeric class]))->value_);
  }
  return NO;
}

- (jdouble)getAnimationStep {
  if ([self getAnimationStepObject] == nil) {
    GeogebraCommonKernelGeosGeoNumeric *num = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getAlgoDispatcher])) getDefaultNumberWithBoolean:[self isGeoAngle]];
    [self setAnimationStepWithDouble:[((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(num)) getAnimationStep]];
  }
  return [super getAnimationStep];
}

- (jdouble)getAnimationSpeed {
  if ([self getAnimationSpeedObject] == nil) {
    GeogebraCommonKernelGeosGeoNumeric *num = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getAlgoDispatcher])) getDefaultNumberWithBoolean:[self isGeoAngle]];
    [self setAnimationSpeedWithDouble:[((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(num)) getAnimationSpeed]];
  }
  return [super getAnimationSpeed];
}

- (void)setValueWithDouble:(jdouble)x {
  GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(self, x);
}

- (void)setValueWithDouble:(jdouble)x
               withBoolean:(jboolean)changeAnimationValue {
  if (JavaLangDouble_isNaNWithDouble_(x)) value_ = JavaLangDouble_NaN;
  else if (GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) && x < GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self)) {
    value_ = GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
    if ([self getCorrespondingCasCell] != nil) [((GeogebraCommonKernelGeosGeoCasCell *) nil_chk([self getCorrespondingCasCell])) setInputFromTwinGeoWithBoolean:YES];
  }
  else if (GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) && x > GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self)) {
    value_ = GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self);
    if ([self getCorrespondingCasCell] != nil) [((GeogebraCommonKernelGeosGeoCasCell *) nil_chk([self getCorrespondingCasCell])) setInputFromTwinGeoWithBoolean:YES];
  }
  else value_ = x;
  if (changeAnimationValue) animationValue_ = value_;
}

- (jdouble)getValue {
  return GeogebraCommonKernelGeosGeoNumeric_getValue(self);
}

- (NSString *)toStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  if (sbToString_ == nil) {
    return nil;
  }
  if ([((GeogebraCommonKernelStringTemplate *) nil_chk(tpl)) getStringType] == GeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum_get_GIAC()) {
    return [self toValueStringWithGeogebraCommonKernelStringTemplate:tpl];
  }
  [((JavaLangStringBuilder *) nil_chk(sbToString_)) setLengthWithInt:0];
  [sbToString_ appendWithNSString:label_];
  [sbToString_ appendWithNSString:@" = "];
  [sbToString_ appendWithNSString:[self toValueStringWithGeogebraCommonKernelStringTemplate:tpl]];
  return [sbToString_ description];
}

- (NSString *)toStringMinimal {
  if (sbToString_ == nil) return nil;
  [((JavaLangStringBuilder *) nil_chk(sbToString_)) setLengthWithInt:0];
  [sbToString_ appendWithNSString:[self toValueStringMinimal]];
  return [sbToString_ description];
}

- (NSString *)toValueStringMinimal {
  return [self regrFormatWithDouble:value_];
}

- (NSString *)toValueStringWithGeogebraCommonKernelStringTemplate:(GeogebraCommonKernelStringTemplate *)tpl {
  if ([((GeogebraCommonKernelStringTemplate *) nil_chk(tpl)) getStringType] == GeogebraCommonKernelArithmeticExpressionNodeConstants_StringTypeEnum_get_GIAC()) {
    if (!sendValueToCas_) {
      return JreStrcat("C$C", '(', label_, ')');
    }
    if ([self isRandomGeo] && ![self isLabelSet]) {
      return @"exact(rand(0,1))";
    }
    if (JavaLangDouble_isNaNWithDouble_(value_)) {
      return @"undef";
    }
    if (JavaLangDouble_isInfiniteWithDouble_(value_)) {
      if (value_ > 0) {
        return @"inf";
      }
      return @"-inf";
    }
    return GeogebraCommonUtilStringUtil_wrapInExactWithNSString_([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:value_ withGeogebraCommonKernelStringTemplate:tpl]);
  }
  return [((GeogebraCommonKernelKernel *) nil_chk(kernel_)) formatWithDouble:value_ withGeogebraCommonKernelStringTemplate:tpl];
}

- (GeogebraCommonKernelArithmeticMyDouble *)getNumber {
  return [new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, value_) autorelease];
}

- (jdouble)getDouble {
  return value_;
}

- (void)setAllVisualPropertiesExceptEuclidianVisibleWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo
                                                                               withBoolean:(jboolean)keepAdvanced {
  [super setAllVisualPropertiesExceptEuclidianVisibleWithGeogebraCommonKernelGeosGeoElement:geo withBoolean:keepAdvanced];
  if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoNumeric]) {
    isDrawable__ = ((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(geo, [GeogebraCommonKernelGeosGeoNumeric class]))->isDrawable__;
  }
}

- (void)setVisualStyleWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)geo {
  [super setVisualStyleWithGeogebraCommonKernelGeosGeoElement:geo];
  if ([((GeogebraCommonKernelGeosGeoElement *) nil_chk(geo)) isGeoNumeric]) {
    slopeTriangleSize_ = ((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(geo, [GeogebraCommonKernelGeosGeoNumeric class]))->slopeTriangleSize_;
  }
}

- (void)getXMLtagsWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"\t<value val=\""];
  [sb appendWithDouble:value_];
  [sb appendWithNSString:@"\""];
  if ([self isRandom]) {
    [sb appendWithNSString:@" random=\"true\""];
  }
  [sb appendWithNSString:@"/>\n"];
  [self getXMLvisualTagsWithJavaLangStringBuilder:sb];
  if (isDrawable__ || [self isSliderable]) {
    [self getXMLsliderTagWithJavaLangStringBuilder:sb];
    [self getLineStyleXMLWithJavaLangStringBuilder:sb];
    if (slopeTriangleSize_ > 1) {
      [sb appendWithNSString:@"\t<slopeTriangleSize val=\""];
      [sb appendWithInt:slopeTriangleSize_];
      [sb appendWithNSString:@"\"/>\n"];
    }
  }
  [self getXMLanimationTagsWithJavaLangStringBuilder:sb];
  [self getXMLfixedTagWithJavaLangStringBuilder:sb];
  [self getAuxiliaryXMLWithJavaLangStringBuilder:sb];
  [self getBreakpointXMLWithJavaLangStringBuilder:sb];
  [self getScriptTagsWithJavaLangStringBuilder:sb];
}

- (jboolean)isSliderable {
  return [self isIndependent] && (GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) || GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self));
}

- (jboolean)isFixable {
  return ![self isSetEuclidianVisible];
}

- (void)getXMLsliderTagWithJavaLangStringBuilder:(JavaLangStringBuilder *)sb {
  if (![self isSliderable]) return;
  GeogebraCommonKernelStringTemplate *tpl = GeogebraCommonKernelStringTemplate_get_xmlTemplate_();
  [((JavaLangStringBuilder *) nil_chk(sb)) appendWithNSString:@"\t<slider"];
  if (GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) || [intervalMin_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [sb appendWithNSString:@" min=\""];
    GeogebraCommonUtilStringUtil_encodeXMLWithJavaLangStringBuilder_withNSString_(sb, [((GeogebraCommonKernelGeosGeoElement *) nil_chk([self getIntervalMinObject])) getLabelWithGeogebraCommonKernelStringTemplate:tpl]);
    [sb appendWithNSString:@"\""];
  }
  if (GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) || [intervalMax_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [sb appendWithNSString:@" max=\""];
    GeogebraCommonUtilStringUtil_encodeXMLWithJavaLangStringBuilder_withNSString_(sb, [((GeogebraCommonKernelGeosGeoElement *) nil_chk([self getIntervalMaxObject])) getLabelWithGeogebraCommonKernelStringTemplate:tpl]);
    [sb appendWithNSString:@"\""];
  }
  if (hasAbsoluteScreenLocation_) {
    [sb appendWithNSString:@" absoluteScreenLocation=\"true\""];
  }
  [sb appendWithNSString:@" width=\""];
  [sb appendWithDouble:sliderWidth_];
  [sb appendWithNSString:@"\" x=\""];
  [sb appendWithDouble:sliderX_];
  [sb appendWithNSString:@"\" y=\""];
  [sb appendWithDouble:sliderY_];
  [sb appendWithNSString:@"\" fixed=\""];
  [sb appendWithBoolean:sliderFixed_];
  [sb appendWithNSString:@"\" horizontal=\""];
  [sb appendWithBoolean:sliderHorizontal_];
  [sb appendWithNSString:@"\"/>\n"];
}

- (jboolean)isNumberValue {
  return YES;
}

- (jboolean)isGeoNumeric {
  return YES;
}

- (jint)getSlopeTriangleSize {
  return slopeTriangleSize_;
}

- (void)setSlopeTriangleSizeWithInt:(jint)i {
  slopeTriangleSize_ = i;
}

- (void)setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)max {
  if ([intervalMax_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(intervalMax_, [GeogebraCommonKernelGeosGeoNumeric class])))) unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
  }
  GeogebraCommonKernelGeosGeoNumeric_set_intervalMax_(self, max);
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMaxActiveWithBoolean_(self, !JavaLangDouble_isNaNWithDouble_([((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(max)) getDouble]));
  if ([max isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(max, [GeogebraCommonKernelGeosGeoNumeric class])) registerMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
  }
  GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(self);
}

- (void)setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:(id<GeogebraCommonKernelArithmeticNumberValue>)min {
  if ([intervalMin_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(intervalMin_, [GeogebraCommonKernelGeosGeoNumeric class])))) unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
  }
  GeogebraCommonKernelGeosGeoNumeric_set_intervalMin_(self, min);
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMinActiveWithBoolean_(self, !JavaLangDouble_isNaNWithDouble_([((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(min)) getDouble]));
  if ([min isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) {
    [((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(min, [GeogebraCommonKernelGeosGeoNumeric class])) registerMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
  }
  GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(self);
}

- (void)setSliderWidthWithDouble:(jdouble)width {
  GeogebraCommonKernelGeosGeoNumeric_setSliderWidthWithDouble_(self, width);
}

- (void)setSliderLocationWithDouble:(jdouble)x
                         withDouble:(jdouble)y
                        withBoolean:(jboolean)force {
  GeogebraCommonKernelGeosGeoNumeric_setSliderLocationWithDouble_withDouble_withBoolean_(self, x, y, force);
}

- (jdouble)getIntervalMax {
  return GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self);
}

- (jdouble)getIntervalMin {
  return GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
}

- (jdouble)getSliderWidth {
  return GeogebraCommonKernelGeosGeoNumeric_getSliderWidth(self);
}

- (jdouble)getSliderX {
  return sliderX_;
}

- (jdouble)getSliderY {
  return sliderY_;
}

- (jboolean)isIntervalMaxActive {
  return GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self);
}

- (jboolean)isIntervalMinActive {
  return GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self);
}

- (jboolean)isSliderFixed {
  return GeogebraCommonKernelGeosGeoNumeric_isSliderFixed(self);
}

- (void)setSliderFixedWithBoolean:(jboolean)isSliderFixed {
  GeogebraCommonKernelGeosGeoNumeric_setSliderFixedWithBoolean_(self, isSliderFixed);
}

- (jboolean)isSliderHorizontal {
  return sliderHorizontal_;
}

- (void)setSliderHorizontalWithBoolean:(jboolean)sliderHorizontal {
  self->sliderHorizontal_ = sliderHorizontal;
}

- (void)setAbsoluteScreenLocWithInt:(jint)x
                            withInt:(jint)y
                        withBoolean:(jboolean)force {
  GeogebraCommonKernelGeosGeoNumeric_setSliderLocationWithDouble_withDouble_withBoolean_(self, x, y, force);
}

- (void)setAbsoluteScreenLocWithInt:(jint)x
                            withInt:(jint)y {
  GeogebraCommonKernelGeosGeoNumeric_setSliderLocationWithDouble_withDouble_withBoolean_(self, x, y, YES);
}

- (jint)getAbsoluteScreenLocX {
  return J2ObjCFpToInt(sliderX_);
}

- (jint)getAbsoluteScreenLocY {
  return J2ObjCFpToInt(sliderY_);
}

- (void)setRealWorldLocWithDouble:(jdouble)x
                       withDouble:(jdouble)y {
  sliderX_ = x;
  sliderY_ = y;
}

- (jdouble)getRealWorldLocX {
  return sliderX_;
}

- (jdouble)getRealWorldLocY {
  return sliderY_;
}

- (void)setAbsoluteScreenLocActiveWithBoolean:(jboolean)flag {
  hasAbsoluteScreenLocation_ = flag;
  if (flag) sliderWidth_ = [self isKindOfClass:[GeogebraCommonKernelGeosGeoAngle class]] ? GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_ANGLE_ : GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_;
  else sliderWidth_ = GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_RW_;
}

- (jboolean)isAbsoluteScreenLocActive {
  return hasAbsoluteScreenLocation_;
}

- (jboolean)isAbsoluteScreenLocateable {
  return [self isSliderable];
}

- (GeogebraCommonKernelGeosGeoFunction *)getGeoFunction {
  GeogebraCommonKernelArithmeticExpressionNode *en = [new_GeogebraCommonKernelArithmeticExpressionNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_(kernel_, self) autorelease];
  GeogebraCommonKernelArithmeticFunction *fun = [new_GeogebraCommonKernelArithmeticFunction_initWithGeogebraCommonKernelArithmeticExpressionNode_withGeogebraCommonKernelArithmeticFunctionVariable_(en, [new_GeogebraCommonKernelArithmeticFunctionVariable_initWithGeogebraCommonKernelKernel_(kernel_) autorelease]) autorelease];
  GeogebraCommonKernelGeosGeoFunction *ret;
  if ([self isLabelSet] || ![self isIndependent]) {
    jboolean oldMacroMode = [((GeogebraCommonKernelConstruction *) nil_chk(cons_)) isSuppressLabelsActive];
    [cons_ setSuppressLabelCreationWithBoolean:YES];
    ret = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getAlgoDispatcher])) DependentFunctionWithNSString:nil withGeogebraCommonKernelArithmeticFunction:fun];
    [cons_ setSuppressLabelCreationWithBoolean:oldMacroMode];
  }
  else {
    ret = [new_GeogebraCommonKernelGeosGeoFunction_initWithGeogebraCommonKernelConstruction_(cons_) autorelease];
    [ret setFunctionWithGeogebraCommonKernelArithmeticFunction:fun];
  }
  return ret;
}

- (jboolean)isGeoFunctionable {
  return YES;
}

- (void)doRemove {
  [super doRemove];
  [((GeogebraCommonKernelConstruction *) nil_chk(cons_)) removeRandomGeoWithGeogebraCommonKernelGeosGeoElement:self];
  if ([intervalMin_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) [((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(intervalMin_, [GeogebraCommonKernelGeosGeoNumeric class])))) unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
  if ([intervalMax_ isKindOfClass:[GeogebraCommonKernelGeosGeoNumeric class]]) [((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(((GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(intervalMax_, [GeogebraCommonKernelGeosGeoNumeric class])))) unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:self];
}

- (void)registerMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:(GeogebraCommonKernelGeosGeoNumeric *)geo {
  if (minMaxListeners_ == nil) GeogebraCommonKernelGeosGeoNumeric_setAndConsume_minMaxListeners_(self, new_JavaUtilArrayList_init());
  [((JavaUtilArrayList *) nil_chk(minMaxListeners_)) addWithId:geo];
}

- (void)unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:(GeogebraCommonKernelGeosGeoNumeric *)geo {
  if (minMaxListeners_ == nil) GeogebraCommonKernelGeosGeoNumeric_setAndConsume_minMaxListeners_(self, new_JavaUtilArrayList_init());
  [((JavaUtilArrayList *) nil_chk(minMaxListeners_)) removeWithId:geo];
}

- (id<JavaUtilList>)getMinMaxListeners {
  return minMaxListeners_;
}

- (void)setRandomWithBoolean:(jboolean)random {
  randomSlider_ = random;
  if (random) [((GeogebraCommonKernelConstruction *) nil_chk(cons_)) addRandomGeoWithGeogebraCommonKernelGeosGeoElement:self];
  else [((GeogebraCommonKernelConstruction *) nil_chk(cons_)) removeRandomGeoWithGeogebraCommonKernelGeosGeoElement:self];
}

- (jboolean)isRandom {
  return randomSlider_;
}

- (void)updateRandom {
  if (randomSlider_ && GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) && GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self)) {
    value_ = GeogebraCommonKernelGeosGeoNumeric_getRandom(self);
    [self updateCascade];
  }
}

- (void)updateRandomNoCascade {
  if (randomSlider_ && GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self) && GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self)) {
    value_ = GeogebraCommonKernelGeosGeoNumeric_getRandom(self);
  }
}

- (jdouble)getRandom {
  return GeogebraCommonKernelGeosGeoNumeric_getRandom(self);
}

- (void)update {
  [super update];
  if (minMaxListeners_ != nil) {
    for (jint i = 0; i < [minMaxListeners_ size]; i++) {
      GeogebraCommonKernelGeosGeoNumeric *geo = [minMaxListeners_ getWithInt:i];
      GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(nil_chk(geo));
    }
  }
  if (evListeners_ != nil) {
    for (id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim> __strong ev in evListeners_) [((id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(ev)) updateBoundsWithBoolean:YES];
  }
}

- (void)resolveMinMax {
  GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(self);
}

- (jboolean)isAnimatable {
  return [self isIndependent] && GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) && GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self);
}

- (void)setAnimatingWithBoolean:(jboolean)flag {
  @synchronized(self) {
    animationValue_ = JavaLangDouble_NaN;
    [super setAnimatingWithBoolean:flag];
  }
}

- (jboolean)doAnimationStepWithDouble:(jdouble)frameRate {
  @synchronized(self) {
    if (!GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(self) || !GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(self)) return NO;
    if ([self isRandom]) {
      jdouble animationStep = [self getAnimationStep];
      if (animationValue_ < -2 * animationStep) {
        animationValue_ = 0;
      }
      jdouble intervalWidth = GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self) - GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
      jdouble step = intervalWidth * [self getAnimationSpeed] / (GeogebraCommonKernelAnimationManager_STANDARD_ANIMATION_TIME * frameRate);
      if (JavaLangDouble_isNaNWithDouble_(animationValue_) || animationValue_ < 0) animationValue_ = 0;
      animationValue_ = animationValue_ + JavaLangMath_absWithDouble_(step);
      if (animationValue_ > animationStep) {
        animationValue_ -= animationStep;
        [self setValueWithDouble:GeogebraCommonKernelGeosGeoNumeric_getRandom(self) withBoolean:NO];
        return YES;
      }
      return NO;
    }
    jdouble oldValue = GeogebraCommonKernelGeosGeoNumeric_getValue(self);
    jdouble intervalWidth = GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self) - GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
    jdouble step = intervalWidth * [self getAnimationSpeed] * [self getAnimationDirection] / (GeogebraCommonKernelAnimationManager_STANDARD_ANIMATION_TIME * frameRate);
    if (JavaLangDouble_isNaNWithDouble_(animationValue_)) animationValue_ = oldValue;
    animationValue_ = animationValue_ + step;
    switch ([self getAnimationType]) {
      case GeogebraCommonKernelGeosGeoElement_ANIMATION_DECREASING:
      case GeogebraCommonKernelGeosGeoElement_ANIMATION_INCREASING:
      if (animationValue_ > GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self)) animationValue_ = animationValue_ - intervalWidth;
      else if (animationValue_ < GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self)) animationValue_ = animationValue_ + intervalWidth;
      break;
      case GeogebraCommonKernelGeosGeoElement_ANIMATION_INCREASING_ONCE:
      if (animationValue_ > GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self)) {
        [self setAnimatingWithBoolean:NO];
        [self setValueWithDouble:GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self) withBoolean:NO];
        return YES;
      }
      else if (animationValue_ < GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self)) {
        [self setAnimatingWithBoolean:NO];
        [self setValueWithDouble:GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self) withBoolean:NO];
        return YES;
      }
      break;
      case GeogebraCommonKernelGeosGeoElement_ANIMATION_OSCILLATING:
      default:
      if (animationValue_ >= GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self)) {
        animationValue_ = GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self);
        [self changeAnimationDirection];
      }
      else if (animationValue_ <= GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self)) {
        animationValue_ = GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
        [self changeAnimationDirection];
      }
      break;
    }
    jdouble newValue;
    jdouble param = animationValue_ - GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
    param = GeogebraCommonKernelKernel_roundToScaleWithDouble_withDouble_(param, [self getAnimationStep]);
    newValue = GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self) + param;
    if ([self getAnimationStep] > GeogebraCommonKernelKernel_MIN_PRECISION) {
      newValue = GeogebraCommonKernelKernel_checkDecimalFractionWithDouble_(newValue);
    }
    [self setValueWithDouble:newValue withBoolean:NO];
    return GeogebraCommonKernelGeosGeoNumeric_getValue(self) != oldValue;
  }
}

+ (id<JavaUtilComparator>)getComparator {
  return GeogebraCommonKernelGeosGeoNumeric_getComparator();
}

- (void)updateRandomGeo {
  GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(self, [((GeogebraCommonMainApp *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(kernel_)) getApplication])) getRandomNumber]);
  [super updateRandomGeo];
}

- (jint)getMinimumLineThickness {
  return ([self isSlider] ? 1 : 0);
}

- (void)setIntervalMinWithDouble:(jdouble)value {
  [self setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, value) autorelease]];
}

- (void)setIntervalMaxWithDouble:(jdouble)value {
  [self setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:[new_GeogebraCommonKernelArithmeticMyDouble_initWithGeogebraCommonKernelKernel_withDouble_(kernel_, value) autorelease]];
}

- (GeogebraCommonKernelGeosGeoElement *)getIntervalMinObject {
  if (intervalMin_ == nil) return nil;
  return [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(intervalMin_)) toGeoElement];
}

- (GeogebraCommonKernelGeosGeoElement *)getIntervalMaxObject {
  if (intervalMax_ == nil) return nil;
  return [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(intervalMax_)) toGeoElement];
}

- (jboolean)canHaveClickScript {
  return NO;
}

- (jboolean)isCasEvaluableObject {
  return YES;
}

- (void)addEVSizeListenerWithGeogebraCommonEuclidianEuclidianViewInterfaceSlim:(id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim>)ev {
  if (evListeners_ == nil) GeogebraCommonKernelGeosGeoNumeric_setAndConsume_evListeners_(self, new_JavaUtilArrayList_init());
  if (![((JavaUtilArrayList *) nil_chk(evListeners_)) containsWithId:ev]) [evListeners_ addWithId:ev];
}

- (void)removeEVSizeListenerWithGeogebraCommonEuclidianEuclidianViewInterfaceSlim:(id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim>)ev {
  if (evListeners_ != nil) [evListeners_ removeWithId:ev];
}

- (void)moveDependenciesWithGeogebraCommonKernelGeosGeoElement:(GeogebraCommonKernelGeosGeoElement *)oldGeo {
  if (![((GeogebraCommonKernelGeosGeoElement *) nil_chk(oldGeo)) isGeoNumeric]) return;
  GeogebraCommonKernelGeosGeoNumeric *num = (GeogebraCommonKernelGeosGeoNumeric *) check_class_cast(oldGeo, [GeogebraCommonKernelGeosGeoNumeric class]);
  if (num->evListeners_ != nil) {
    GeogebraCommonKernelGeosGeoNumeric_set_evListeners_(self, num->evListeners_);
    for (id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim> __strong ev in num->evListeners_) {
      [((id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim>) nil_chk(ev)) replaceBoundObjectWithGeogebraCommonKernelGeosGeoNumeric:num withGeogebraCommonKernelGeosGeoNumeric:self];
    }
    GeogebraCommonKernelGeosGeoNumeric_set_evListeners_(num, nil);
  }
  if (num->minMaxListeners_ != nil) {
    GeogebraCommonKernelGeosGeoNumeric_set_minMaxListeners_(self, num->minMaxListeners_);
    for (GeogebraCommonKernelGeosGeoNumeric * __strong slider in minMaxListeners_) {
      if ([((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(slider)) getIntervalMaxObject] == num) [slider setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:self];
      if ([slider getIntervalMinObject] == num) [slider setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:self];
    }
  }
}

- (jboolean)isLaTeXDrawableGeo {
  return NO;
}

- (jboolean)hasLineOpacity {
  return YES;
}

- (void)addToSpreadsheetTraceListWithJavaUtilArrayList:(JavaUtilArrayList *)spreadsheetTraceList {
  GeogebraCommonKernelGeosGeoNumeric *xx = [self copy__];
  [((JavaUtilArrayList *) nil_chk(spreadsheetTraceList)) addWithId:xx];
}

- (void)setIntervalMinActiveWithBoolean:(jboolean)intervalMinActive {
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMinActiveWithBoolean_(self, intervalMinActive);
}

- (void)setIntervalMaxActiveWithBoolean:(jboolean)intervalMaxActive {
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMaxActiveWithBoolean_(self, intervalMaxActive);
}

- (jboolean)isPinnable {
  return [self isSlider];
}

- (id<GeogebraCommonKernelArithmeticExpressionValue>)integralWithGeogebraCommonKernelArithmeticFunctionVariable:(GeogebraCommonKernelArithmeticFunctionVariable *)fv {
  return [new_GeogebraCommonKernelArithmeticExpressionNode_initWithGeogebraCommonKernelKernel_withGeogebraCommonKernelArithmeticExpressionValue_withGeogebraCommonPluginOperationEnum_withGeogebraCommonKernelArithmeticExpressionValue_(kernel_, self, GeogebraCommonPluginOperationEnum_get_MULTIPLY(), fv) autorelease];
}

+ (GeogebraCommonKernelGeosGeoNumeric *)setSliderFromDefaultWithGeogebraCommonKernelGeosGeoNumeric:(GeogebraCommonKernelGeosGeoNumeric *)num
                                                                                       withBoolean:(jboolean)isAngle {
  return GeogebraCommonKernelGeosGeoNumeric_setSliderFromDefaultWithGeogebraCommonKernelGeosGeoNumeric_withBoolean_(num, isAngle);
}

- (GeogebraCommonKernelGeosGeoElement_HitTypeEnum *)getLastHitType {
  return GeogebraCommonKernelGeosGeoElement_HitTypeEnum_get_ON_BOUNDARY();
}

- (jboolean)isShowingExtendedAV {
  return showExtendedAV_;
}

- (void)setShowExtendedAVWithBoolean:(jboolean)showExtendedAV {
  self->showExtendedAV_ = showExtendedAV;
}

- (void)dealloc {
  RELEASE_(intervalMin_);
  RELEASE_(intervalMax_);
  RELEASE_(sbToString_);
  RELEASE_(minMaxListeners_);
  RELEASE_(evListeners_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonKernelConstruction:", "GeoNumeric", NULL, 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withBoolean:", "GeoNumeric", NULL, 0x1, NULL, NULL },
    { "getRelatedModeID", NULL, "I", 0x1, NULL, NULL },
    { "getGeoClassType", NULL, "Lgeogebra.common.plugin.GeoClass;", 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withNSString:withDouble:", "GeoNumeric", NULL, 0x1, NULL, NULL },
    { "initWithGeogebraCommonKernelConstruction:withDouble:", "GeoNumeric", NULL, 0x1, NULL, NULL },
    { "copy__", "copy", "Lgeogebra.common.kernel.geos.GeoNumeric;", 0x1, NULL, NULL },
    { "setZero", NULL, "V", 0x1, NULL, NULL },
    { "isDrawable", NULL, "Z", 0x1, NULL, NULL },
    { "isFillable", NULL, "Z", 0x1, NULL, NULL },
    { "setDrawableWithBoolean:", "setDrawable", "V", 0x11, NULL, NULL },
    { "setDrawableWithBoolean:withBoolean:", "setDrawable", "V", 0x11, NULL, NULL },
    { "setEuclidianVisibleWithBoolean:", "setEuclidianVisible", "V", 0x1, NULL, NULL },
    { "initScreenLocation", NULL, "V", 0x2, NULL, NULL },
    { "countSliders", NULL, "I", 0x2, NULL, NULL },
    { "isSlider", NULL, "Z", 0x1, NULL, NULL },
    { "showInEuclidianView", NULL, "Z", 0x1, NULL, NULL },
    { "showInAlgebraView", NULL, "Z", 0x11, NULL, NULL },
    { "setWithGeogebraCommonKernelGeosGeoElement:", "set", "V", 0x1, NULL, NULL },
    { "setUndefined", NULL, "V", 0x11, NULL, NULL },
    { "isDefined", NULL, "Z", 0x11, NULL, NULL },
    { "isFinite", NULL, "Z", 0x11, NULL, NULL },
    { "isInfinite", NULL, "Z", 0x11, NULL, NULL },
    { "getLaTeXdescription", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "isEqualWithGeogebraCommonKernelGeosGeoElement:", "isEqual", "Z", 0x11, NULL, NULL },
    { "getAnimationStep", NULL, "D", 0x1, NULL, NULL },
    { "getAnimationSpeed", NULL, "D", 0x1, NULL, NULL },
    { "setValueWithDouble:", "setValue", "V", 0x11, NULL, NULL },
    { "setValueWithDouble:withBoolean:", "setValue", "V", 0x1, NULL, NULL },
    { "getValue", NULL, "D", 0x11, NULL, NULL },
    { "toStringWithGeogebraCommonKernelStringTemplate:", "toString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toStringMinimal", NULL, "Ljava.lang.String;", 0x11, NULL, NULL },
    { "toValueStringMinimal", NULL, "Ljava.lang.String;", 0x1, NULL, NULL },
    { "toValueStringWithGeogebraCommonKernelStringTemplate:", "toValueString", "Ljava.lang.String;", 0x1, NULL, NULL },
    { "getNumber", NULL, "Lgeogebra.common.kernel.arithmetic.MyDouble;", 0x1, NULL, NULL },
    { "getDouble", NULL, "D", 0x11, NULL, NULL },
    { "setAllVisualPropertiesExceptEuclidianVisibleWithGeogebraCommonKernelGeosGeoElement:withBoolean:", "setAllVisualPropertiesExceptEuclidianVisible", "V", 0x1, NULL, NULL },
    { "setVisualStyleWithGeogebraCommonKernelGeosGeoElement:", "setVisualStyle", "V", 0x1, NULL, NULL },
    { "getXMLtagsWithJavaLangStringBuilder:", "getXMLtags", "V", 0x4, NULL, NULL },
    { "isSliderable", NULL, "Z", 0x4, NULL, NULL },
    { "isFixable", NULL, "Z", 0x1, NULL, NULL },
    { "getXMLsliderTagWithJavaLangStringBuilder:", "getXMLsliderTag", "V", 0x4, NULL, NULL },
    { "isNumberValue", NULL, "Z", 0x1, NULL, NULL },
    { "isGeoNumeric", NULL, "Z", 0x1, NULL, NULL },
    { "getSlopeTriangleSize", NULL, "I", 0x11, NULL, NULL },
    { "setSlopeTriangleSizeWithInt:", "setSlopeTriangleSize", "V", 0x1, NULL, NULL },
    { "setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:", "setIntervalMax", "V", 0x1, NULL, NULL },
    { "setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:", "setIntervalMin", "V", 0x1, NULL, NULL },
    { "setSliderWidthWithDouble:", "setSliderWidth", "V", 0x11, NULL, NULL },
    { "setSliderLocationWithDouble:withDouble:withBoolean:", "setSliderLocation", "V", 0x11, NULL, NULL },
    { "getIntervalMax", NULL, "D", 0x11, NULL, NULL },
    { "getIntervalMin", NULL, "D", 0x11, NULL, NULL },
    { "getSliderWidth", NULL, "D", 0x11, NULL, NULL },
    { "getSliderX", NULL, "D", 0x11, NULL, NULL },
    { "getSliderY", NULL, "D", 0x11, NULL, NULL },
    { "isIntervalMaxActive", NULL, "Z", 0x11, NULL, NULL },
    { "isIntervalMinActive", NULL, "Z", 0x11, NULL, NULL },
    { "isSliderFixed", NULL, "Z", 0x11, NULL, NULL },
    { "setSliderFixedWithBoolean:", "setSliderFixed", "V", 0x11, NULL, NULL },
    { "isSliderHorizontal", NULL, "Z", 0x11, NULL, NULL },
    { "setSliderHorizontalWithBoolean:", "setSliderHorizontal", "V", 0x1, NULL, NULL },
    { "setAbsoluteScreenLocWithInt:withInt:withBoolean:", "setAbsoluteScreenLoc", "V", 0x1, NULL, NULL },
    { "setAbsoluteScreenLocWithInt:withInt:", "setAbsoluteScreenLoc", "V", 0x1, NULL, NULL },
    { "getAbsoluteScreenLocX", NULL, "I", 0x1, NULL, NULL },
    { "getAbsoluteScreenLocY", NULL, "I", 0x1, NULL, NULL },
    { "setRealWorldLocWithDouble:withDouble:", "setRealWorldLoc", "V", 0x1, NULL, NULL },
    { "getRealWorldLocX", NULL, "D", 0x1, NULL, NULL },
    { "getRealWorldLocY", NULL, "D", 0x1, NULL, NULL },
    { "setAbsoluteScreenLocActiveWithBoolean:", "setAbsoluteScreenLocActive", "V", 0x1, NULL, NULL },
    { "isAbsoluteScreenLocActive", NULL, "Z", 0x1, NULL, NULL },
    { "isAbsoluteScreenLocateable", NULL, "Z", 0x1, NULL, NULL },
    { "getGeoFunction", NULL, "Lgeogebra.common.kernel.geos.GeoFunction;", 0x1, NULL, NULL },
    { "isGeoFunctionable", NULL, "Z", 0x1, NULL, NULL },
    { "doRemove", NULL, "V", 0x1, NULL, NULL },
    { "registerMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:", "registerMinMaxListener", "V", 0x1, NULL, NULL },
    { "unregisterMinMaxListenerWithGeogebraCommonKernelGeosGeoNumeric:", "unregisterMinMaxListener", "V", 0x1, NULL, NULL },
    { "getMinMaxListeners", NULL, "Ljava.util.List;", 0x1, NULL, NULL },
    { "setRandomWithBoolean:", "setRandom", "V", 0x1, NULL, NULL },
    { "isRandom", NULL, "Z", 0x1, NULL, NULL },
    { "updateRandom", NULL, "V", 0x1, NULL, NULL },
    { "updateRandomNoCascade", NULL, "V", 0x1, NULL, NULL },
    { "getRandom", NULL, "D", 0x2, NULL, NULL },
    { "update", NULL, "V", 0x1, NULL, NULL },
    { "resolveMinMax", NULL, "V", 0x2, NULL, NULL },
    { "isAnimatable", NULL, "Z", 0x1, NULL, NULL },
    { "setAnimatingWithBoolean:", "setAnimating", "V", 0x21, NULL, NULL },
    { "doAnimationStepWithDouble:", "doAnimationStep", "Z", 0x31, NULL, NULL },
    { "getComparator", NULL, "Ljava.util.Comparator;", 0x9, NULL, NULL },
    { "updateRandomGeo", NULL, "V", 0x11, NULL, NULL },
    { "getMinimumLineThickness", NULL, "I", 0x1, NULL, NULL },
    { "setIntervalMinWithDouble:", "setIntervalMin", "V", 0x1, NULL, NULL },
    { "setIntervalMaxWithDouble:", "setIntervalMax", "V", 0x1, NULL, NULL },
    { "getIntervalMinObject", NULL, "Lgeogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "getIntervalMaxObject", NULL, "Lgeogebra.common.kernel.geos.GeoElement;", 0x1, NULL, NULL },
    { "canHaveClickScript", NULL, "Z", 0x1, NULL, NULL },
    { "isCasEvaluableObject", NULL, "Z", 0x11, NULL, NULL },
    { "addEVSizeListenerWithGeogebraCommonEuclidianEuclidianViewInterfaceSlim:", "addEVSizeListener", "V", 0x1, NULL, NULL },
    { "removeEVSizeListenerWithGeogebraCommonEuclidianEuclidianViewInterfaceSlim:", "removeEVSizeListener", "V", 0x1, NULL, NULL },
    { "moveDependenciesWithGeogebraCommonKernelGeosGeoElement:", "moveDependencies", "V", 0x1, NULL, NULL },
    { "isLaTeXDrawableGeo", NULL, "Z", 0x1, NULL, NULL },
    { "hasLineOpacity", NULL, "Z", 0x1, NULL, NULL },
    { "addToSpreadsheetTraceListWithJavaUtilArrayList:", "addToSpreadsheetTraceList", "V", 0x1, NULL, NULL },
    { "setIntervalMinActiveWithBoolean:", "setIntervalMinActive", "V", 0x2, NULL, NULL },
    { "setIntervalMaxActiveWithBoolean:", "setIntervalMaxActive", "V", 0x2, NULL, NULL },
    { "isPinnable", NULL, "Z", 0x1, NULL, NULL },
    { "integralWithGeogebraCommonKernelArithmeticFunctionVariable:", "integral", "Lgeogebra.common.kernel.arithmetic.ExpressionValue;", 0x1, NULL, NULL },
    { "setSliderFromDefaultWithGeogebraCommonKernelGeosGeoNumeric:withBoolean:", "setSliderFromDefault", "Lgeogebra.common.kernel.geos.GeoNumeric;", 0x9, NULL, NULL },
    { "getLastHitType", NULL, "Lgeogebra.common.kernel.geos.GeoElement$HitType;", 0x11, NULL, NULL },
    { "isShowingExtendedAV", NULL, "Z", 0x1, NULL, NULL },
    { "setShowExtendedAVWithBoolean:", "setShowExtendedAV", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "DEFAULT_THICKNESS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonKernelGeosGeoNumeric_DEFAULT_THICKNESS },
    { "DEFAULT_SLIDER_THICKNESS_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_THICKNESS },
    { "DEFAULT_SLIDER_WIDTH_RW_", NULL, 0xa, "I", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_RW_, NULL,  },
    { "DEFAULT_SLIDER_WIDTH_PIXEL_", NULL, 0x9, "I", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_, NULL,  },
    { "DEFAULT_SLIDER_WIDTH_PIXEL_ANGLE_", NULL, 0x9, "I", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_ANGLE_, NULL,  },
    { "DEFAULT_SLIDER_MIN_", NULL, 0x9, "D", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_MIN_, NULL,  },
    { "DEFAULT_SLIDER_MAX_", NULL, 0x9, "D", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_MAX_, NULL,  },
    { "DEFAULT_SLIDER_INCREMENT_", NULL, 0x9, "D", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_INCREMENT_, NULL,  },
    { "DEFAULT_SLIDER_SPEED_", NULL, 0x9, "D", &GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_SPEED_, NULL,  },
    { "value_", NULL, 0x1, "D", NULL, NULL,  },
    { "isDrawable__", "isDrawable", 0x1, "Z", NULL, NULL,  },
    { "slopeTriangleSize_", NULL, 0x2, "I", NULL, NULL,  },
    { "intervalMinActive_", NULL, 0x2, "Z", NULL, NULL,  },
    { "intervalMaxActive_", NULL, 0x2, "Z", NULL, NULL,  },
    { "intervalMin_", NULL, 0x2, "Lgeogebra.common.kernel.arithmetic.NumberValue;", NULL, NULL,  },
    { "intervalMax_", NULL, 0x2, "Lgeogebra.common.kernel.arithmetic.NumberValue;", NULL, NULL,  },
    { "sliderWidth_", NULL, 0x2, "D", NULL, NULL,  },
    { "sliderX_", NULL, 0x2, "D", NULL, NULL,  },
    { "sliderY_", NULL, 0x2, "D", NULL, NULL,  },
    { "sliderFixed_", NULL, 0x2, "Z", NULL, NULL,  },
    { "sliderHorizontal_", NULL, 0x2, "Z", NULL, NULL,  },
    { "animationValue_", NULL, 0x2, "D", NULL, NULL,  },
    { "hasAbsoluteScreenLocation_", NULL, 0x0, "Z", NULL, NULL,  },
    { "sbToString_", NULL, 0x2, "Ljava.lang.StringBuilder;", NULL, NULL,  },
    { "minMaxListeners_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/kernel/geos/GeoNumeric;>;",  },
    { "randomSlider_", NULL, 0x2, "Z", NULL, NULL,  },
    { "comparator_", NULL, 0xa, "Ljava.util.Comparator;", &GeogebraCommonKernelGeosGeoNumeric_comparator_, "Ljava/util/Comparator<Lgeogebra/common/kernel/geos/GeoNumberValue;>;",  },
    { "evListeners_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/euclidian/EuclidianViewInterfaceSlim;>;",  },
    { "showExtendedAV_", NULL, 0x2, "Z", NULL, NULL,  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelGeosGeoNumeric = { 2, "GeoNumeric", "geogebra.common.kernel.geos", NULL, 0x1, 110, methods, 29, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelGeosGeoNumeric;
}

@end

void GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_(GeogebraCommonKernelGeosGeoNumeric *self, GeogebraCommonKernelConstruction *c) {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withBoolean_(self, c, YES);
}

GeogebraCommonKernelGeosGeoNumeric *new_GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_(GeogebraCommonKernelConstruction *c) {
  GeogebraCommonKernelGeosGeoNumeric *self = [GeogebraCommonKernelGeosGeoNumeric alloc];
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_(self, c);
  return self;
}

void GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, GeogebraCommonKernelConstruction *c, jboolean setDefaults) {
  GeogebraCommonKernelGeosGeoElement_initWithGeogebraCommonKernelConstruction_(self, c);
  self->isDrawable__ = NO;
  self->slopeTriangleSize_ = 1;
  self->intervalMinActive_ = NO;
  self->intervalMaxActive_ = NO;
  self->sliderWidth_ = [self isKindOfClass:[GeogebraCommonKernelGeosGeoAngle class]] ? GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_ANGLE_ : GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_WIDTH_PIXEL_;
  self->sliderFixed_ = NO;
  self->sliderHorizontal_ = YES;
  self->animationValue_ = JavaLangDouble_NaN;
  self->hasAbsoluteScreenLocation_ = YES;
  GeogebraCommonKernelGeosGeoNumeric_setAndConsume_sbToString_(self, new_JavaLangStringBuilder_initWithInt_(50));
  self->randomSlider_ = NO;
  GeogebraCommonKernelGeosGeoNumeric_set_evListeners_(self, nil);
  self->showExtendedAV_ = YES;
  if (setDefaults) [self setConstructionDefaults];
  [self setEuclidianVisibleWithBoolean:NO];
}

GeogebraCommonKernelGeosGeoNumeric *new_GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withBoolean_(GeogebraCommonKernelConstruction *c, jboolean setDefaults) {
  GeogebraCommonKernelGeosGeoNumeric *self = [GeogebraCommonKernelGeosGeoNumeric alloc];
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withBoolean_(self, c, setDefaults);
  return self;
}

void GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withNSString_withDouble_(GeogebraCommonKernelGeosGeoNumeric *self, GeogebraCommonKernelConstruction *c, NSString *label, jdouble x) {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(self, c, x);
  [self setLabelWithNSString:label];
}

GeogebraCommonKernelGeosGeoNumeric *new_GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withNSString_withDouble_(GeogebraCommonKernelConstruction *c, NSString *label, jdouble x) {
  GeogebraCommonKernelGeosGeoNumeric *self = [GeogebraCommonKernelGeosGeoNumeric alloc];
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withNSString_withDouble_(self, c, label, x);
  return self;
}

void GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(GeogebraCommonKernelGeosGeoNumeric *self, GeogebraCommonKernelConstruction *c, jdouble x) {
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_(self, c);
  self->value_ = x;
}

GeogebraCommonKernelGeosGeoNumeric *new_GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(GeogebraCommonKernelConstruction *c, jdouble x) {
  GeogebraCommonKernelGeosGeoNumeric *self = [GeogebraCommonKernelGeosGeoNumeric alloc];
  GeogebraCommonKernelGeosGeoNumeric_initWithGeogebraCommonKernelConstruction_withDouble_(self, c, x);
  return self;
}

void GeogebraCommonKernelGeosGeoNumeric_setDrawableWithBoolean_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean flag, jboolean visible) {
  self->isDrawable__ = flag;
  if (visible && self->isDrawable__ && [((GeogebraCommonKernelKernel *) nil_chk(self->kernel_)) isNotifyViewsActive] && [self->kernel_ isAllowVisibilitySideEffects]) {
    [self setEuclidianVisibleWithBoolean:YES];
  }
}

void GeogebraCommonKernelGeosGeoNumeric_initScreenLocation(GeogebraCommonKernelGeosGeoNumeric *self) {
  jint count = GeogebraCommonKernelGeosGeoNumeric_countSliders(self);
  if ([self isAbsoluteScreenLocActive]) {
    self->sliderX_ = 30;
    id<GeogebraCommonEuclidianEuclidianViewInterfaceSlim> ev = [((GeogebraCommonMainApp *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(self->kernel_)) getApplication])) getActiveEuclidianView];
    if (ev != nil) {
      self->sliderY_ = [ev getSliderOffsetY] + 40 * count;
    }
    else {
      self->sliderY_ = 50 + 40 * count;
    }
    self->sliderY_ = J2ObjCFpToInt(self->sliderY_) / 400 * 10 + fmod(self->sliderY_, 400);
  }
  else {
    self->sliderX_ = -5;
    self->sliderY_ = 10 - count;
  }
}

jint GeogebraCommonKernelGeosGeoNumeric_countSliders(GeogebraCommonKernelGeosGeoNumeric *self) {
  jint count = 0;
  JavaUtilTreeSet *numbers = [((GeogebraCommonKernelConstruction *) nil_chk(self->cons_)) getGeoSetLabelOrderWithGeogebraCommonPluginGeoClassEnum:GeogebraCommonPluginGeoClassEnum_get_NUMERIC()];
  JavaUtilTreeSet *angles = [self->cons_ getGeoSetLabelOrderWithGeogebraCommonPluginGeoClassEnum:GeogebraCommonPluginGeoClassEnum_get_ANGLE()];
  if (numbers != nil) {
    if (angles != nil) [numbers addAllWithJavaUtilCollection:angles];
  }
  else {
    numbers = angles;
  }
  if (numbers != nil) {
    id<JavaUtilIterator> it = [numbers iterator];
    while ([((id<JavaUtilIterator>) nil_chk(it)) hasNext]) {
      GeogebraCommonKernelGeosGeoNumeric *num = (GeogebraCommonKernelGeosGeoNumeric *) check_class_cast([it next], [GeogebraCommonKernelGeosGeoNumeric class]);
      if ([((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(num)) isSlider]) count++;
    }
  }
  return count;
}

void GeogebraCommonKernelGeosGeoNumeric_setUndefined(GeogebraCommonKernelGeosGeoNumeric *self) {
  self->value_ = JavaLangDouble_NaN;
}

jboolean GeogebraCommonKernelGeosGeoNumeric_isDefined(GeogebraCommonKernelGeosGeoNumeric *self) {
  GeogebraCommonKernelAlgosAlgoElement *algo;
  if ([GeogebraCommonKernelCasAlgoIntegralDefiniteInterface_class_() isInstance:(algo = [self getParentAlgorithm])]) {
    id<GeogebraCommonKernelCasAlgoIntegralDefiniteInterface> aid = (id<GeogebraCommonKernelCasAlgoIntegralDefiniteInterface>) check_protocol_cast(algo, @protocol(GeogebraCommonKernelCasAlgoIntegralDefiniteInterface));
    if ([((id<GeogebraCommonKernelCasAlgoIntegralDefiniteInterface>) nil_chk(aid)) evaluateOnly]) return YES;
  }
  return !JavaLangDouble_isNaNWithDouble_(self->value_);
}

jboolean GeogebraCommonKernelGeosGeoNumeric_isInfinite(GeogebraCommonKernelGeosGeoNumeric *self) {
  return JavaLangDouble_isInfiniteWithDouble_(self->value_);
}

void GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble x) {
  [self setValueWithDouble:x withBoolean:YES];
}

jdouble GeogebraCommonKernelGeosGeoNumeric_getValue(GeogebraCommonKernelGeosGeoNumeric *self) {
  return self->value_;
}

void GeogebraCommonKernelGeosGeoNumeric_setSliderWidthWithDouble_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble width) {
  if (width > 0 && !JavaLangDouble_isInfiniteWithDouble_(width)) self->sliderWidth_ = width;
}

void GeogebraCommonKernelGeosGeoNumeric_setSliderLocationWithDouble_withDouble_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jdouble x, jdouble y, jboolean force) {
  if (!force && self->sliderFixed_) return;
  self->sliderX_ = x;
  self->sliderY_ = y;
}

jdouble GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(GeogebraCommonKernelGeosGeoNumeric *self) {
  return [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(self->intervalMax_)) getDouble];
}

jdouble GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(GeogebraCommonKernelGeosGeoNumeric *self) {
  return [((id<GeogebraCommonKernelArithmeticNumberValue>) nil_chk(self->intervalMin_)) getDouble];
}

jdouble GeogebraCommonKernelGeosGeoNumeric_getSliderWidth(GeogebraCommonKernelGeosGeoNumeric *self) {
  return self->sliderWidth_;
}

jboolean GeogebraCommonKernelGeosGeoNumeric_isIntervalMaxActive(GeogebraCommonKernelGeosGeoNumeric *self) {
  return self->intervalMaxActive_;
}

jboolean GeogebraCommonKernelGeosGeoNumeric_isIntervalMinActive(GeogebraCommonKernelGeosGeoNumeric *self) {
  return self->intervalMinActive_;
}

jboolean GeogebraCommonKernelGeosGeoNumeric_isSliderFixed(GeogebraCommonKernelGeosGeoNumeric *self) {
  return self->sliderFixed_;
}

void GeogebraCommonKernelGeosGeoNumeric_setSliderFixedWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean isSliderFixed) {
  self->sliderFixed_ = isSliderFixed;
}

jdouble GeogebraCommonKernelGeosGeoNumeric_getRandom(GeogebraCommonKernelGeosGeoNumeric *self) {
  jdouble min = GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self);
  jdouble max = GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self);
  jdouble increment = [self getAnimationStep];
  jint n = 1 + (jint) JavaLangMath_roundWithDouble_((max - min) / increment);
  return GeogebraCommonKernelKernel_checkDecimalFractionWithDouble_(JavaLangMath_floorWithDouble_([((GeogebraCommonMainApp *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk(self->kernel_)) getApplication])) getRandomNumber] * n) * increment + min);
}

void GeogebraCommonKernelGeosGeoNumeric_resolveMinMax(GeogebraCommonKernelGeosGeoNumeric *self) {
  jdouble oldValue = self->value_;
  if (self->intervalMin_ == nil || self->intervalMax_ == nil) return;
  jboolean okMin = !JavaLangDouble_isNaNWithDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self)) && !JavaLangDouble_isInfiniteWithDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self));
  jboolean okMax = !JavaLangDouble_isNaNWithDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self)) && !JavaLangDouble_isInfiniteWithDouble_(GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self));
  jboolean ok = (GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self) <= GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self));
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMinActiveWithBoolean_(self, ok && okMin);
  GeogebraCommonKernelGeosGeoNumeric_setIntervalMaxActiveWithBoolean_(self, (ok && okMin && okMax) || (GeogebraCommonKernelGeosGeoNumeric_getIntervalMin(self) == GeogebraCommonKernelGeosGeoNumeric_getIntervalMax(self) && okMin && okMax));
  if (ok && okMin && okMax) GeogebraCommonKernelGeosGeoNumeric_setValueWithDouble_(self, GeogebraCommonKernelGeosGeoNumeric_isDefined(self) ? self->value_ : 1.0);
  else if (okMin && okMax) GeogebraCommonKernelGeosGeoNumeric_setUndefined(self);
  if (oldValue != self->value_) {
    [self updateCascade];
  }
  else {
    [self update];
  }
}

id<JavaUtilComparator> GeogebraCommonKernelGeosGeoNumeric_getComparator() {
  GeogebraCommonKernelGeosGeoNumeric_initialize();
  if (GeogebraCommonKernelGeosGeoNumeric_comparator_ == nil) {
    JreStrongAssignAndConsume(&GeogebraCommonKernelGeosGeoNumeric_comparator_, nil, new_GeogebraCommonKernelGeosGeoNumeric_$1_init());
  }
  return GeogebraCommonKernelGeosGeoNumeric_comparator_;
}

void GeogebraCommonKernelGeosGeoNumeric_setIntervalMinActiveWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean intervalMinActive) {
  self->intervalMinActive_ = intervalMinActive;
}

void GeogebraCommonKernelGeosGeoNumeric_setIntervalMaxActiveWithBoolean_(GeogebraCommonKernelGeosGeoNumeric *self, jboolean intervalMaxActive) {
  self->intervalMaxActive_ = intervalMaxActive;
}

GeogebraCommonKernelGeosGeoNumeric *GeogebraCommonKernelGeosGeoNumeric_setSliderFromDefaultWithGeogebraCommonKernelGeosGeoNumeric_withBoolean_(GeogebraCommonKernelGeosGeoNumeric *num, jboolean isAngle) {
  GeogebraCommonKernelGeosGeoNumeric_initialize();
  GeogebraCommonKernelGeosGeoNumeric *defaultNum = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk([((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(num)) getKernel])) getAlgoDispatcher])) getDefaultNumberWithBoolean:NO];
  GeogebraCommonKernelGeosGeoNumeric *defaultAngleOrNum = [((GeogebraCommonKernelAlgosAlgoDispatcher *) nil_chk([((GeogebraCommonKernelKernel *) nil_chk([num getKernel])) getAlgoDispatcher])) getDefaultNumberWithBoolean:isAngle];
  GeogebraCommonKernelGeosGeoNumeric_setSliderFixedWithBoolean_(num, GeogebraCommonKernelGeosGeoNumeric_isSliderFixed(nil_chk(defaultNum)));
  [num setEuclidianVisibleWithBoolean:YES];
  [num setIntervalMinWithGeogebraCommonKernelArithmeticNumberValue:(GeogebraCommonKernelGeosGeoNumeric *) check_class_cast([((GeogebraCommonKernelGeosGeoNumeric *) nil_chk(defaultAngleOrNum)) getIntervalMinObject], [GeogebraCommonKernelGeosGeoNumeric class])];
  [num setIntervalMaxWithGeogebraCommonKernelArithmeticNumberValue:(GeogebraCommonKernelGeosGeoNumeric *) check_class_cast([defaultAngleOrNum getIntervalMaxObject], [GeogebraCommonKernelGeosGeoNumeric class])];
  [num setAnimationStepWithDouble:[defaultAngleOrNum getAnimationStep]];
  [num setAbsoluteScreenLocActiveWithBoolean:YES];
  [num setAnimationTypeWithInt:[defaultNum getAnimationType]];
  GeogebraCommonKernelGeosGeoNumeric_setSliderWidthWithDouble_(num, GeogebraCommonKernelGeosGeoNumeric_getSliderWidth(defaultAngleOrNum));
  [num setRandomWithBoolean:[defaultNum isRandom]];
  [num setLineThicknessWithInt:GeogebraCommonKernelGeosGeoNumeric_DEFAULT_SLIDER_THICKNESS];
  GeogebraCommonKernelGeosGeoNumeric_setDrawableWithBoolean_withBoolean_(num, NO, NO);
  [num update];
  return num;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelGeosGeoNumeric)

@implementation GeogebraCommonKernelGeosGeoNumeric_$1

- (jint)compareWithId:(id<GeogebraCommonKernelGeosGeoNumberValue>)itemA
               withId:(id<GeogebraCommonKernelGeosGeoNumberValue>)itemB {
  jdouble comp = [((id<GeogebraCommonKernelGeosGeoNumberValue>) nil_chk(itemA)) getDouble] - [((id<GeogebraCommonKernelGeosGeoNumberValue>) nil_chk(itemB)) getDouble];
  if (GeogebraCommonKernelKernel_isZeroWithDouble_(comp)) {
    return [itemA getConstructionIndex] > [itemB getConstructionIndex] ? -1 : 1;
  }
  return comp < 0 ? -1 : +1;
}

- (instancetype)init {
  GeogebraCommonKernelGeosGeoNumeric_$1_init(self);
  return self;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "compareWithId:withId:", "compare", "I", 0x1, NULL, NULL },
    { "init", "", NULL, 0x0, NULL, NULL },
  };
  static const J2ObjCEnclosingMethodInfo enclosing_method = { "GeogebraCommonKernelGeosGeoNumeric", "getComparator" };
  static const J2ObjcClassInfo _GeogebraCommonKernelGeosGeoNumeric_$1 = { 2, "", "geogebra.common.kernel.geos", "GeoNumeric", 0x8008, 2, methods, 0, NULL, 0, NULL, 0, NULL, &enclosing_method, "Ljava/lang/Object;Ljava/util/Comparator<Lgeogebra/common/kernel/geos/GeoNumberValue;>;" };
  return &_GeogebraCommonKernelGeosGeoNumeric_$1;
}

@end

void GeogebraCommonKernelGeosGeoNumeric_$1_init(GeogebraCommonKernelGeosGeoNumeric_$1 *self) {
  NSObject_init(self);
}

GeogebraCommonKernelGeosGeoNumeric_$1 *new_GeogebraCommonKernelGeosGeoNumeric_$1_init() {
  GeogebraCommonKernelGeosGeoNumeric_$1 *self = [GeogebraCommonKernelGeosGeoNumeric_$1 alloc];
  GeogebraCommonKernelGeosGeoNumeric_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelGeosGeoNumeric_$1)

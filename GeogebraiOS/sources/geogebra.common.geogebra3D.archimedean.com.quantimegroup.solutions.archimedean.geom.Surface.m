//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Surface.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/BspTree.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Facet.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/FacetState.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Geometry.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Surface.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/TransformablePoint.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/utils/IntList.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/utils/ObjectList.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/utils/OrderedTriple.h"
#include "geogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/utils/Quick3X3Matrix.h"
#include "java/io/PrintStream.h"
#include "java/lang/Double.h"
#include "java/lang/Integer.h"
#include "java/lang/Math.h"
#include "java/lang/System.h"
#include "java/util/ArrayList.h"
#include "java/util/HashSet.h"
#include "java/util/Iterator.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/TreeMap.h"

@interface GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface () {
 @public
  id<JavaUtilList> rootFacets_;
  id<JavaUtilSet> excludedRootFacetIndices_;
  id<JavaUtilList> facets_;
  id<JavaUtilList> boundaries_;
  jdouble transformPercent_;
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *bspTree_;
  jint nonTransientPointCount_;
  JavaUtilTreeMap *savedBspTrees_;
}

- (void)saveBspTree;

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *)getBestBspTreeNew;

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *)getBestBspTree;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, rootFacets_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, excludedRootFacetIndices_, id<JavaUtilSet>)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, facets_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, boundaries_, id<JavaUtilList>)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, bspTree_, GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface, savedBspTrees_, JavaUtilTreeMap *)

__attribute__((unused)) static GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_getBestBspTree(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *self);

@interface GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_Listener : NSObject
@end

@implementation GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface

- (instancetype)initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList:(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *)points {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(self, points);
  return self;
}

- (void)square {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *ots = [self getPoints];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *firstSide = [self getFacetWithInt:0];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *firstSideNormal = [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *) nil_chk([((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(firstSide)) getNormal])) unit];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *desiredFirstSideNormal = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(0, 0, -1) autorelease];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *firstEdgeVector = [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *) nil_chk([((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *) nil_chk([((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *) nil_chk(ots)) getWithInt:1])) minusWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:[ots getWithInt:0]])) unit];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *desiredFirstEdgeVector = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(1, 0, 0) autorelease];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsQuick3X3Matrix *m = GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsQuick3X3Matrix_findRotationMatrixWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_withGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_withGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_withGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_(firstSideNormal, desiredFirstSideNormal, firstEdgeVector, desiredFirstEdgeVector);
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple * __strong ot in ots) {
    [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *) nil_chk(ot)) becomeWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:[((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsQuick3X3Matrix *) nil_chk(m)) timesWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:ot]];
  }
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet * __strong facet in nil_chk(facets_)) {
    [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(facet)) calcNormal];
  }
}

- (void)addRootFacetWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet:(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *)f {
  [((id<JavaUtilList>) nil_chk(rootFacets_)) addWithId:f];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
}

- (void)excludeRootFacetWithInt:(jint)index {
  [((id<JavaUtilSet>) nil_chk(excludedRootFacetIndices_)) addWithId:JavaLangInteger_valueOfWithInt_(index)];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
}

- (void)excludeAllRootFacets {
  for (jint i = 0; i < [((id<JavaUtilList>) nil_chk(rootFacets_)) size]; ++i) {
    [self excludeRootFacetWithInt:i];
  }
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
}

- (void)includeRootFacetWithInt:(jint)index {
  [((id<JavaUtilSet>) nil_chk(excludedRootFacetIndices_)) removeWithId:JavaLangInteger_valueOfWithInt_(index)];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
}

- (void)includeAllRootFacets {
  [((id<JavaUtilSet>) nil_chk(excludedRootFacetIndices_)) clear];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
}

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *)getRootFacetWithInt:(jint)index {
  return [((id<JavaUtilList>) nil_chk(rootFacets_)) getWithInt:index];
}

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *)getFacetWithInt:(jint)index {
  return [((id<JavaUtilList>) nil_chk(facets_)) getWithInt:index];
}

- (id<JavaUtilList>)getFacets {
  return facets_;
}

- (jint)getFacetCount {
  return [((id<JavaUtilList>) nil_chk(facets_)) size];
}

- (id<JavaUtilList>)getBoundaries {
  if (boundaries_ == nil) {
    [self calcBoundary];
  }
  return boundaries_;
}

- (void)bspBuild {
  if (nonTransientPointCount_ < 0) {
    nonTransientPointCount_ = [self getPointCount];
  }
  [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *) nil_chk([super getPoints])) setSizeWithInt:nonTransientPointCount_];
  id<JavaUtilList> includedFacets = [new_JavaUtilArrayList_init() autorelease];
  for (jint i = 0; i < [((id<JavaUtilList>) nil_chk(rootFacets_)) size]; ++i) {
    GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *rootFacet = [rootFacets_ getWithInt:i];
    [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(rootFacet)) clearChildren];
    if ([((id<JavaUtilSet>) nil_chk(excludedRootFacetIndices_)) containsWithId:JavaLangInteger_valueOfWithInt_(i)]) {
      continue;
    }
    if ([((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacetState *) nil_chk([((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk([rootFacets_ getWithInt:i])) getState])) isReal]) {
      [includedFacets addWithId:rootFacet];
    }
  }
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_bspTree_(self, GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree_buildWithJavaUtilList_(includedFacets));
  [((id<JavaUtilList>) nil_chk(facets_)) clear];
  [facets_ addAllWithJavaUtilCollection:[((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *) nil_chk(bspTree_)) getMasterFacetList]];
  [((JavaIoPrintStream *) nil_chk(JavaLangSystem_get_out_())) printlnWithNSString:JreStrcat("$I", @"Points: ", [self getPointCount])];
}

- (IOSIntArray *)bspSortWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple *)viewer {
  if ([((id<JavaUtilList>) nil_chk(facets_)) isEmpty]) {
    return [IOSIntArray arrayWithLength:0];
  }
  return [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *) nil_chk(bspTree_)) sortWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:viewer];
}

- (jboolean)calcBoundary {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_setAndConsume_boundaries_(self, new_JavaUtilArrayList_init());
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *edges1 = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList_initWithInt_withInt_(0, 10) autorelease];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *edges2 = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList_initWithInt_withInt_(0, 10) autorelease];
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet * __strong sa in nil_chk(facets_)) {
    GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *pointIndicesA = [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(sa)) getPointIndices];
    for (jint a = 0; a < [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *) nil_chk(pointIndicesA)) size]; ++a) {
      {
        jint ai1 = [pointIndicesA getWithInt:a];
        jint ai2 = [pointIndicesA wrapgetWithInt:a + 1];
        for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet * __strong sb in facets_) {
          if (sb == sa) {
            continue;
          }
          GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *pointIndicesB = [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(sb)) getPointIndices];
          for (jint b = 0; b < [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *) nil_chk(pointIndicesB)) size]; ++b) {
            jint bi1 = [pointIndicesB getWithInt:b];
            jint bi2 = [pointIndicesB wrapgetWithInt:b + 1];
            if (bi2 == ai1 && bi1 == ai2) {
              goto continue_A;
            }
          }
        }
        [edges1 addWithInt:ai1];
        [edges2 addWithInt:ai2];
      }
      continue_A: ;
    }
  }
  if ([edges1 isEmpty]) {
    return NO;
  }
  while (![edges1 isEmpty]) {
    GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList *boundary = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsIntList_initWithInt_withInt_(0, 1) autorelease];
    [boundaries_ addWithId:boundary];
    jint b1 = [edges1 getWithInt:0];
    jint b2 = [edges2 getWithInt:0];
    [boundary addWithInt:b1];
    [boundary addWithInt:b2];
    [edges1 orderedRemoveIndexWithInt:0];
    [edges2 orderedRemoveIndexWithInt:0];
    while (YES) {
      jint bi = [edges1 findWithInt:[boundary getWithInt:[boundary size] - 1]];
      if (bi == -1) {
        break;
      }
      jint newBi = [edges2 getWithInt:bi];
      if (newBi != [boundary getWithInt:0]) {
        [boundary addWithInt:newBi];
      }
      [edges1 orderedRemoveIndexWithInt:bi];
      [edges2 orderedRemoveIndexWithInt:bi];
      b2 = bi;
    }
  }
  return YES;
}

- (jdouble)getTransformPercent {
  return transformPercent_;
}

- (void)transformWithDouble:(jdouble)percent {
  self->transformPercent_ = percent;
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple * __strong p in nil_chk([self getPoints])) {
    if ([p isKindOfClass:[GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomTransformablePoint class]]) {
      GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomTransformablePoint *tp = (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomTransformablePoint *) check_class_cast(p, [GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomTransformablePoint class]);
      [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomTransformablePoint *) nil_chk(tp)) transformWithDouble:percent];
    }
  }
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet * __strong facet in nil_chk(rootFacets_)) {
    [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(facet)) setTransformPercentWithDouble:percent];
  }
}

- (jint)getTotalFacetCount {
  return [((id<JavaUtilList>) nil_chk(facets_)) size];
}

- (jint)getRootFacetCount {
  return [((id<JavaUtilList>) nil_chk(rootFacets_)) size];
}

- (jint)getExcludedRootFacetCount {
  return [((id<JavaUtilSet>) nil_chk(excludedRootFacetIndices_)) size];
}

- (id<JavaUtilIterator>)rootFacetsIterator {
  return [((id<JavaUtilList>) nil_chk(rootFacets_)) iterator];
}

- (void)saveBspTree {
  [((JavaUtilTreeMap *) nil_chk(savedBspTrees_)) putWithId:JavaLangDouble_valueOfWithDouble_(transformPercent_) withId:bspTree_];
}

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *)getBestBspTreeNew {
  if ([((JavaUtilTreeMap *) nil_chk(savedBspTrees_)) isEmpty]) {
    return bspTree_;
  }
  JavaLangDouble *d = nil;
  JavaLangDouble *prevD = nil;
  jdouble minDelta = JavaLangDouble_POSITIVE_INFINITY;
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([savedBspTrees_ entrySet])) {
    d = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
    jdouble delta = transformPercent_ - [((JavaLangDouble *) nil_chk(d)) doubleValue];
    minDelta = JavaLangMath_minWithDouble_withDouble_(minDelta, delta);
    if ([d doubleValue] >= transformPercent_) {
      if (delta == minDelta) {
        return [entry_ getValue];
      }
      else {
        return [savedBspTrees_ getWithId:prevD];
      }
    }
    prevD = d;
  }
  return [savedBspTrees_ getWithId:d];
}

- (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *)getBestBspTree {
  return GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_getBestBspTree(self);
}

- (jboolean)useBestBspTree {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *best = GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_getBestBspTree(self);
  if (bspTree_ != best) {
    GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_bspTree_(self, best);
    [((id<JavaUtilList>) nil_chk(facets_)) clear];
    [facets_ addAllWithJavaUtilCollection:[((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *) nil_chk(bspTree_)) getMasterFacetList]];
    return YES;
  }
  return NO;
}

+ (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *)createTestSurface1 {
  return GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_createTestSurface1();
}

- (void)dealloc {
  RELEASE_(rootFacets_);
  RELEASE_(excludedRootFacetIndices_);
  RELEASE_(facets_);
  RELEASE_(boundaries_);
  RELEASE_(bspTree_);
  RELEASE_(savedBspTrees_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList:", "Surface", NULL, 0x1, NULL, NULL },
    { "square", NULL, "V", 0x1, NULL, NULL },
    { "addRootFacetWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet:", "addRootFacet", "V", 0x1, NULL, NULL },
    { "excludeRootFacetWithInt:", "excludeRootFacet", "V", 0x1, NULL, NULL },
    { "excludeAllRootFacets", NULL, "V", 0x1, NULL, NULL },
    { "includeRootFacetWithInt:", "includeRootFacet", "V", 0x1, NULL, NULL },
    { "includeAllRootFacets", NULL, "V", 0x1, NULL, NULL },
    { "getRootFacetWithInt:", "getRootFacet", "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.Facet;", 0x1, NULL, NULL },
    { "getFacetWithInt:", "getFacet", "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.Facet;", 0x1, NULL, NULL },
    { "getFacets", NULL, "Ljava.util.List;", 0x1, NULL, NULL },
    { "getFacetCount", NULL, "I", 0x1, NULL, NULL },
    { "getBoundaries", NULL, "Ljava.util.List;", 0x1, NULL, NULL },
    { "bspBuild", NULL, "V", 0x1, NULL, NULL },
    { "bspSortWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple:", "bspSort", "[I", 0x1, NULL, NULL },
    { "calcBoundary", NULL, "Z", 0x1, NULL, NULL },
    { "getTransformPercent", NULL, "D", 0x1, NULL, NULL },
    { "transformWithDouble:", "transform", "V", 0x1, NULL, NULL },
    { "getTotalFacetCount", NULL, "I", 0x1, NULL, NULL },
    { "getRootFacetCount", NULL, "I", 0x1, NULL, NULL },
    { "getExcludedRootFacetCount", NULL, "I", 0x1, NULL, NULL },
    { "rootFacetsIterator", NULL, "Ljava.util.Iterator;", 0x1, NULL, NULL },
    { "saveBspTree", NULL, "V", 0x2, NULL, NULL },
    { "getBestBspTreeNew", NULL, "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.BspTree;", 0x2, NULL, NULL },
    { "getBestBspTree", NULL, "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.BspTree;", 0x2, NULL, NULL },
    { "useBestBspTree", NULL, "Z", 0x1, NULL, NULL },
    { "createTestSurface1", NULL, "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.Surface;", 0x9, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "rootFacets_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Lgeogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Facet;>;",  },
    { "excludedRootFacetIndices_", NULL, 0x2, "Ljava.util.Set;", NULL, "Ljava/util/Set<Ljava/lang/Integer;>;",  },
    { "facets_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Lgeogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/Facet;>;",  },
    { "boundaries_", NULL, 0x2, "Ljava.util.List;", NULL, "Ljava/util/List<Lgeogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/utils/IntList;>;",  },
    { "transformPercent_", NULL, 0x2, "D", NULL, NULL,  },
    { "bspTree_", NULL, 0x2, "Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.BspTree;", NULL, NULL,  },
    { "nonTransientPointCount_", NULL, 0x2, "I", NULL, NULL,  },
    { "savedBspTrees_", NULL, 0x2, "Ljava.util.TreeMap;", NULL, "Ljava/util/TreeMap<Ljava/lang/Double;Lgeogebra/common/geogebra3D/archimedean/com/quantimegroup/solutions/archimedean/geom/BspTree;>;",  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom.Surface$Listener;"};
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface = { 2, "Surface", "geogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom", NULL, 0x1, 26, methods, 8, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface;
}

@end

void GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *self, GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *points) {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomGeometry_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(self, points);
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_setAndConsume_rootFacets_(self, new_JavaUtilArrayList_init());
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_setAndConsume_excludedRootFacetIndices_(self, new_JavaUtilHashSet_init());
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_setAndConsume_facets_(self, new_JavaUtilArrayList_init());
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_set_boundaries_(self, nil);
  self->nonTransientPointCount_ = -1;
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_setAndConsume_savedBspTrees_(self, new_JavaUtilTreeMap_init());
}

GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *points) {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *self = [GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface alloc];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(self, points);
  return self;
}

GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomBspTree *GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_getBestBspTree(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *self) {
  if ([((JavaUtilTreeMap *) nil_chk(self->savedBspTrees_)) isEmpty]) {
    return self->bspTree_;
  }
  JavaLangDouble *d = nil;
  for (id<JavaUtilMap_Entry> __strong entry_ in nil_chk([self->savedBspTrees_ entrySet])) {
    d = [((id<JavaUtilMap_Entry>) nil_chk(entry_)) getKey];
    if ([((JavaLangDouble *) nil_chk(d)) doubleValue] >= self->transformPercent_) {
      return [entry_ getValue];
    }
  }
  return [self->savedBspTrees_ getWithId:d];
}

GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_createTestSurface1() {
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initialize();
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList *points = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_initWithInt_withInt_(10, 10) autorelease];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(-100, -50, 100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(-100, -50, -100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(100, -50, -100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(100, -50, 100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(50, -100, -100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(50, -100, 100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(50, 100, 100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(50, 100, -100) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(100, 100, -50) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(-100, 100, -50) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(-100, -100, -50) autorelease]];
  [points addWithId:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsOrderedTriple_initWithDouble_withDouble_withDouble_(100, -100, -50) autorelease]];
  GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface *surface = [new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanUtilsObjectList_(points) autorelease];
  [surface addRootFacetWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_withIntArray_(surface, [IOSIntArray arrayWithInts:(jint[]){ 0, 1, 2, 3 } count:4]) autorelease]];
  [surface addRootFacetWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_withIntArray_(surface, [IOSIntArray arrayWithInts:(jint[]){ 4, 5, 6, 7 } count:4]) autorelease]];
  [surface addRootFacetWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet:[new_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet_initWithGeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_withIntArray_(surface, [IOSIntArray arrayWithInts:(jint[]){ 8, 9, 10, 11 } count:4]) autorelease]];
  for (GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet * __strong facet in nil_chk([surface getFacets])) {
    [((GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomFacet *) nil_chk(facet)) calcNormal];
  }
  return surface;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface)

@implementation GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_Listener

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "surfaceChanged", NULL, "V", 0x401, NULL, NULL },
  };
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_Listener = { 2, "Listener", "geogebra.common.geogebra3D.archimedean.com.quantimegroup.solutions.archimedean.geom", "Surface", 0x608, 1, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_Listener;
}

@end

J2OBJC_INTERFACE_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DArchimedeanComQuantimegroupSolutionsArchimedeanGeomSurface_Listener)

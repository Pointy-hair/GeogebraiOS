//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/com/vividsolutions/jts/algorithm/RobustLineIntersector.java
//


#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/vividsolutions/jts/algorithm/CGAlgorithms.h"
#include "com/vividsolutions/jts/algorithm/CentralEndpointIntersector.h"
#include "com/vividsolutions/jts/algorithm/HCoordinate.h"
#include "com/vividsolutions/jts/algorithm/LineIntersector.h"
#include "com/vividsolutions/jts/algorithm/NotRepresentableException.h"
#include "com/vividsolutions/jts/algorithm/RobustLineIntersector.h"
#include "com/vividsolutions/jts/geom/Coordinate.h"
#include "com/vividsolutions/jts/geom/Envelope.h"
#include "com/vividsolutions/jts/geom/PrecisionModel.h"
#include "java/lang/Math.h"

@interface ComVividsolutionsJtsAlgorithmRobustLineIntersector ()

- (jint)computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2;

- (ComVividsolutionsJtsGeomCoordinate *)intersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2;

- (ComVividsolutionsJtsGeomCoordinate *)intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2;

- (ComVividsolutionsJtsGeomCoordinate *)safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2;

- (void)normalizeToMinimumWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n1
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n2
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n3
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n4
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)normPt;

- (void)normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n00
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n01
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n10
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n11
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)normPt;

- (jdouble)smallestInAbsValueWithDouble:(jdouble)x1
                             withDouble:(jdouble)x2
                             withDouble:(jdouble)x3
                             withDouble:(jdouble)x4;

- (jboolean)isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)intPt;

@end

__attribute__((unused)) static jint ComVividsolutionsJtsAlgorithmRobustLineIntersector_computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2);

__attribute__((unused)) static ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2);

__attribute__((unused)) static ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2);

__attribute__((unused)) static ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2);

__attribute__((unused)) static void ComVividsolutionsJtsAlgorithmRobustLineIntersector_normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *n00, ComVividsolutionsJtsGeomCoordinate *n01, ComVividsolutionsJtsGeomCoordinate *n10, ComVividsolutionsJtsGeomCoordinate *n11, ComVividsolutionsJtsGeomCoordinate *normPt);

__attribute__((unused)) static jdouble ComVividsolutionsJtsAlgorithmRobustLineIntersector_smallestInAbsValueWithDouble_withDouble_withDouble_withDouble_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, jdouble x1, jdouble x2, jdouble x3, jdouble x4);

__attribute__((unused)) static jboolean ComVividsolutionsJtsAlgorithmRobustLineIntersector_isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *intPt);

@implementation ComVividsolutionsJtsAlgorithmRobustLineIntersector

- (instancetype)init {
  ComVividsolutionsJtsAlgorithmRobustLineIntersector_init(self);
  return self;
}

- (void)computeIntersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p
                           withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                           withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2 {
  isProper__ = NO;
  if (ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, p)) {
    if ((ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, p) == 0) && (ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p2, p1, p) == 0)) {
      isProper__ = YES;
      if ([((ComVividsolutionsJtsGeomCoordinate *) nil_chk(p)) isEqual:p1] || [p isEqual:p2]) {
        isProper__ = NO;
      }
      result_ = ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT;
      return;
    }
  }
  result_ = ComVividsolutionsJtsAlgorithmLineIntersector_DONT_INTERSECT;
}

- (jint)computeIntersectWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                        withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                        withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                        withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2 {
  isProper__ = NO;
  if (!ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1, q2)) return ComVividsolutionsJtsAlgorithmLineIntersector_DONT_INTERSECT;
  jint Pq1 = ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1);
  jint Pq2 = ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q2);
  if ((Pq1 > 0 && Pq2 > 0) || (Pq1 < 0 && Pq2 < 0)) {
    return ComVividsolutionsJtsAlgorithmLineIntersector_DONT_INTERSECT;
  }
  jint Qp1 = ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(q1, q2, p1);
  jint Qp2 = ComVividsolutionsJtsAlgorithmCGAlgorithms_orientationIndexWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(q1, q2, p2);
  if ((Qp1 > 0 && Qp2 > 0) || (Qp1 < 0 && Qp2 < 0)) {
    return ComVividsolutionsJtsAlgorithmLineIntersector_DONT_INTERSECT;
  }
  jboolean collinear = Pq1 == 0 && Pq2 == 0 && Qp1 == 0 && Qp2 == 0;
  if (collinear) {
    return ComVividsolutionsJtsAlgorithmRobustLineIntersector_computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
  }
  if (Pq1 == 0 || Pq2 == 0 || Qp1 == 0 || Qp2 == 0) {
    isProper__ = NO;
    if ([((ComVividsolutionsJtsGeomCoordinate *) nil_chk(p1)) equals2DWithComVividsolutionsJtsGeomCoordinate:q1] || [p1 equals2DWithComVividsolutionsJtsGeomCoordinate:q2]) {
      IOSObjectArray_Set(nil_chk(intPt_), 0, p1);
    }
    else if ([((ComVividsolutionsJtsGeomCoordinate *) nil_chk(p2)) equals2DWithComVividsolutionsJtsGeomCoordinate:q1] || [p2 equals2DWithComVividsolutionsJtsGeomCoordinate:q2]) {
      IOSObjectArray_Set(nil_chk(intPt_), 0, p2);
    }
    else if (Pq1 == 0) {
      IOSObjectArray_SetAndConsume(nil_chk(intPt_), 0, new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(q1));
    }
    else if (Pq2 == 0) {
      IOSObjectArray_SetAndConsume(nil_chk(intPt_), 0, new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(q2));
    }
    else if (Qp1 == 0) {
      IOSObjectArray_SetAndConsume(nil_chk(intPt_), 0, new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(p1));
    }
    else if (Qp2 == 0) {
      IOSObjectArray_SetAndConsume(nil_chk(intPt_), 0, new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(p2));
    }
  }
  else {
    isProper__ = YES;
    IOSObjectArray_Set(nil_chk(intPt_), 0, ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2));
  }
  return ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT;
}

- (jint)computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2 {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
}

- (ComVividsolutionsJtsGeomCoordinate *)intersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                    withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2 {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
}

- (ComVividsolutionsJtsGeomCoordinate *)intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                                     withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2 {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
}

- (ComVividsolutionsJtsGeomCoordinate *)safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p1
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)p2
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q1
                                                                   withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)q2 {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
}

- (void)normalizeToMinimumWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n1
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n2
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n3
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n4
                          withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)normPt {
  ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(normPt))->x_ = ComVividsolutionsJtsAlgorithmRobustLineIntersector_smallestInAbsValueWithDouble_withDouble_withDouble_withDouble_(self, ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n1))->x_, ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n2))->x_, ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n3))->x_, ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n4))->x_);
  normPt->y_ = ComVividsolutionsJtsAlgorithmRobustLineIntersector_smallestInAbsValueWithDouble_withDouble_withDouble_withDouble_(self, n1->y_, n2->y_, n3->y_, n4->y_);
  n1->x_ -= normPt->x_;
  n1->y_ -= normPt->y_;
  n2->x_ -= normPt->x_;
  n2->y_ -= normPt->y_;
  n3->x_ -= normPt->x_;
  n3->y_ -= normPt->y_;
  n4->x_ -= normPt->x_;
  n4->y_ -= normPt->y_;
}

- (void)normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n00
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n01
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n10
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)n11
                            withComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)normPt {
  ComVividsolutionsJtsAlgorithmRobustLineIntersector_normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, n00, n01, n10, n11, normPt);
}

- (jdouble)smallestInAbsValueWithDouble:(jdouble)x1
                             withDouble:(jdouble)x2
                             withDouble:(jdouble)x3
                             withDouble:(jdouble)x4 {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_smallestInAbsValueWithDouble_withDouble_withDouble_withDouble_(self, x1, x2, x3, x4);
}

- (jboolean)isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate:(ComVividsolutionsJtsGeomCoordinate *)intPt {
  return ComVividsolutionsJtsAlgorithmRobustLineIntersector_isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate_(self, intPt);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "RobustLineIntersector", NULL, 0x1, NULL, NULL },
    { "computeIntersectionWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "computeIntersection", "V", 0x1, NULL, NULL },
    { "computeIntersectWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "computeIntersect", "I", 0x4, NULL, NULL },
    { "computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "computeCollinearIntersection", "I", 0x2, NULL, NULL },
    { "intersectionWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "intersection", "Lcom.vividsolutions.jts.geom.Coordinate;", 0x2, NULL, NULL },
    { "intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "intersectionWithNormalization", "Lcom.vividsolutions.jts.geom.Coordinate;", 0x2, NULL, NULL },
    { "safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "safeHCoordinateIntersection", "Lcom.vividsolutions.jts.geom.Coordinate;", 0x2, NULL, NULL },
    { "normalizeToMinimumWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "normalizeToMinimum", "V", 0x2, NULL, NULL },
    { "normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:withComVividsolutionsJtsGeomCoordinate:", "normalizeToEnvCentre", "V", 0x2, NULL, NULL },
    { "smallestInAbsValueWithDouble:withDouble:withDouble:withDouble:", "smallestInAbsValue", "D", 0x2, NULL, NULL },
    { "isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate:", "isInSegmentEnvelopes", "Z", 0x2, NULL, NULL },
  };
  static const J2ObjcClassInfo _ComVividsolutionsJtsAlgorithmRobustLineIntersector = { 2, "RobustLineIntersector", "com.vividsolutions.jts.algorithm", NULL, 0x1, 11, methods, 0, NULL, 0, NULL, 0, NULL, NULL, NULL };
  return &_ComVividsolutionsJtsAlgorithmRobustLineIntersector;
}

@end

void ComVividsolutionsJtsAlgorithmRobustLineIntersector_init(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self) {
  ComVividsolutionsJtsAlgorithmLineIntersector_init(self);
}

ComVividsolutionsJtsAlgorithmRobustLineIntersector *new_ComVividsolutionsJtsAlgorithmRobustLineIntersector_init() {
  ComVividsolutionsJtsAlgorithmRobustLineIntersector *self = [ComVividsolutionsJtsAlgorithmRobustLineIntersector alloc];
  ComVividsolutionsJtsAlgorithmRobustLineIntersector_init(self);
  return self;
}

jint ComVividsolutionsJtsAlgorithmRobustLineIntersector_computeCollinearIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2) {
  jboolean p1q1p2 = ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1);
  jboolean p1q2p2 = ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q2);
  jboolean q1p1q2 = ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(q1, q2, p1);
  jboolean q1p2q2 = ComVividsolutionsJtsGeomEnvelope_intersectsWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(q1, q2, p2);
  if (p1q1p2 && p1q2p2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, q1);
    IOSObjectArray_Set(self->intPt_, 1, q2);
    return ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  if (q1p1q2 && q1p2q2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, p1);
    IOSObjectArray_Set(self->intPt_, 1, p2);
    return ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  if (p1q1p2 && q1p1q2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, q1);
    IOSObjectArray_Set(self->intPt_, 1, p1);
    return [((ComVividsolutionsJtsGeomCoordinate *) nil_chk(q1)) isEqual:p1] && !p1q2p2 && !q1p2q2 ? ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT : ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  if (p1q1p2 && q1p2q2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, q1);
    IOSObjectArray_Set(self->intPt_, 1, p2);
    return [((ComVividsolutionsJtsGeomCoordinate *) nil_chk(q1)) isEqual:p2] && !p1q2p2 && !q1p1q2 ? ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT : ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  if (p1q2p2 && q1p1q2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, q2);
    IOSObjectArray_Set(self->intPt_, 1, p1);
    return [((ComVividsolutionsJtsGeomCoordinate *) nil_chk(q2)) isEqual:p1] && !p1q1p2 && !q1p2q2 ? ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT : ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  if (p1q2p2 && q1p2q2) {
    IOSObjectArray_Set(nil_chk(self->intPt_), 0, q2);
    IOSObjectArray_Set(self->intPt_, 1, p2);
    return [((ComVividsolutionsJtsGeomCoordinate *) nil_chk(q2)) isEqual:p2] && !p1q1p2 && !q1p1q2 ? ComVividsolutionsJtsAlgorithmLineIntersector_DO_INTERSECT : ComVividsolutionsJtsAlgorithmLineIntersector_COLLINEAR;
  }
  return ComVividsolutionsJtsAlgorithmLineIntersector_DONT_INTERSECT;
}

ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2) {
  ComVividsolutionsJtsGeomCoordinate *intPt = ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, p1, p2, q1, q2);
  if (!ComVividsolutionsJtsAlgorithmRobustLineIntersector_isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate_(self, intPt)) {
    intPt = ComVividsolutionsJtsAlgorithmCentralEndpointIntersector_getIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1, q2);
  }
  if (self->precisionModel_ != nil) {
    [self->precisionModel_ makePreciseWithComVividsolutionsJtsGeomCoordinate:intPt];
  }
  return intPt;
}

ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_intersectionWithNormalizationWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2) {
  ComVividsolutionsJtsGeomCoordinate *n1 = [new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(p1) autorelease];
  ComVividsolutionsJtsGeomCoordinate *n2 = [new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(p2) autorelease];
  ComVividsolutionsJtsGeomCoordinate *n3 = [new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(q1) autorelease];
  ComVividsolutionsJtsGeomCoordinate *n4 = [new_ComVividsolutionsJtsGeomCoordinate_initWithComVividsolutionsJtsGeomCoordinate_(q2) autorelease];
  ComVividsolutionsJtsGeomCoordinate *normPt = [new_ComVividsolutionsJtsGeomCoordinate_init() autorelease];
  ComVividsolutionsJtsAlgorithmRobustLineIntersector_normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, n1, n2, n3, n4, normPt);
  ComVividsolutionsJtsGeomCoordinate *intPt = ComVividsolutionsJtsAlgorithmRobustLineIntersector_safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(self, n1, n2, n3, n4);
  ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(intPt))->x_ += normPt->x_;
  intPt->y_ += normPt->y_;
  return intPt;
}

ComVividsolutionsJtsGeomCoordinate *ComVividsolutionsJtsAlgorithmRobustLineIntersector_safeHCoordinateIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *p1, ComVividsolutionsJtsGeomCoordinate *p2, ComVividsolutionsJtsGeomCoordinate *q1, ComVividsolutionsJtsGeomCoordinate *q2) {
  ComVividsolutionsJtsGeomCoordinate *intPt = nil;
  @try {
    intPt = ComVividsolutionsJtsAlgorithmHCoordinate_intersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1, q2);
  }
  @catch (ComVividsolutionsJtsAlgorithmNotRepresentableException *e) {
    intPt = ComVividsolutionsJtsAlgorithmCentralEndpointIntersector_getIntersectionWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(p1, p2, q1, q2);
  }
  return intPt;
}

void ComVividsolutionsJtsAlgorithmRobustLineIntersector_normalizeToEnvCentreWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *n00, ComVividsolutionsJtsGeomCoordinate *n01, ComVividsolutionsJtsGeomCoordinate *n10, ComVividsolutionsJtsGeomCoordinate *n11, ComVividsolutionsJtsGeomCoordinate *normPt) {
  jdouble minX0 = ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n00))->x_ < ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n01))->x_ ? n00->x_ : n01->x_;
  jdouble minY0 = n00->y_ < n01->y_ ? n00->y_ : n01->y_;
  jdouble maxX0 = n00->x_ > n01->x_ ? n00->x_ : n01->x_;
  jdouble maxY0 = n00->y_ > n01->y_ ? n00->y_ : n01->y_;
  jdouble minX1 = ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n10))->x_ < ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(n11))->x_ ? n10->x_ : n11->x_;
  jdouble minY1 = n10->y_ < n11->y_ ? n10->y_ : n11->y_;
  jdouble maxX1 = n10->x_ > n11->x_ ? n10->x_ : n11->x_;
  jdouble maxY1 = n10->y_ > n11->y_ ? n10->y_ : n11->y_;
  jdouble intMinX = minX0 > minX1 ? minX0 : minX1;
  jdouble intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;
  jdouble intMinY = minY0 > minY1 ? minY0 : minY1;
  jdouble intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;
  jdouble intMidX = (intMinX + intMaxX) / 2.0;
  jdouble intMidY = (intMinY + intMaxY) / 2.0;
  ((ComVividsolutionsJtsGeomCoordinate *) nil_chk(normPt))->x_ = intMidX;
  normPt->y_ = intMidY;
  n00->x_ -= normPt->x_;
  n00->y_ -= normPt->y_;
  n01->x_ -= normPt->x_;
  n01->y_ -= normPt->y_;
  n10->x_ -= normPt->x_;
  n10->y_ -= normPt->y_;
  n11->x_ -= normPt->x_;
  n11->y_ -= normPt->y_;
}

jdouble ComVividsolutionsJtsAlgorithmRobustLineIntersector_smallestInAbsValueWithDouble_withDouble_withDouble_withDouble_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, jdouble x1, jdouble x2, jdouble x3, jdouble x4) {
  jdouble x = x1;
  jdouble xabs = JavaLangMath_absWithDouble_(x);
  if (JavaLangMath_absWithDouble_(x2) < xabs) {
    x = x2;
    xabs = JavaLangMath_absWithDouble_(x2);
  }
  if (JavaLangMath_absWithDouble_(x3) < xabs) {
    x = x3;
    xabs = JavaLangMath_absWithDouble_(x3);
  }
  if (JavaLangMath_absWithDouble_(x4) < xabs) {
    x = x4;
  }
  return x;
}

jboolean ComVividsolutionsJtsAlgorithmRobustLineIntersector_isInSegmentEnvelopesWithComVividsolutionsJtsGeomCoordinate_(ComVividsolutionsJtsAlgorithmRobustLineIntersector *self, ComVividsolutionsJtsGeomCoordinate *intPt) {
  ComVividsolutionsJtsGeomEnvelope *env0 = [new_ComVividsolutionsJtsGeomEnvelope_initWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(self->inputLines_), 0)), 0), IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(self->inputLines_, 0)), 1)) autorelease];
  ComVividsolutionsJtsGeomEnvelope *env1 = [new_ComVividsolutionsJtsGeomEnvelope_initWithComVividsolutionsJtsGeomCoordinate_withComVividsolutionsJtsGeomCoordinate_(IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(self->inputLines_, 1)), 0), IOSObjectArray_Get(nil_chk(IOSObjectArray_Get(self->inputLines_, 1)), 1)) autorelease];
  return [env0 containsWithComVividsolutionsJtsGeomCoordinate:intPt] && [env1 containsWithComVividsolutionsJtsGeomCoordinate:intPt];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComVividsolutionsJtsAlgorithmRobustLineIntersector)

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/geogebra3D/euclidian3D/openGL/PlotterBrush.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "geogebra/common/awt/GColor.h"
#include "geogebra/common/euclidian/plot/CurvePlotter.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/Manager.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/PlotterBrush.h"
#include "geogebra/common/geogebra3D/euclidian3D/openGL/PlotterBrushSection.h"
#include "geogebra/common/kernel/Kernel.h"
#include "geogebra/common/kernel/Matrix/Coords.h"
#include "geogebra/common/kernel/MyPoint.h"
#include "geogebra/common/kernel/geos/GeoCurveCartesian3DInterface.h"
#include "java/lang/Enum.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"

#define GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_ID 1
#define GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE 2
#define GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR 3
#define GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR 0.05f
#define GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES 8

@interface GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush () {
 @public
  GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager_;
  jint index_;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *start__, *end__;
  jboolean justStarted_;
  jboolean notStarted_;
  jfloat thickness_;
  jint lineThickness_;
  jfloat scale__;
  jfloat length_;
  jfloat red_, green_, blue_, alpha_;
  jboolean hasColor_;
  jfloat texturePosZero_, textureValZero_;
  IOSFloatArray *textureX_;
  jint textureTypeX_;
  jint textureTypeY_;
  jfloat curvePos_;
  jint arrowType_;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *ticks_;
  jfloat ticksDistance_;
  jfloat ticksOffset_;
  GeogebraCommonKernelMatrixCoords *drawNormal_, *drawPos_;
  GeogebraCommonKernelMatrixCoords *m_, *vn1_;
  GeogebraCommonKernelMatrixCoords *tmpCoords_, *tmpCoords2_, *tmpCoords3_, *tmpCoords4_;
  GeogebraCommonKernelMatrixCoords *f1_, *f2_, *vn2_;
}

- (void)downWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point
            withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockU
            withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockV;

- (void)moveToWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockU
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockV;

- (void)drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *)s
                                                                  withDouble:(jdouble)u
                                                                  withDouble:(jdouble)v
                                                                     withInt:(jint)texture;

- (void)vertexWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v;

- (void)setTextureTypeWithInt:(jint)type;

- (void)setTextureXWithFloat:(jfloat)x0
                   withFloat:(jfloat)x1;

- (void)setTextureXWithFloat:(jfloat)x;

@end

J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, manager_, GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, start__, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, end__, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, textureX_, IOSFloatArray *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, ticks_, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, drawNormal_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, drawPos_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, m_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, vn1_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, tmpCoords_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, tmpCoords2_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, tmpCoords3_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, tmpCoords4_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, f1_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, f2_, GeogebraCommonKernelMatrixCoords *)
J2OBJC_FIELD_SETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, vn2_, GeogebraCommonKernelMatrixCoords *)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, TEXTURE_ID, jint)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, TEXTURE_AFFINE, jint)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, TEXTURE_LINEAR, jint)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, TEXTURE_AFFINE_FACTOR, jfloat)

static jfloat GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_LENGTH_ = 3.0f;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, ARROW_LENGTH_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, ARROW_LENGTH_, jfloat)

static jfloat GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_WIDTH_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, ARROW_WIDTH_, jfloat)
J2OBJC_STATIC_FIELD_REF_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, ARROW_WIDTH_, jfloat)

J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, LATITUDES, jint)

static IOSDoubleArray *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_COSINUS_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, COSINUS_, IOSDoubleArray *)

static IOSDoubleArray *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_SINUS_;
J2OBJC_STATIC_FIELD_GETTER(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush, SINUS_, IOSDoubleArray *)

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *point, GeogebraCommonKernelMatrixCoords *clockU, GeogebraCommonKernelMatrixCoords *clockV);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *point, GeogebraCommonKernelMatrixCoords *clockU, GeogebraCommonKernelMatrixCoords *clockV);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_withDouble_withDouble_withInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *s, jdouble u, jdouble v, jint texture);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_vertexWithGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *v);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jint type);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jfloat x0, jfloat x1);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jfloat x);

__attribute__((unused)) static void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *self, NSString *__name, jint __ordinal);

__attribute__((unused)) static GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) NS_RETURNS_RETAINED;

J2OBJC_INITIALIZED_DEFN(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush)

@implementation GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush

- (instancetype)initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager:(GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *)manager {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(self, manager);
  return self;
}

- (void)startWithInt:(jint)old {
  index_ = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) startNewListWithInt:old];
  hasColor_ = NO;
  notStarted_ = YES;
}

- (jint)end {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) endList];
  return index_;
}

- (void)downWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(start__)) setWithGeogebraCommonKernelMatrixCoords:point withFloat:thickness_];
  justStarted_ = YES;
  notStarted_ = NO;
}

- (void)downWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point
            withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockU
            withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockV {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, point, clockU, clockV);
}

- (void)moveToWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point {
  if (justStarted_) {
    [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(end__)) setWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:start__ withGeogebraCommonKernelMatrixCoords:point withFloat:thickness_ withBoolean:YES];
    justStarted_ = NO;
  }
  else {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *tmp = start__;
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_start__(self, end__);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_end__(self, tmp);
    [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(end__)) setWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:start__ withGeogebraCommonKernelMatrixCoords:point withFloat:thickness_ withBoolean:NO];
  }
  [self join];
}

- (void)curveToWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point {
  if (notStarted_) {
    notStarted_ = NO;
    [self setCurvePosWithFloat:0];
    [self downWithGeogebraCommonKernelMatrixCoords:point];
    return;
  }
  if ([((GeogebraCommonKernelMatrixCoords *) nil_chk(point)) equalsForKernelWithGeogebraCommonKernelMatrixCoords:((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(start__))->center_ withDouble:GeogebraCommonKernelKernel_STANDARD_PRECISION]) {
    return;
  }
  if (justStarted_) {
    justStarted_ = NO;
  }
  else {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *tmp = start__;
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_start__(self, end__);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_end__(self, tmp);
  }
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(end__)) setWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:start__ withGeogebraCommonKernelMatrixCoords:point withFloat:thickness_];
  [self addCurvePosWithFloat:(jfloat) end__->length_];
  [self join];
}

- (void)moveToWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)point
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockU
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)clockV {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, point, clockU, clockV);
}

- (void)join {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) startGeometryWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum:GeogebraCommonGeogebra3DEuclidian3DOpenGLManager_TypeEnum_get_TRIANGLE_STRIP()];
  jdouble u, v;
  for (jint i = 0; i <= GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES; i++) {
    u = IOSDoubleArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_SINUS_), i);
    v = IOSDoubleArray_Get(nil_chk(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_COSINUS_), i);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_withDouble_withDouble_withInt_(self, start__, u, v, 0);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_withDouble_withDouble_withInt_(self, end__, u, v, 1);
  }
  [manager_ endGeometry];
}

- (void)drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *)s
                                                                  withDouble:(jdouble)u
                                                                  withDouble:(jdouble)v
                                                                     withInt:(jint)texture {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_withDouble_withDouble_withInt_(self, s, u, v, texture);
}

- (void)vertexWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_vertexWithGeogebraCommonKernelMatrixCoords_(self, v);
}

- (void)segmentWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)p1
               withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)p2 {
  length_ = (jfloat) [((GeogebraCommonKernelMatrixCoords *) nil_chk(p1)) distanceWithGeogebraCommonKernelMatrixCoords:p2];
  if (GeogebraCommonKernelKernel_isEqualWithDouble_withDouble_withDouble_(length_, 0, GeogebraCommonKernelKernel_STANDARD_PRECISION)) return;
  [self downWithGeogebraCommonKernelMatrixCoords:p1];
  jfloat factor, arrowPos;
  GeogebraCommonKernelMatrixCoords *arrowBase;
  switch (arrowType_) {
    case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_NONE:
    default:
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(self, 0, 1);
    [self moveToWithGeogebraCommonKernelMatrixCoords:p2];
    break;
    case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_SIMPLE:
    factor = (12 + lineThickness_) * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LINE3D_THICKNESS / scale__;
    arrowPos = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_LENGTH_ / length_ * factor;
    arrowBase = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(start__)) getCenter])) mulWithDouble:arrowPos])) addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(p2)) mulWithDouble:1 - arrowPos]];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, 0);
    if (ticksDistance_ > 0) {
      {
        GeogebraCommonKernelMatrixCoords *d;
        jfloat thickness;
        jfloat i;
        jfloat ticksDelta;
        jfloat ticksThickness;
        jfloat ticksMinorThickness;
        jboolean minor;
        switch ([ticks_ ordinal]) {
          case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_Ticks_MAJOR:
          default:
          d = [((GeogebraCommonKernelMatrixCoords *) nil_chk([p2 subWithGeogebraCommonKernelMatrixCoords:p1])) normalized];
          thickness = self->thickness_;
          i = ticksOffset_ * length_ - (J2ObjCFpToInt((ticksOffset_ * length_ / ticksDistance_))) * ticksDistance_;
          ticksDelta = thickness;
          ticksThickness = 4 * thickness;
          if (i <= ticksDelta) i += ticksDistance_;
          for (; i <= length_ * (1 - arrowPos); i += ticksDistance_) {
            GeogebraCommonKernelMatrixCoords *p1b = [p1 addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(d)) mulWithDouble:i - ticksDelta]];
            GeogebraCommonKernelMatrixCoords *p2b = [p1 addWithGeogebraCommonKernelMatrixCoords:[d mulWithDouble:i + ticksDelta]];
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE);
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, i / length_);
            [self moveToWithGeogebraCommonKernelMatrixCoords:p1b];
            [self setThicknessWithFloat:ticksThickness];
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0);
            [self moveToWithGeogebraCommonKernelMatrixCoords:p1b];
            [self moveToWithGeogebraCommonKernelMatrixCoords:p2b];
            [self setThicknessWithFloat:thickness];
            [self moveToWithGeogebraCommonKernelMatrixCoords:p2b];
          }
          break;
          case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_Ticks_MAJOR_AND_MINOR:
          d = [((GeogebraCommonKernelMatrixCoords *) nil_chk([p2 subWithGeogebraCommonKernelMatrixCoords:p1])) normalized];
          thickness = self->thickness_;
          i = ticksOffset_ * length_ - (J2ObjCFpToInt((ticksOffset_ * length_ / ticksDistance_))) * ticksDistance_;
          ticksDelta = thickness;
          ticksThickness = 4 * thickness;
          ticksMinorThickness = 2.5f * thickness;
          minor = NO;
          if (i > ticksDistance_ / 2 + ticksDelta) {
            minor = YES;
            i -= ticksDistance_ / 2;
          }
          else if (i <= ticksDelta) {
            i += ticksDistance_ / 2;
            minor = YES;
          }
          for (; i <= length_ * (1 - arrowPos); i += ticksDistance_ / 2) {
            GeogebraCommonKernelMatrixCoords *p1b = [p1 addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(d)) mulWithDouble:i - ticksDelta]];
            GeogebraCommonKernelMatrixCoords *p2b = [p1 addWithGeogebraCommonKernelMatrixCoords:[d mulWithDouble:i + ticksDelta]];
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE);
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, i / length_);
            [self moveToWithGeogebraCommonKernelMatrixCoords:p1b];
            if (minor) {
              [self setThicknessWithFloat:ticksMinorThickness];
            }
            else {
              [self setThicknessWithFloat:ticksThickness];
            }
            GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0);
            [self moveToWithGeogebraCommonKernelMatrixCoords:p1b];
            [self moveToWithGeogebraCommonKernelMatrixCoords:p2b];
            [self setThicknessWithFloat:thickness];
            [self moveToWithGeogebraCommonKernelMatrixCoords:p2b];
            minor = !minor;
          }
          break;
          case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_Ticks_NONE:
          break;
        }
      }
    }
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, 1 - arrowPos);
    [self moveToWithGeogebraCommonKernelMatrixCoords:arrowBase];
    textureTypeX_ = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_ID;
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(self, 0, 0);
    [self setThicknessWithFloat:factor * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_WIDTH_];
    [self moveToWithGeogebraCommonKernelMatrixCoords:arrowBase];
    [self setThicknessWithFloat:0];
    [self moveToWithGeogebraCommonKernelMatrixCoords:p2];
    break;
  }
  if (arrowType_ == GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_CLOSED) {
    [self setThicknessWithFloat:0];
    [self moveToWithGeogebraCommonKernelMatrixCoords:p2];
  }
}

- (void)circleWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)center
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v1
              withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v2
                                        withDouble:(jdouble)radius
                                           withInt:(jint)longitude {
  [self arcWithGeogebraCommonKernelMatrixCoords:center withGeogebraCommonKernelMatrixCoords:v1 withGeogebraCommonKernelMatrixCoords:v2 withDouble:radius withDouble:0 withDouble:2 * JavaLangMath_PI withInt:longitude];
}

- (jint)calcArcLongitudesNeededWithDouble:(jdouble)radius
                               withDouble:(jdouble)halfExtent
                               withDouble:(jdouble)viewScale {
  jint longitude;
  jdouble size = radius * halfExtent * viewScale;
  if (size > 262144) {
    longitude = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) getLongitudeMax];
  }
  else {
    longitude = 8;
    while (longitude * longitude <= 4 * size && longitude < [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) getLongitudeMax]) {
      longitude *= 2;
    }
  }
  return longitude;
}

- (void)arcWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)center
           withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v1
           withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v2
                                     withDouble:(jdouble)radius
                                     withDouble:(jdouble)start
                                     withDouble:(jdouble)extent
                                        withInt:(jint)longitude {
  length_ = (jfloat) (extent * radius);
  GeogebraCommonKernelMatrixCoords *vn1;
  GeogebraCommonKernelMatrixCoords *vn2 = [((GeogebraCommonKernelMatrixCoords *) nil_chk(v2)) crossProductWithGeogebraCommonKernelMatrixCoords:v1];
  jfloat dt = (jfloat) 1 / longitude;
  jfloat da = (jfloat) (extent * dt);
  jfloat u, v;
  u = (jfloat) JavaLangMath_cosWithDouble_(start);
  v = (jfloat) JavaLangMath_sinWithDouble_(start);
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(self, 0, 0);
  vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(v1)) mulWithDouble:u])) addWithGeogebraCommonKernelMatrixCoords:[v2 mulWithDouble:v]];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(vn1)) mulWithDouble:radius]], vn1, vn2);
  for (jint i = 1; i <= longitude; i++) {
    u = (jfloat) JavaLangMath_cosWithDouble_(start + i * da);
    v = (jfloat) JavaLangMath_sinWithDouble_(start + i * da);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, i * dt);
    vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([v1 mulWithDouble:u])) addWithGeogebraCommonKernelMatrixCoords:[v2 mulWithDouble:v]];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [center addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(vn1)) mulWithDouble:radius]], vn1, vn2);
  }
}

- (void)arcEllipseWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)center
                  withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v1
                  withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v2
                                            withDouble:(jdouble)a
                                            withDouble:(jdouble)b
                                            withDouble:(jdouble)start
                                            withDouble:(jdouble)extent {
  length_ = 1;
  [self setCurvePosWithFloat:0];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR);
  jdouble f = JavaLangMath_sqrtWithDouble_(a * a - b * b);
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(f1_)) setMulWithGeogebraCommonKernelMatrixCoords:v1 withDouble:f];
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(f2_)) setMulWithGeogebraCommonKernelMatrixCoords:v1 withDouble:-f];
  jint longitude = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) getLongitudeDefault];
  [((GeogebraCommonKernelMatrixCoords *) nil_chk(vn2_)) setCrossProductWithGeogebraCommonKernelMatrixCoords:v2 withGeogebraCommonKernelMatrixCoords:v1];
  jfloat dt = (jfloat) 1 / longitude;
  jfloat da = (jfloat) (extent * dt);
  jfloat u, v;
  u = (jfloat) JavaLangMath_cosWithDouble_(start);
  v = (jfloat) JavaLangMath_sinWithDouble_(start);
  [m_ setAddWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(m_)) setMulWithGeogebraCommonKernelMatrixCoords:v1 withDouble:a * u] withGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(tmpCoords_)) setMulWithGeogebraCommonKernelMatrixCoords:v2 withDouble:b * v]];
  [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(vn1_)) setAddWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(tmpCoords3_)) setSubWithGeogebraCommonKernelMatrixCoords:m_ withGeogebraCommonKernelMatrixCoords:f1_])) normalize] withGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(tmpCoords4_)) setSubWithGeogebraCommonKernelMatrixCoords:m_ withGeogebraCommonKernelMatrixCoords:f2_])) normalize]])) normalize];
  [tmpCoords_ setAddWithGeogebraCommonKernelMatrixCoords:center withGeogebraCommonKernelMatrixCoords:m_];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, tmpCoords_, vn1_, vn2_);
  for (jint i = 1; i <= longitude; i++) {
    u = (jfloat) JavaLangMath_cosWithDouble_(start + i * da);
    v = (jfloat) JavaLangMath_sinWithDouble_(start + i * da);
    [((GeogebraCommonKernelMatrixCoords *) nil_chk(tmpCoords2_)) setWithGeogebraCommonKernelMatrixCoords:m_];
    [m_ setAddWithGeogebraCommonKernelMatrixCoords:[m_ setMulWithGeogebraCommonKernelMatrixCoords:v1 withDouble:a * u] withGeogebraCommonKernelMatrixCoords:[tmpCoords_ setMulWithGeogebraCommonKernelMatrixCoords:v2 withDouble:b * v]];
    [self addCurvePosWithFloat:(jfloat) [((GeogebraCommonKernelMatrixCoords *) nil_chk([tmpCoords2_ setSubWithGeogebraCommonKernelMatrixCoords:m_ withGeogebraCommonKernelMatrixCoords:tmpCoords2_])) norm]];
    [((GeogebraCommonKernelMatrixCoords *) nil_chk([vn1_ setAddWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk([tmpCoords3_ setSubWithGeogebraCommonKernelMatrixCoords:m_ withGeogebraCommonKernelMatrixCoords:f1_])) normalize] withGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk([tmpCoords4_ setSubWithGeogebraCommonKernelMatrixCoords:m_ withGeogebraCommonKernelMatrixCoords:f2_])) normalize]])) normalize];
    [tmpCoords_ setAddWithGeogebraCommonKernelMatrixCoords:center withGeogebraCommonKernelMatrixCoords:m_];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, tmpCoords_, vn1_, vn2_);
  }
}

- (void)hyperbolaBranchWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)center
                       withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v1
                       withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v2
                                                 withDouble:(jdouble)a
                                                 withDouble:(jdouble)b
                                                 withDouble:(jdouble)tMin
                                                 withDouble:(jdouble)tMax {
  jdouble f = JavaLangMath_sqrtWithDouble_(a * a + b * b);
  GeogebraCommonKernelMatrixCoords *f1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk(v1)) mulWithDouble:f];
  GeogebraCommonKernelMatrixCoords *f2 = [v1 mulWithDouble:-f];
  length_ = 1;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR);
  [self setCurvePosWithFloat:0.75f / (GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR * scale__)];
  jint longitude = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) getLongitudeDefault];
  GeogebraCommonKernelMatrixCoords *m, *mold, *vn1;
  GeogebraCommonKernelMatrixCoords *vn2 = [v1 crossProductWithGeogebraCommonKernelMatrixCoords:v2];
  jfloat dt = (jfloat) (tMax - tMin) / longitude;
  jfloat u, v;
  u = (jfloat) JavaLangMath_coshWithDouble_(tMin);
  v = (jfloat) JavaLangMath_sinhWithDouble_(tMin);
  m = [((GeogebraCommonKernelMatrixCoords *) nil_chk([v1 mulWithDouble:a * u])) addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(v2)) mulWithDouble:b * v]];
  vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(([((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(m)) subWithGeogebraCommonKernelMatrixCoords:f1])) normalized]))) subWithGeogebraCommonKernelMatrixCoords:([((GeogebraCommonKernelMatrixCoords *) nil_chk([m subWithGeogebraCommonKernelMatrixCoords:f2])) normalized])])) normalized];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:m], vn1, vn2);
  for (jint i = 1; i <= longitude; i++) {
    u = (jfloat) JavaLangMath_coshWithDouble_(tMin + i * dt);
    v = (jfloat) JavaLangMath_sinhWithDouble_(tMin + i * dt);
    mold = m;
    m = [((GeogebraCommonKernelMatrixCoords *) nil_chk([v1 mulWithDouble:a * u])) addWithGeogebraCommonKernelMatrixCoords:[v2 mulWithDouble:b * v]];
    [self addCurvePosWithFloat:(jfloat) [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(m)) subWithGeogebraCommonKernelMatrixCoords:mold])) norm]];
    vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(([((GeogebraCommonKernelMatrixCoords *) nil_chk([m subWithGeogebraCommonKernelMatrixCoords:f1])) normalized]))) subWithGeogebraCommonKernelMatrixCoords:([((GeogebraCommonKernelMatrixCoords *) nil_chk([m subWithGeogebraCommonKernelMatrixCoords:f2])) normalized])])) normalized];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [center addWithGeogebraCommonKernelMatrixCoords:m], vn1, vn2);
  }
}

- (void)parabolaWithGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)center
                withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v1
                withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)v2
                                          withDouble:(jdouble)p
                                          withDouble:(jdouble)tMin
                                          withDouble:(jdouble)tMax
                withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)p1
                withGeogebraCommonKernelMatrixCoords:(GeogebraCommonKernelMatrixCoords *)p2 {
  GeogebraCommonKernelMatrixCoords *f1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk(v1)) mulWithDouble:p / 2];
  GeogebraCommonKernelMatrixCoords *vn2 = [v1 crossProductWithGeogebraCommonKernelMatrixCoords:v2];
  jint longitude = [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(manager_)) getLongitudeDefault];
  length_ = 1;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR);
  [self setCurvePosWithFloat:0.75f / (GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR * scale__)];
  GeogebraCommonKernelMatrixCoords *m, *vn1, *mold;
  jfloat dt = (jfloat) (tMax - tMin) / longitude;
  jfloat u, v;
  jdouble t;
  t = tMin;
  u = (jfloat) (p * t * t / 2);
  v = (jfloat) (p * t);
  m = [((GeogebraCommonKernelMatrixCoords *) nil_chk([v1 mulWithDouble:u])) addWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(v2)) mulWithDouble:v]];
  vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(([((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(m)) subWithGeogebraCommonKernelMatrixCoords:f1])) normalized]))) subWithGeogebraCommonKernelMatrixCoords:v1])) normalized];
  if (p1 != nil) {
    [p1 setWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:m]];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, p1, vn1, vn2);
  }
  else {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:m], vn1, vn2);
  }
  for (jint i = 1; i <= longitude; i++) {
    t = tMin + i * dt;
    u = (jfloat) (p * t * t / 2);
    v = (jfloat) (p * t);
    mold = m;
    m = [((GeogebraCommonKernelMatrixCoords *) nil_chk([v1 mulWithDouble:u])) addWithGeogebraCommonKernelMatrixCoords:[v2 mulWithDouble:v]];
    [self addCurvePosWithFloat:(jfloat) [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(m)) subWithGeogebraCommonKernelMatrixCoords:mold])) norm]];
    vn1 = [((GeogebraCommonKernelMatrixCoords *) nil_chk([((GeogebraCommonKernelMatrixCoords *) nil_chk(([((GeogebraCommonKernelMatrixCoords *) nil_chk([m subWithGeogebraCommonKernelMatrixCoords:f1])) normalized]))) subWithGeogebraCommonKernelMatrixCoords:v1])) normalized];
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(self, [((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:m], vn1, vn2);
  }
  if (p2 != nil) {
    [p2 setWithGeogebraCommonKernelMatrixCoords:[((GeogebraCommonKernelMatrixCoords *) nil_chk(center)) addWithGeogebraCommonKernelMatrixCoords:m]];
  }
}

- (jfloat)setThicknessWithInt:(jint)thickness
                    withFloat:(jfloat)scale_ {
  self->lineThickness_ = thickness;
  self->scale__ = scale_;
  jfloat t = lineThickness_ * GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LINE3D_THICKNESS / scale_;
  [self setThicknessWithFloat:t];
  return t;
}

- (void)setThicknessWithFloat:(jfloat)thickness {
  self->thickness_ = thickness;
}

- (jfloat)getThickness {
  return thickness_;
}

- (void)setColorWithGeogebraCommonAwtGColor:(GeogebraCommonAwtGColor *)color
                                  withFloat:(jfloat)alpha {
  self->red_ = [((GeogebraCommonAwtGColor *) nil_chk(color)) getRed] / 255.0f;
  self->green_ = [color getGreen] / 255.0f;
  self->blue_ = [color getBlue] / 255.0f;
  self->alpha_ = alpha;
  hasColor_ = YES;
}

- (void)setColorWithGeogebraCommonAwtGColor:(GeogebraCommonAwtGColor *)color {
  [self setColorWithGeogebraCommonAwtGColor:color withFloat:1];
}

- (void)setCurvePosWithFloat:(jfloat)pos {
  curvePos_ = pos;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, pos);
}

- (void)addCurvePosWithFloat:(jfloat)distance {
  [self setCurvePosWithFloat:curvePos_ + distance];
}

- (void)setAffineTextureWithFloat:(jfloat)posZero
                        withFloat:(jfloat)valZero {
  texturePosZero_ = posZero;
  textureValZero_ = valZero;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE);
}

- (void)setPlainTexture {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0);
}

- (void)setTextureTypeWithInt:(jint)type {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(self, type);
}

- (void)setTextureXWithFloat:(jfloat)x0
                   withFloat:(jfloat)x1 {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(self, x0, x1);
}

- (void)setTextureXWithFloat:(jfloat)x {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(self, x);
}

- (void)setArrowTypeWithInt:(jint)arrowType {
  self->arrowType_ = arrowType;
}

- (void)setTicksWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum:(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *)ticks {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_ticks_(self, ticks);
}

- (void)setTicksDistanceWithFloat:(jfloat)distance {
  self->ticksDistance_ = distance;
}

- (void)setTicksOffsetWithFloat:(jfloat)offset {
  self->ticksOffset_ = offset;
}

- (void)drawToWithDoubleArray:(IOSDoubleArray *)pos
                  withBoolean:(jboolean)lineTo {
  GeogebraCommonKernelMatrixCoords *p = [new_GeogebraCommonKernelMatrixCoords_initWithDouble_withDouble_withDouble_withDouble_(0, 0, 0, 1) autorelease];
  [p setWithDoubleArray:pos];
  if (lineTo) {
    [self curveToWithGeogebraCommonKernelMatrixCoords:p];
  }
  else {
    [self setCurvePosWithFloat:0];
    [self downWithGeogebraCommonKernelMatrixCoords:p];
  }
}

- (void)lineToWithDoubleArray:(IOSDoubleArray *)pos {
  [self drawToWithDoubleArray:pos withBoolean:YES];
}

- (void)moveToWithDoubleArray:(IOSDoubleArray *)pos {
  [self drawToWithDoubleArray:pos withBoolean:NO];
}

- (void)corner {
}

- (void)cornerWithDoubleArray:(IOSDoubleArray *)pos {
}

- (void)firstPointWithDoubleArray:(IOSDoubleArray *)pos
withGeogebraCommonEuclidianPlotCurvePlotter_GapEnum:(GeogebraCommonEuclidianPlotCurvePlotter_GapEnum *)moveToAllowed {
  [self moveToWithDoubleArray:pos];
}

- (IOSDoubleArray *)newDoubleArray {
  return [IOSDoubleArray arrayWithLength:3];
}

- (jboolean)copyCoordsWithGeogebraCommonKernelMyPoint:(GeogebraCommonKernelMyPoint *)point
                                      withDoubleArray:(IOSDoubleArray *)ret {
  *IOSDoubleArray_GetRef(nil_chk(ret), 0) = ((GeogebraCommonKernelMyPoint *) nil_chk(point))->x_;
  *IOSDoubleArray_GetRef(ret, 1) = point->y_;
  *IOSDoubleArray_GetRef(ret, 2) = [point getZ];
  return YES;
}

- (void)setLengthWithFloat:(jfloat)length {
  self->length_ = length;
}

- (void)dealloc {
  RELEASE_(manager_);
  RELEASE_(start__);
  RELEASE_(end__);
  RELEASE_(textureX_);
  RELEASE_(ticks_);
  RELEASE_(curve_);
  RELEASE_(drawNormal_);
  RELEASE_(drawPos_);
  RELEASE_(m_);
  RELEASE_(vn1_);
  RELEASE_(tmpCoords_);
  RELEASE_(tmpCoords2_);
  RELEASE_(tmpCoords3_);
  RELEASE_(tmpCoords4_);
  RELEASE_(f1_);
  RELEASE_(f2_);
  RELEASE_(vn2_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush class]) {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_WIDTH_ = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_LENGTH_ / 4.0f;
    {
      JreStrongAssignAndConsume(&GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_COSINUS_, nil, [IOSDoubleArray newArrayWithLength:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES + 1]);
      JreStrongAssignAndConsume(&GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_SINUS_, nil, [IOSDoubleArray newArrayWithLength:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES + 1]);
      for (jint i = 0; i <= GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES; i++) {
        *IOSDoubleArray_GetRef(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_COSINUS_, i) = JavaLangMath_cosWithDouble_(2 * i * JavaLangMath_PI / GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES);
        *IOSDoubleArray_GetRef(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_SINUS_, i) = JavaLangMath_sinWithDouble_(2 * i * JavaLangMath_PI / GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES);
      }
    }
    J2OBJC_SET_INITIALIZED(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager:", "PlotterBrush", NULL, 0x1, NULL, NULL },
    { "startWithInt:", "start", "V", 0x1, NULL, NULL },
    { "end", NULL, "I", 0x1, NULL, NULL },
    { "downWithGeogebraCommonKernelMatrixCoords:", "down", "V", 0x1, NULL, NULL },
    { "downWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:", "down", "V", 0x2, NULL, NULL },
    { "moveToWithGeogebraCommonKernelMatrixCoords:", "moveTo", "V", 0x1, NULL, NULL },
    { "curveToWithGeogebraCommonKernelMatrixCoords:", "curveTo", "V", 0x1, NULL, NULL },
    { "moveToWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:", "moveTo", "V", 0x2, NULL, NULL },
    { "join", NULL, "V", 0x1, NULL, NULL },
    { "drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection:withDouble:withDouble:withInt:", "draw", "V", 0x2, NULL, NULL },
    { "vertexWithGeogebraCommonKernelMatrixCoords:", "vertex", "V", 0x2, NULL, NULL },
    { "segmentWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:", "segment", "V", 0x1, NULL, NULL },
    { "circleWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withDouble:withInt:", "circle", "V", 0x1, NULL, NULL },
    { "calcArcLongitudesNeededWithDouble:withDouble:withDouble:", "calcArcLongitudesNeeded", "I", 0x1, NULL, NULL },
    { "arcWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withDouble:withDouble:withDouble:withInt:", "arc", "V", 0x1, NULL, NULL },
    { "arcEllipseWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withDouble:withDouble:withDouble:withDouble:", "arcEllipse", "V", 0x1, NULL, NULL },
    { "hyperbolaBranchWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withDouble:withDouble:withDouble:withDouble:", "hyperbolaBranch", "V", 0x1, NULL, NULL },
    { "parabolaWithGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:withDouble:withDouble:withDouble:withGeogebraCommonKernelMatrixCoords:withGeogebraCommonKernelMatrixCoords:", "parabola", "V", 0x1, NULL, NULL },
    { "setThicknessWithInt:withFloat:", "setThickness", "F", 0x1, NULL, NULL },
    { "setThicknessWithFloat:", "setThickness", "V", 0x1, NULL, NULL },
    { "getThickness", NULL, "F", 0x1, NULL, NULL },
    { "setColorWithGeogebraCommonAwtGColor:withFloat:", "setColor", "V", 0x1, NULL, NULL },
    { "setColorWithGeogebraCommonAwtGColor:", "setColor", "V", 0x1, NULL, NULL },
    { "setCurvePosWithFloat:", "setCurvePos", "V", 0x1, NULL, NULL },
    { "addCurvePosWithFloat:", "addCurvePos", "V", 0x1, NULL, NULL },
    { "setAffineTextureWithFloat:withFloat:", "setAffineTexture", "V", 0x1, NULL, NULL },
    { "setPlainTexture", NULL, "V", 0x1, NULL, NULL },
    { "setTextureTypeWithInt:", "setTextureType", "V", 0x2, NULL, NULL },
    { "setTextureXWithFloat:withFloat:", "setTextureX", "V", 0x2, NULL, NULL },
    { "setTextureXWithFloat:", "setTextureX", "V", 0x2, NULL, NULL },
    { "setArrowTypeWithInt:", "setArrowType", "V", 0x1, NULL, NULL },
    { "setTicksWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum:", "setTicks", "V", 0x1, NULL, NULL },
    { "setTicksDistanceWithFloat:", "setTicksDistance", "V", 0x1, NULL, NULL },
    { "setTicksOffsetWithFloat:", "setTicksOffset", "V", 0x1, NULL, NULL },
    { "drawToWithDoubleArray:withBoolean:", "drawTo", "V", 0x1, NULL, NULL },
    { "lineToWithDoubleArray:", "lineTo", "V", 0x1, NULL, NULL },
    { "moveToWithDoubleArray:", "moveTo", "V", 0x1, NULL, NULL },
    { "corner", NULL, "V", 0x1, NULL, NULL },
    { "cornerWithDoubleArray:", "corner", "V", 0x1, NULL, NULL },
    { "firstPointWithDoubleArray:withGeogebraCommonEuclidianPlotCurvePlotter_GapEnum:", "firstPoint", "V", 0x1, NULL, NULL },
    { "newDoubleArray", NULL, "[D", 0x1, NULL, NULL },
    { "copyCoordsWithGeogebraCommonKernelMyPoint:withDoubleArray:", "copyCoords", "Z", 0x1, NULL, NULL },
    { "setLengthWithFloat:", "setLength", "V", 0x1, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "LINE3D_THICKNESS_", NULL, 0x19, "F", NULL, NULL, .constantValue.asFloat = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LINE3D_THICKNESS },
    { "manager_", NULL, 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.Manager;", NULL, NULL,  },
    { "index_", NULL, 0x2, "I", NULL, NULL,  },
    { "start__", "start", 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrushSection;", NULL, NULL,  },
    { "end__", "end", 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrushSection;", NULL, NULL,  },
    { "justStarted_", NULL, 0x2, "Z", NULL, NULL,  },
    { "notStarted_", NULL, 0x2, "Z", NULL, NULL,  },
    { "thickness_", NULL, 0x2, "F", NULL, NULL,  },
    { "lineThickness_", NULL, 0x2, "I", NULL, NULL,  },
    { "scale__", "scale", 0x2, "F", NULL, NULL,  },
    { "length_", NULL, 0x2, "F", NULL, NULL,  },
    { "red_", NULL, 0x2, "F", NULL, NULL,  },
    { "green_", NULL, 0x2, "F", NULL, NULL,  },
    { "blue_", NULL, 0x2, "F", NULL, NULL,  },
    { "alpha_", NULL, 0x2, "F", NULL, NULL,  },
    { "hasColor_", NULL, 0x2, "Z", NULL, NULL,  },
    { "texturePosZero_", NULL, 0x2, "F", NULL, NULL,  },
    { "textureValZero_", NULL, 0x2, "F", NULL, NULL,  },
    { "textureX_", NULL, 0x2, "[F", NULL, NULL,  },
    { "TEXTURE_CONSTANT_0_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0 },
    { "TEXTURE_ID_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_ID },
    { "TEXTURE_AFFINE_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE },
    { "TEXTURE_LINEAR_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR },
    { "textureTypeX_", NULL, 0x2, "I", NULL, NULL,  },
    { "textureTypeY_", NULL, 0x2, "I", NULL, NULL,  },
    { "TEXTURE_AFFINE_FACTOR_", NULL, 0x1a, "F", NULL, NULL, .constantValue.asFloat = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR },
    { "curvePos_", NULL, 0x2, "F", NULL, NULL,  },
    { "ARROW_TYPE_NONE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_NONE },
    { "ARROW_TYPE_SIMPLE_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_SIMPLE },
    { "ARROW_TYPE_CLOSED_", NULL, 0x19, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_CLOSED },
    { "arrowType_", NULL, 0x2, "I", NULL, NULL,  },
    { "ARROW_LENGTH_", NULL, 0xa, "F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_LENGTH_, NULL,  },
    { "ARROW_WIDTH_", NULL, 0xa, "F", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_WIDTH_, NULL,  },
    { "ticks_", NULL, 0x2, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;", NULL, NULL,  },
    { "ticksDistance_", NULL, 0x2, "F", NULL, NULL,  },
    { "ticksOffset_", NULL, 0x2, "F", NULL, NULL,  },
    { "curve_", NULL, 0x0, "Lgeogebra.common.kernel.geos.GeoCurveCartesian3DInterface;", NULL, NULL,  },
    { "LATITUDES_", NULL, 0x1a, "I", NULL, NULL, .constantValue.asInt = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_LATITUDES },
    { "COSINUS_", NULL, 0x1a, "[D", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_COSINUS_, NULL,  },
    { "SINUS_", NULL, 0x1a, "[D", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_SINUS_, NULL,  },
    { "drawNormal_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "drawPos_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "m_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "vn1_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "tmpCoords_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "tmpCoords2_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "tmpCoords3_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "tmpCoords4_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "f1_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "f2_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
    { "vn2_", NULL, 0x2, "Lgeogebra.common.kernel.Matrix.Coords;", NULL, NULL,  },
  };
  static const char *inner_classes[] = {"Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;"};
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush = { 2, "PlotterBrush", "geogebra.common.geogebra3D.euclidian3D.openGL", NULL, 0x1, 43, methods, 51, fields, 0, NULL, 1, inner_classes, NULL, NULL };
  return &_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager) {
  NSObject_init(self);
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_start__(self, new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_init());
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_end__(self, new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_init());
  self->justStarted_ = NO;
  self->notStarted_ = NO;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_textureX_(self, [IOSFloatArray newArrayWithLength:2]);
  self->textureTypeX_ = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_ID;
  self->textureTypeY_ = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0;
  self->arrowType_ = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_ARROW_TYPE_NONE;
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_ticks_(self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_get_NONE());
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_drawNormal_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_drawPos_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_m_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_vn1_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_tmpCoords_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_tmpCoords2_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_tmpCoords3_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_tmpCoords4_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_f1_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(4));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_f2_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(4));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setAndConsume_vn2_(self, new_GeogebraCommonKernelMatrixCoords_initWithInt_(3));
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_manager_(self, manager);
}

GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *manager) {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self = [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush alloc];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_initWithGeogebraCommonGeogebra3DEuclidian3DOpenGLManager_(self, manager);
  return self;
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_downWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *point, GeogebraCommonKernelMatrixCoords *clockU, GeogebraCommonKernelMatrixCoords *clockV) {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(self->start__)) setWithGeogebraCommonKernelMatrixCoords:point withFloat:self->thickness_ withGeogebraCommonKernelMatrixCoords:clockU withGeogebraCommonKernelMatrixCoords:clockV];
  self->justStarted_ = YES;
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_moveToWithGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_withGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *point, GeogebraCommonKernelMatrixCoords *clockU, GeogebraCommonKernelMatrixCoords *clockV) {
  if (self->justStarted_) {
    self->justStarted_ = NO;
  }
  else {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *tmp = self->start__;
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_start__(self, self->end__);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_set_end__(self, tmp);
  }
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(self->end__)) setWithGeogebraCommonKernelMatrixCoords:point withFloat:self->thickness_ withGeogebraCommonKernelMatrixCoords:clockU withGeogebraCommonKernelMatrixCoords:clockV];
  [self join];
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_drawWithGeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection_withDouble_withDouble_withInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *s, jdouble u, jdouble v, jint texture) {
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrushSection *) nil_chk(s)) getNormalAndPositionWithDouble:u withDouble:v withGeogebraCommonKernelMatrixCoords:self->drawNormal_ withGeogebraCommonKernelMatrixCoords:self->drawPos_];
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(self->manager_)) normalWithGeogebraCommonKernelMatrixCoords:self->drawNormal_];
  jfloat pos = IOSFloatArray_Get(nil_chk(self->textureX_), texture);
  {
    jfloat factor;
    switch (self->textureTypeX_) {
      case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_ID:
      default:
      [self->manager_ textureWithDouble:pos withDouble:0];
      break;
      case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_CONSTANT_0:
      [self->manager_ textureWithDouble:0 withDouble:0];
      break;
      case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE:
      factor = (GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR * self->length_ * self->scale__);
      [self->manager_ textureWithDouble:factor * (pos - self->texturePosZero_) + self->textureValZero_ withDouble:0];
      break;
      case GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_LINEAR:
      [self->manager_ textureWithDouble:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TEXTURE_AFFINE_FACTOR * self->scale__ * pos withDouble:0];
      break;
    }
  }
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_vertexWithGeogebraCommonKernelMatrixCoords_(self, self->drawPos_);
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_vertexWithGeogebraCommonKernelMatrixCoords_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, GeogebraCommonKernelMatrixCoords *v) {
  if (self->hasColor_) {
    [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(self->manager_)) colorWithDouble:self->red_ withDouble:self->green_ withDouble:self->blue_ withDouble:self->alpha_];
  }
  [((GeogebraCommonGeogebra3DEuclidian3DOpenGLManager *) nil_chk(self->manager_)) vertexWithGeogebraCommonKernelMatrixCoords:v];
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureTypeWithInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jint type) {
  self->textureTypeX_ = type;
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jfloat x0, jfloat x1) {
  *IOSFloatArray_GetRef(nil_chk(self->textureX_), 0) = x0;
  *IOSFloatArray_GetRef(self->textureX_, 1) = x1;
}

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush *self, jfloat x) {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_setTextureXWithFloat_withFloat_(self, IOSFloatArray_Get(nil_chk(self->textureX_), 1), x);
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush)

J2OBJC_INITIALIZED_DEFN(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum)

GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_values_[3];

@implementation GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum

- (instancetype)initWithNSString:(NSString *)__name
                         withInt:(jint)__ordinal {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

IOSObjectArray *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_values() {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initialize();
  return [IOSObjectArray arrayWithObjects:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_values_ count:3 type:GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_class_()];
}

+ (IOSObjectArray *)values {
  return GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_values();
}

+ (GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *)valueOfWithNSString:(NSString *)name {
  return GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_valueOfWithNSString_(name);
}

GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_valueOfWithNSString_(NSString *name) {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initialize();
  for (int i = 0; i < 3; i++) {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *e = GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[[JavaLangIllegalArgumentException alloc] initWithNSString:name] autorelease];
  return nil;
}

- (id)copyWithZone:(NSZone *)zone {
  return [self retain];
}

+ (void)initialize {
  if (self == [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum class]) {
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_NONE = new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(@"NONE", 0);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_MAJOR = new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(@"MAJOR", 1);
    GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_MAJOR_AND_MINOR = new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(@"MAJOR_AND_MINOR", 2);
    J2OBJC_SET_INITIALIZED(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcFieldInfo fields[] = {
    { "NONE", "NONE", 0x4019, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_NONE, NULL,  },
    { "MAJOR", "MAJOR", 0x4019, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_MAJOR, NULL,  },
    { "MAJOR_AND_MINOR", "MAJOR_AND_MINOR", 0x4019, "Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;", &GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_MAJOR_AND_MINOR, NULL,  },
  };
  static const char *superclass_type_args[] = {"Lgeogebra.common.geogebra3D.euclidian3D.openGL.PlotterBrush$Ticks;"};
  static const J2ObjcClassInfo _GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum = { 2, "Ticks", "geogebra.common.geogebra3D.euclidian3D.openGL", "PlotterBrush", 0x4019, 0, NULL, 3, fields, 1, superclass_type_args, 0, NULL, NULL, "Ljava/lang/Enum<Lgeogebra/common/geogebra3D/euclidian3D/openGL/PlotterBrush$Ticks;>;" };
  return &_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum;
}

@end

void GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *new_GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(NSString *__name, jint __ordinal) {
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum *self = [GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum alloc];
  GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum_initWithNSString_withInt_(self, __name, __ordinal);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonGeogebra3DEuclidian3DOpenGLPlotterBrush_TicksEnum)

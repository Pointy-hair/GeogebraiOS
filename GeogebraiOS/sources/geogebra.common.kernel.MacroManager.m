//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/jacky/GSoC/geogebra_iOS/geogebra/geogebra/common/src/geogebra/common/kernel/MacroManager.java
//


#include "J2ObjC_source.h"
#include "geogebra/common/kernel/Construction.h"
#include "geogebra/common/kernel/Macro.h"
#include "geogebra/common/kernel/MacroManager.h"
#include "geogebra/common/main/App.h"
#include "geogebra/common/util/StringUtil.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"

@interface GeogebraCommonKernelMacroManager () {
 @public
  JavaUtilHashMap *macroMap_;
  JavaUtilArrayList *macroList_;
}

@end

J2OBJC_FIELD_SETTER(GeogebraCommonKernelMacroManager, macroMap_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(GeogebraCommonKernelMacroManager, macroList_, JavaUtilArrayList *)

@implementation GeogebraCommonKernelMacroManager

- (instancetype)initWithGeogebraCommonMainApp:(GeogebraCommonMainApp *)app {
  GeogebraCommonKernelMacroManager_initWithGeogebraCommonMainApp_(self, app);
  return self;
}

- (void)addMacroWithGeogebraCommonKernelMacro:(GeogebraCommonKernelMacro *)macro {
  [((JavaUtilHashMap *) nil_chk(macroMap_)) putWithId:GeogebraCommonUtilStringUtil_toLowerCaseWithNSString_([((GeogebraCommonKernelMacro *) nil_chk(macro)) getCommandName]) withId:macro];
  [((JavaUtilArrayList *) nil_chk(macroList_)) addWithId:macro];
}

- (GeogebraCommonKernelMacro *)getMacroWithNSString:(NSString *)name {
  return [((JavaUtilHashMap *) nil_chk(macroMap_)) getWithId:GeogebraCommonUtilStringUtil_toLowerCaseWithNSString_(name)];
}

- (void)removeMacroWithGeogebraCommonKernelMacro:(GeogebraCommonKernelMacro *)macro {
  [((JavaUtilHashMap *) nil_chk(macroMap_)) removeWithId:GeogebraCommonUtilStringUtil_toLowerCaseWithNSString_([((GeogebraCommonKernelMacro *) nil_chk(macro)) getCommandName])];
  [((JavaUtilArrayList *) nil_chk(macroList_)) removeWithId:macro];
}

- (void)removeAllMacros {
  [((JavaUtilHashMap *) nil_chk(macroMap_)) clear];
  [((JavaUtilArrayList *) nil_chk(macroList_)) clear];
}

- (void)setMacroCommandNameWithGeogebraCommonKernelMacro:(GeogebraCommonKernelMacro *)macro
                                            withNSString:(NSString *)cmdName {
  [((JavaUtilHashMap *) nil_chk(macroMap_)) removeWithId:GeogebraCommonUtilStringUtil_toLowerCaseWithNSString_([((GeogebraCommonKernelMacro *) nil_chk(macro)) getCommandName])];
  [macro setCommandNameWithNSString:cmdName];
  [macroMap_ putWithId:GeogebraCommonUtilStringUtil_toLowerCaseWithNSString_([macro getCommandName]) withId:macro];
}

- (GeogebraCommonKernelMacro *)getMacroWithInt:(jint)i {
  return [((JavaUtilArrayList *) nil_chk(macroList_)) getWithInt:i];
}

- (jint)getMacroIDWithGeogebraCommonKernelMacro:(GeogebraCommonKernelMacro *)macro {
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(macroList_)) size]; i++) {
    if (macro == [macroList_ getWithInt:i]) return i;
  }
  return -1;
}

- (void)setAllMacrosUnused {
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(macroList_)) size]; i++) {
    [((GeogebraCommonKernelMacro *) nil_chk([macroList_ getWithInt:i])) setUnused];
  }
}

- (jint)getMacroNumber {
  return [((JavaUtilArrayList *) nil_chk(macroList_)) size];
}

- (JavaUtilArrayList *)getAllMacros {
  return macroList_;
}

- (void)notifyEuclidianViewCE {
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(macroList_)) size]; i++) {
    GeogebraCommonKernelMacro *macro = [macroList_ getWithInt:i];
    [((GeogebraCommonKernelConstruction *) nil_chk([((GeogebraCommonKernelMacro *) nil_chk(macro)) getMacroConstruction])) notifyEuclidianViewCEWithBoolean:NO];
  }
}

+ (NSString *)getMacroXMLWithJavaUtilArrayList:(JavaUtilArrayList *)macros {
  return GeogebraCommonKernelMacroManager_getMacroXMLWithJavaUtilArrayList_(macros);
}

- (void)dealloc {
  RELEASE_(macroMap_);
  RELEASE_(macroList_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithGeogebraCommonMainApp:", "MacroManager", NULL, 0x1, NULL, NULL },
    { "addMacroWithGeogebraCommonKernelMacro:", "addMacro", "V", 0x1, NULL, NULL },
    { "getMacroWithNSString:", "getMacro", "Lgeogebra.common.kernel.Macro;", 0x1, NULL, NULL },
    { "removeMacroWithGeogebraCommonKernelMacro:", "removeMacro", "V", 0x1, NULL, NULL },
    { "removeAllMacros", NULL, "V", 0x1, NULL, NULL },
    { "setMacroCommandNameWithGeogebraCommonKernelMacro:withNSString:", "setMacroCommandName", "V", 0x1, NULL, NULL },
    { "getMacroWithInt:", "getMacro", "Lgeogebra.common.kernel.Macro;", 0x1, NULL, NULL },
    { "getMacroIDWithGeogebraCommonKernelMacro:", "getMacroID", "I", 0x1, NULL, NULL },
    { "setAllMacrosUnused", NULL, "V", 0x1, NULL, NULL },
    { "getMacroNumber", NULL, "I", 0x1, NULL, NULL },
    { "getAllMacros", NULL, "Ljava.util.ArrayList;", 0x1, NULL, NULL },
    { "notifyEuclidianViewCE", NULL, "V", 0x11, NULL, NULL },
    { "getMacroXMLWithJavaUtilArrayList:", "getMacroXML", "Ljava.lang.String;", 0x9, NULL, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "macroMap_", NULL, 0x2, "Ljava.util.HashMap;", NULL, "Ljava/util/HashMap<Ljava/lang/String;Lgeogebra/common/kernel/Macro;>;",  },
    { "macroList_", NULL, 0x2, "Ljava.util.ArrayList;", NULL, "Ljava/util/ArrayList<Lgeogebra/common/kernel/Macro;>;",  },
  };
  static const J2ObjcClassInfo _GeogebraCommonKernelMacroManager = { 2, "MacroManager", "geogebra.common.kernel", NULL, 0x1, 13, methods, 2, fields, 0, NULL, 0, NULL, NULL, NULL };
  return &_GeogebraCommonKernelMacroManager;
}

@end

void GeogebraCommonKernelMacroManager_initWithGeogebraCommonMainApp_(GeogebraCommonKernelMacroManager *self, GeogebraCommonMainApp *app) {
  NSObject_init(self);
  GeogebraCommonKernelMacroManager_setAndConsume_macroMap_(self, new_JavaUtilHashMap_init());
  GeogebraCommonKernelMacroManager_setAndConsume_macroList_(self, new_JavaUtilArrayList_init());
}

GeogebraCommonKernelMacroManager *new_GeogebraCommonKernelMacroManager_initWithGeogebraCommonMainApp_(GeogebraCommonMainApp *app) {
  GeogebraCommonKernelMacroManager *self = [GeogebraCommonKernelMacroManager alloc];
  GeogebraCommonKernelMacroManager_initWithGeogebraCommonMainApp_(self, app);
  return self;
}

NSString *GeogebraCommonKernelMacroManager_getMacroXMLWithJavaUtilArrayList_(JavaUtilArrayList *macros) {
  GeogebraCommonKernelMacroManager_initialize();
  if (macros == nil) return @"";
  JavaLangStringBuilder *sb = [new_JavaLangStringBuilder_init() autorelease];
  for (jint i = 0; i < [((JavaUtilArrayList *) nil_chk(macros)) size]; i++) {
    [((GeogebraCommonKernelMacro *) nil_chk([macros getWithInt:i])) getXMLWithJavaLangStringBuilder:sb];
  }
  return [sb description];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(GeogebraCommonKernelMacroManager)
